"use strict";(self.webpackChunkcbc_lavanderia_frontend=self.webpackChunkcbc_lavanderia_frontend||[]).push([[179],{560:($i,Nn,Fe)=>{Fe.d(Nn,{$:()=>au,A:()=>oe,E:()=>Ct,J:()=>kv,K:()=>Ks,M:()=>_o,P:()=>$g,Q:()=>Z,R:()=>tI,U:()=>ea,V:()=>Bv,W:()=>jv,X:()=>yo,Y:()=>ou,Z:()=>ft,_:()=>wc,a:()=>Pg,a0:()=>cu,a1:()=>Cg,a2:()=>Dg,a3:()=>Hv,a4:()=>Be,a5:()=>vt,a6:()=>yr,a7:()=>xr,a8:()=>Tg,a9:()=>zv,aA:()=>Pt,aB:()=>re,aC:()=>Zg,aD:()=>v,aE:()=>Ie,aF:()=>zc,aG:()=>Gg,aH:()=>sI,aI:()=>yt,aM:()=>Mi,aP:()=>cr,aa:()=>pn,ab:()=>ye,ac:()=>Qt,ad:()=>Pi,ae:()=>wn,af:()=>na,ag:()=>du,aj:()=>hu,ak:()=>eo,al:()=>fu,ao:()=>Eg,ap:()=>ro,ar:()=>Sb,as:()=>Mb,at:()=>Gt,au:()=>R,av:()=>Un,aw:()=>at,ax:()=>pa,ay:()=>oo,az:()=>se,b:()=>hh,c:()=>ti,d:()=>$o,e:()=>iI,f:()=>ha,g:()=>ee,h:()=>uI,i:()=>kg,j:()=>Rt,k:()=>Eu,l:()=>nI,m:()=>rm,o:()=>DI,p:()=>zt,r:()=>jg,s:()=>ei,u:()=>rI});var C=Fe(861),H=Fe(58),x=Fe(534),Se=Fe(879),wt=Fe(582),tn=Fe(537);const zt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ct=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},On=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new Se.Yd("@firebase/auth");function hn(f,...c){He.logLevel<=Se.in.ERROR&&He.error(`Auth (${x.SDK_VERSION}): ${f}`,...c)}function at(f,...c){throw tt(f,...c)}function Pt(f,...c){return tt(f,...c)}function Gr(f,c,d){const p=Object.assign(Object.assign({},On()),{[c]:d});return new H.LL("auth","Firebase",p).create(c,{appName:f.name})}function Tn(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&at(f,"argument-error"),Gr(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return lt.create(f,...c)}function re(f,c,...d){if(!f)throw tt(c,...d)}function ht(f){const c="INTERNAL ASSERTION FAILED: "+f;throw hn(c),new Error(c)}function Gt(f,c){f||ht(c)}function fn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function vn(){return"http:"===Ci()||"https:"===Ci()}function Ci(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Wr{constructor(c,d){this.shortDelay=c,this.longDelay=d,Gt(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Di(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vn()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hi(f,c){Gt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class L{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$=new Wr(3e4,6e4);function F(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function X(f,c,d,p){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(f,c,d,p,_={}){return fe(f,_,(0,C.Z)(function*(){let E={},P={};p&&("GET"===c?P=p:E={body:JSON.stringify(p)});const V=(0,H.xO)(Object.assign({key:f.config.apiKey},P)).slice(1),ne=yield f._getAdditionalHeaders();return ne["Content-Type"]="application/json",f.languageCode&&(ne["X-Firebase-Locale"]=f.languageCode),L.fetch()(mt(f,f.config.apiHost,d,V),Object.assign({method:c,headers:ne,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function fe(f,c,d){return st.apply(this,arguments)}function st(){return(st=(0,C.Z)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},j),c);try{const _=new Ut(f),E=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const P=yield E.json();if("needConfirmation"in P)throw nn(f,"account-exists-with-different-credential",P);if(E.ok&&!("errorMessage"in P))return P;{const V=E.ok?P.errorMessage:P.error.message,[ne,we]=V.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ne)throw nn(f,"credential-already-in-use",P);if("EMAIL_EXISTS"===ne)throw nn(f,"email-already-in-use",P);if("USER_DISABLED"===ne)throw nn(f,"user-disabled",P);const Oe=p[ne]||ne.toLowerCase().replace(/[_\s]+/g,"-");if(we)throw Gr(f,Oe,we);at(f,Oe)}}catch(_){if(_ instanceof H.ZR)throw _;at(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function ge(f,c,d,p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,C.Z)(function*(f,c,d,p,_={}){const E=yield X(f,c,d,p,_);return"mfaPendingCredential"in E&&at(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function mt(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?Hi(f.config,_):`${f.config.apiScheme}://${_}`}function Kt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ut{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Pt(this.auth,"network-request-failed")),$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Pt(f,c,p);return _.customData._tokenResponse=d,_}function Vn(f){return void 0!==f&&void 0!==f.getResponse}function Fn(f){return void 0!==f&&void 0!==f.enterprise}class Jn{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return Kt(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Ti(){return(Ti=(0,C.Z)(function*(f){return(yield X(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zi(f,c){return _t.apply(this,arguments)}function _t(){return(_t=(0,C.Z)(function*(f,c){return X(f,"GET","/v2/recaptchaConfig",F(f,c))})).apply(this,arguments)}function Gi(){return(Gi=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ai(){return(Ai=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Zr(){return(Zr=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Kr(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Mt(){return(Mt=(0,C.Z)(function*(f,c=!1){const d=(0,H.m9)(f),p=yield d.getIdToken(c),_=In(p);re(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const E="object"==typeof _.firebase?_.firebase:void 0,P=E?.sign_in_provider;return{claims:_,token:p,authTime:Kr(Yr(_.auth_time)),issuedAtTime:Kr(Yr(_.iat)),expirationTime:Kr(Yr(_.exp)),signInProvider:P||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function Yr(f){return 1e3*Number(f)}function In(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return hn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,H.tV)(d);return _?JSON.parse(_):(hn("Failed to decode base64 JWT payload"),null)}catch(_){return hn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function rn(f,c){return En.apply(this,arguments)}function En(){return(En=(0,C.Z)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof H.ZR&&function Wi({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Zi{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,C.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class Si{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kr(this.lastLoginAt),this.creationTime=Kr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ln(f){return bn.apply(this,arguments)}function bn(){return bn=(0,C.Z)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield rn(f,function ar(f,c){return Zr.apply(this,arguments)}(d,{idToken:p}));re(_?.users.length,d,"internal-error");const E=_.users[0];f._notifyReloadListener(E);const P=null!==(c=E.providerUserInfo)&&void 0!==c&&c.length?function No(f){return f.map(c=>{var{providerId:d}=c,p=(0,wt._T)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(E.providerUserInfo):[],V=function Zs(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,P),Oe=!!f.isAnonymous&&!(f.email&&E.passwordHash||V?.length),dt={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:V,metadata:new Si(E.createdAt,E.lastLoginAt),isAnonymous:Oe};Object.assign(f,dt)}),bn.apply(this,arguments)}function Jr(){return(Jr=(0,C.Z)(function*(f){const c=(0,H.m9)(f);yield Ln(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ki(){return(Ki=(0,C.Z)(function*(f,c){const d=yield fe(f,{},(0,C.Z)(function*(){const p=(0,H.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:E}=f.config,P=mt(f,_,"/v1/token",`key=${E}`),V=yield f._getAdditionalHeaders();return V["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(P,{method:"POST",headers:V,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class A{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){re(c.idToken,"internal-error"),re(typeof c.idToken<"u","internal-error"),re(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Ja(f){const c=In(f);return re(c,"internal-error"),re(typeof c.exp<"u","internal-error"),re(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,C.Z)(function*(){return re(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:E,expiresIn:P}=yield function ps(f,c){return Ki.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,E,Number(P))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:E}=d,P=new A;return p&&(re("string"==typeof p,"internal-error",{appName:c}),P.refreshToken=p),_&&(re("string"==typeof _,"internal-error",{appName:c}),P.accessToken=_),E&&(re("number"==typeof E,"internal-error",{appName:c}),P.expirationTime=E),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new A,this.toJSON())}_performRefresh(){return ht("not implemented")}}function T(f,c){re("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class I{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,E=(0,wt._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new Si(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,C.Z)(function*(){const p=yield rn(d,d.stsTokenManager.getToken(d.auth,c));return re(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function Xn(f){return Mt.apply(this,arguments)}(this,c)}reload(){return function ur(f){return Jr.apply(this,arguments)}(this)}_assign(c){this!==c&&(re(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new I(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,C.Z)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield Ln(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,C.Z)(function*(){const d=yield c.getIdToken();return yield rn(c,function qi(f,c){return Gi.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,E,P,V,ne,we,Oe;const dt=null!==(p=d.displayName)&&void 0!==p?p:void 0,er=null!==(_=d.email)&&void 0!==_?_:void 0,ao=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,Xc=null!==(P=d.photoURL)&&void 0!==P?P:void 0,kh=null!==(V=d.tenantId)&&void 0!==V?V:void 0,el=null!==(ne=d._redirectEventId)&&void 0!==ne?ne:void 0,Vh=null!==(we=d.createdAt)&&void 0!==we?we:void 0,Fh=null!==(Oe=d.lastLoginAt)&&void 0!==Oe?Oe:void 0,{uid:Lh,emailVerified:Cu,isAnonymous:zo,providerData:Uh,stsTokenManager:Bh}=d;re(Lh&&Bh,c,"internal-error");const im=A.fromJSON(this.name,Bh);re("string"==typeof Lh,c,"internal-error"),T(dt,c.name),T(er,c.name),re("boolean"==typeof Cu,c,"internal-error"),re("boolean"==typeof zo,c,"internal-error"),T(ao,c.name),T(Xc,c.name),T(kh,c.name),T(el,c.name),T(Vh,c.name),T(Fh,c.name);const Cs=new I({uid:Lh,auth:c,email:er,emailVerified:Cu,displayName:dt,isAnonymous:zo,photoURL:Xc,phoneNumber:ao,tenantId:kh,stsTokenManager:im,createdAt:Vh,lastLoginAt:Fh});return Uh&&Array.isArray(Uh)&&(Cs.providerData=Uh.map(TI=>Object.assign({},TI))),el&&(Cs._redirectEventId=el),Cs}static _fromIdTokenResponse(c,d,p=!1){return(0,C.Z)(function*(){const _=new A;_.updateFromServerResponse(d);const E=new I({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Ln(E),E})()}}const w=new Map;function v(f){Gt(f instanceof Function,"Expected a class definition");let c=w.get(f);return c?(Gt(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,w.set(f,c),c)}const Z=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,C.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,C.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Ie(f,c,d){return`firebase:${f}:${c}:${d}`}class Ce{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:E}=this.auth;this.fullUserKey=Ie(this.userKey,_.apiKey,E),this.fullPersistenceKey=Ie("persistence",_.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,C.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?I._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,C.Z)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,C.Z)(function*(){if(!d.length)return new Ce(v(Z),c,p);const _=(yield Promise.all(d.map(function(){var we=(0,C.Z)(function*(Oe){if(yield Oe._isAvailable())return Oe});return function(Oe){return we.apply(this,arguments)}}()))).filter(we=>we);let E=_[0]||v(Z);const P=Ie(p,c.config.apiKey,c.name);let V=null;for(const we of d)try{const Oe=yield we._get(P);if(Oe){const dt=I._fromJSON(c,Oe);we!==E&&(V=dt),E=we;break}}catch{}const ne=_.filter(we=>we._shouldAllowMigration);return E._shouldAllowMigration&&ne.length?(E=ne[0],V&&(yield E._set(P,V.toJSON())),yield Promise.all(d.map(function(){var we=(0,C.Z)(function*(Oe){if(Oe!==E)try{yield Oe._remove(P)}catch{}});return function(Oe){return we.apply(this,arguments)}}())),new Ce(E,c,p)):new Ce(E,c,p)})()}}function ze(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(xe(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(St(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(gs(c))return"Blackberry";if(k(c))return"Webos";if(_e(c))return"Safari";if((c.includes("chrome/")||kt(c))&&!c.includes("edge/"))return"Chrome";if(Un(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function St(f=(0,H.z$)()){return/firefox\//i.test(f)}function _e(f=(0,H.z$)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function kt(f=(0,H.z$)()){return/crios\//i.test(f)}function xe(f=(0,H.z$)()){return/iemobile/i.test(f)}function Un(f=(0,H.z$)()){return/android/i.test(f)}function gs(f=(0,H.z$)()){return/blackberry/i.test(f)}function k(f=(0,H.z$)()){return/webos/i.test(f)}function R(f=(0,H.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function se(f=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function it(f=(0,H.z$)()){return R(f)||Un(f)||k(f)||gs(f)||/windows phone/i.test(f)||xe(f)}function An(f,c=[]){let d;switch(f){case"Browser":d=ze((0,H.z$)());break;case"Worker":d=`${ze((0,H.z$)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${x.SDK_VERSION}/${p}`}class be{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=E=>new Promise((P,V)=>{try{P(c(E))}catch(ne){V(ne)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const E of p)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function ms(){return(ms=(0,C.Z)(function*(f,c={}){return X(f,"GET","/v2/passwordPolicy",F(f,c))})).apply(this,arguments)}class Mv{constructor(c){var d,p,_,E;const P=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=P.minPasswordLength)&&void 0!==d?d:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(E=c.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,E,P,V;const ne={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,ne),this.validatePasswordCharacterOptions(c,ne),ne.isValid&&(ne.isValid=null===(d=ne.meetsMinPasswordLength)||void 0===d||d),ne.isValid&&(ne.isValid=null===(p=ne.meetsMaxPasswordLength)||void 0===p||p),ne.isValid&&(ne.isValid=null===(_=ne.containsLowercaseLetter)||void 0===_||_),ne.isValid&&(ne.isValid=null===(E=ne.containsUppercaseLetter)||void 0===E||E),ne.isValid&&(ne.isValid=null===(P=ne.containsNumericCharacter)||void 0===P||P),ne.isValid&&(ne.isValid=null===(V=ne.containsNonAlphanumericCharacter)||void 0===V||V),ne}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,E){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=E))}}class $d{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=v(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,E;if(!p._deleted&&(p.persistenceManager=yield Ce.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(E=p.currentUser)||void 0===E?void 0:E.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,C.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,C.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let E=_,P=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const V=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,ne=E?._redirectEventId,we=yield d.tryRedirectSignIn(c);(!V||V===ne)&&we?.user&&(E=we.user,P=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(P)try{yield d.beforeStateQueue.runMiddleware(E)}catch(V){E=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(V))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return re(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(c){var d=this;return(0,C.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,C.Z)(function*(){try{yield Ln(c)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,C.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,C.Z)(function*(){const p=c?(0,H.m9)(c):null;return p&&re(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,C.Z)(function*(){if(!p._deleted)return c&&re(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,C.Z)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,C.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(v(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,C.Z)(function*(){const d=yield function ut(f){return ms.apply(this,arguments)}(c),p=new Mv(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new H.LL("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,C.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const p=c&&v(c)||d._popupRedirectResolver;re(p,d,"argument-error"),d.redirectPersistenceManager=yield Ce.create(d,[v(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,C.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,C.Z)(function*(){if(c===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let P=!1;const V=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(V,this,"internal-error"),V.then(()=>{P||E(this.currentUser)}),"function"==typeof d){const ne=c.addObserver(d,p,_);return()=>{P=!0,ne()}}{const ne=c.addObserver(d);return()=>{P=!0,ne()}}}directlySetCurrentUser(c){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,C.Z)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const E=yield c._getAppCheckToken();return E&&(p["X-Firebase-AppCheck"]=E),p})()}_getAppCheckToken(){var c=this;return(0,C.Z)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function kn(f,...c){He.logLevel<=Se.in.WARN&&He.warn(`Auth (${x.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function yt(f){return(0,H.m9)(f)}class xv{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,H.ne)(d=>this.observer=d)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fg(f){return new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const E=Pt("internal-error");E.customData=_,d(E)},p.type="text/javascript",p.charset="UTF-8",function Nv(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)})}function Oo(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Ov{constructor(c){this.type="recaptcha-enterprise",this.auth=yt(c)}verify(c="verify",d=!1){var p=this;return(0,C.Z)(function*(){function E(){return E=(0,C.Z)(function*(V){if(!d){if(null==V.tenantId&&null!=V._agentRecaptchaConfig)return V._agentRecaptchaConfig.siteKey;if(null!=V.tenantId&&void 0!==V._tenantRecaptchaConfigs[V.tenantId])return V._tenantRecaptchaConfigs[V.tenantId].siteKey}return new Promise(function(){var ne=(0,C.Z)(function*(we,Oe){zi(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dt=>{if(void 0!==dt.recaptchaKey){const er=new Jn(dt);return null==V.tenantId?V._agentRecaptchaConfig=er:V._tenantRecaptchaConfigs[V.tenantId]=er,we(er.siteKey)}Oe(new Error("recaptcha Enterprise site key undefined"))}).catch(dt=>{Oe(dt)})});return function(we,Oe){return ne.apply(this,arguments)}}())}),E.apply(this,arguments)}function P(V,ne,we){const Oe=window.grecaptcha;Fn(Oe)?Oe.enterprise.ready(()=>{Oe.enterprise.execute(V,{action:c}).then(dt=>{ne(dt)}).catch(()=>{ne("NO_RECAPTCHA")})}):we(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,ne)=>{(function _(V){return E.apply(this,arguments)})(p.auth).then(we=>{if(!d&&Fn(window.grecaptcha))P(we,V,ne);else{if(typeof window>"u")return void ne(new Error("RecaptchaVerifier is only supported in browser"));fg("https://www.google.com/recaptcha/enterprise.js?render="+we).then(()=>{P(we,V,ne)}).catch(Oe=>{ne(Oe)})}}).catch(we=>{ne(we)})})})()}}function pg(f,c,d){return gg.apply(this,arguments)}function gg(){return(gg=(0,C.Z)(function*(f,c,d,p=!1){const _=new Ov(f);let E;try{E=yield _.verify(d)}catch{E=yield _.verify(d,!0)}const P=Object.assign({},c);return Object.assign(P,p?{captchaResp:E}:{captchaResponse:E}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function pc(f,c,d,p){return mg.apply(this,arguments)}function mg(){return mg=(0,C.Z)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield pg(f,c,d,"getOobCode"===d);return p(f,E)}return p(f,c).catch(function(){var E=(0,C.Z)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const V=yield pg(f,c,d,"getOobCode"===d);return p(f,V)}return Promise.reject(P)});return function(P){return E.apply(this,arguments)}}())}),mg.apply(this,arguments)}function kv(f,c,d){const p=yt(f);re(p._canInitEmulator,p,"emulator-config-failed"),re(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,E=Pe(c),{host:P,port:V}=function wb(f){const c=Pe(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const E=_[1];return{host:E,port:Kn(p.substr(E.length+1))}}{const[E,P]=p.split(":");return{host:E,port:Kn(P)}}}(c);p.config.emulator={url:`${E}//${P}${null===V?"":`:${V}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:P,port:V,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function gc(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function Pe(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Kn(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Ks{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return ht("not implemented")}_getIdTokenResponse(c){return ht("not implemented")}_linkToIdToken(c,d){return ht("not implemented")}_getReauthenticationResolver(c){return ht("not implemented")}}function Hd(f,c){return zd.apply(this,arguments)}function zd(){return(zd=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:resetPassword",F(f,c))})).apply(this,arguments)}function Xa(f,c){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function mc(){return(mc=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",F(f,c))})).apply(this,arguments)}function Vv(f,c){return ot.apply(this,arguments)}function ot(){return(ot=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signInWithPassword",F(f,c))})).apply(this,arguments)}function Ys(f,c){return _c.apply(this,arguments)}function _c(){return(_c=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:sendOobCode",F(f,c))})).apply(this,arguments)}function yc(){return(yc=(0,C.Z)(function*(f,c){return Ys(f,c)})).apply(this,arguments)}function Cb(f,c){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,C.Z)(function*(f,c){return Ys(f,c)})).apply(this,arguments)}function Db(f,c){return _g.apply(this,arguments)}function _g(){return(_g=(0,C.Z)(function*(f,c){return Ys(f,c)})).apply(this,arguments)}function eu(){return(eu=(0,C.Z)(function*(f,c){return Ys(f,c)})).apply(this,arguments)}function tu(){return(tu=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signInWithEmailLink",F(f,c))})).apply(this,arguments)}function nu(){return(nu=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signInWithEmailLink",F(f,c))})).apply(this,arguments)}class vc extends Ks{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new vc(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new vc(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return pc(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vv);case"emailLink":return function yg(f,c){return tu.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:at(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,C.Z)(function*(){switch(p.signInMethod){case"password":return Xa(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Fv(f,c){return nu.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:at(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function ko(f,c){return vg.apply(this,arguments)}function vg(){return(vg=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signInWithIdp",F(f,c))})).apply(this,arguments)}class _o extends Ks{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new _o(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):at("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,E=(0,wt._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const P=new _o(p,_);return P.idToken=E.idToken||void 0,P.accessToken=E.accessToken||void 0,P.secret=E.secret,P.nonce=E.nonce,P.pendingToken=E.pendingToken||null,P}_getIdTokenResponse(c){return ko(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,ko(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,ko(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,H.xO)(d)}return c}}function iu(){return(iu=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:sendVerificationCode",F(f,c))})).apply(this,arguments)}function Wd(){return(Wd=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signInWithPhoneNumber",F(f,c))})).apply(this,arguments)}function Zd(){return(Zd=(0,C.Z)(function*(f,c){const d=yield ge(f,"POST","/v1/accounts:signInWithPhoneNumber",F(f,c));if(d.temporaryProof)throw nn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Ig={USER_NOT_FOUND:"user-not-found"};function Kd(){return(Kd=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signInWithPhoneNumber",F(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Ig)})).apply(this,arguments)}class Mr extends Ks{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Mr({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Mr({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function Ic(f,c){return Wd.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Lv(f,c){return Zd.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Js(f,c){return Kd.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:E}=c;return p||d||_||E?new Mr({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:E}):null}}class Xs{constructor(c){var d,p,_,E,P,V;const ne=(0,H.zd)((0,H.pd)(c)),we=null!==(d=ne.apiKey)&&void 0!==d?d:null,Oe=null!==(p=ne.oobCode)&&void 0!==p?p:null,dt=function Uv(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=ne.mode)&&void 0!==_?_:null);re(we&&Oe&&dt,"argument-error"),this.apiKey=we,this.operation=dt,this.code=Oe,this.continueUrl=null!==(E=ne.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(P=ne.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(V=ne.tenantId)&&void 0!==V?V:null}static parseLink(c){const d=function ce(f){const c=(0,H.zd)((0,H.pd)(f)).link,d=c?(0,H.zd)((0,H.pd)(c)).deep_link_id:null,p=(0,H.zd)((0,H.pd)(f)).deep_link_id;return(p?(0,H.zd)((0,H.pd)(p)).link:null)||p||d||c||f}(c);try{return new Xs(d)}catch{return null}}}let ea=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return vc._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Xs.parseLink(p);return re(_,"argument-error"),vc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Ri{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Qi extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class ou extends Qi{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return re("providerId"in d&&"signInMethod"in d,"argument-error"),_o._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return re(c.idToken||c.accessToken,"argument-error"),_o._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return ou.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return ou.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:E,nonce:P,providerId:V}=c;if(!p&&!_&&!d&&!E||!V)return null;try{return new ou(V)._credential({idToken:d,accessToken:p,nonce:P,pendingToken:E})}catch{return null}}}let Bv=(()=>{class f extends Qi{constructor(){super("facebook.com")}static credential(d){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),jv=(()=>{class f extends Qi{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),yo=(()=>{class f extends Qi{constructor(){super("github.com")}static credential(d){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class cr extends Ks{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return ko(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,ko(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,ko(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:E}=d;return p&&_&&E&&p===_?new cr(p,E):null}static _create(c,d){return new cr(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ft extends Ri{constructor(c){re(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return ft.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return ft.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=cr.fromJSON(c);return re(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return cr._create(p,d)}catch{return null}}}let wc=(()=>{class f extends Qi{constructor(){super("twitter.com")}static credential(d,p){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Cc(f,c){return su.apply(this,arguments)}function su(){return(su=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signUp",F(f,c))})).apply(this,arguments)}class Xr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,C.Z)(function*(){const E=yield I._fromIdTokenResponse(c,p,_),P=Ji(p);return new Xr({user:E,providerId:P,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,C.Z)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=Ji(p);return new Xr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function Ji(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function au(f){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,C.Z)(function*(f){var c;const d=yt(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Xr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Cc(d,{returnSecureToken:!0}),_=yield Xr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class uu extends H.ZR{constructor(c,d,p,_){var E;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:c.name,tenantId:null!==(E=c.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new uu(c,d,p,_)}}function Tc(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?uu._fromErrorAndOperation(f,E,c,p):E})}function Qd(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function Eg(f,c){return _s.apply(this,arguments)}function _s(){return _s=(0,C.Z)(function*(f,c){const d=(0,H.m9)(f);yield Sc(!0,d,c);const{providerUserInfo:p}=yield function bi(f,c){return Ai.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=Qd(p||[]);return d.providerData=d.providerData.filter(E=>_.has(E.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),_s.apply(this,arguments)}function bc(f,c){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,C.Z)(function*(f,c,d=!1){const p=yield rn(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return Xr._forOperation(f,"link",p)})).apply(this,arguments)}function Sc(f,c,d){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,C.Z)(function*(f,c,d){yield Ln(c);const _=!1===f?"provider-already-linked":"no-such-provider";re(Qd(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function wg(f,c){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,C.Z)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const E=yield rn(f,Tc(p,_,c,f),d);re(E.idToken,p,"internal-error");const P=In(E.idToken);re(P,p,"internal-error");const{sub:V}=P;return re(f.uid===V,p,"user-mismatch"),Xr._forOperation(f,_,E)}catch(E){throw"auth/user-not-found"===E?.code&&at(p,"user-mismatch"),E}})).apply(this,arguments)}function fi(f,c){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,C.Z)(function*(f,c,d=!1){const p="signIn",_=yield Tc(f,p,c),E=yield Xr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function cu(f,c){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,C.Z)(function*(f,c){return fi(yt(f),c)})).apply(this,arguments)}function Cg(f,c){return eh.apply(this,arguments)}function eh(){return(eh=(0,C.Z)(function*(f,c){const d=(0,H.m9)(f);return yield Sc(!1,d,c.providerId),bc(d,c)})).apply(this,arguments)}function Dg(f,c){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,C.Z)(function*(f,c){return wg((0,H.m9)(f),c)})).apply(this,arguments)}function th(){return(th=(0,C.Z)(function*(f,c){return ge(f,"POST","/v1/accounts:signInWithCustomToken",F(f,c))})).apply(this,arguments)}function Hv(f,c){return lr.apply(this,arguments)}function lr(){return lr=(0,C.Z)(function*(f,c){const d=yt(f),p=yield function $v(f,c){return th.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield Xr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),lr.apply(this,arguments)}class lu{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?nh._fromServerResponse(c,d):"totpInfo"in d?rh._fromServerResponse(c,d):at(c,"internal-error")}}class nh extends lu{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new nh(d)}}class rh extends lu{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new rh(d)}}function Bn(f,c,d){var p;re((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),re(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(re(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(re(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function ih(f){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,C.Z)(function*(f){const c=yt(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Be(f,c,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,C.Z)(function*(f,c,d){const p=yt(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&Bn(p,_,d),yield pc(p,_,"getOobCode",Cb)})).apply(this,arguments)}function vt(f,c,d){return jn.apply(this,arguments)}function jn(){return jn=(0,C.Z)(function*(f,c,d){yield Hd((0,H.m9)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ih(f),_});return function(_){return p.apply(this,arguments)}}())}),jn.apply(this,arguments)}function yr(f,c){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,C.Z)(function*(f,c){yield function qd(f,c){return mc.apply(this,arguments)}((0,H.m9)(f),{oobCode:c})}),Vo.apply(this,arguments)}function xr(f,c){return xc.apply(this,arguments)}function xc(){return(xc=(0,C.Z)(function*(f,c){const d=(0,H.m9)(f),p=yield Hd(d,{oobCode:c}),_=p.requestType;switch(re(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(p.mfaInfo,d,"internal-error");default:re(p.email,d,"internal-error")}let E=null;return p.mfaInfo&&(E=lu._fromServerResponse(yt(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:E},operation:_}})).apply(this,arguments)}function Tg(f,c){return ta.apply(this,arguments)}function ta(){return(ta=(0,C.Z)(function*(f,c){const{data:d}=yield xr((0,H.m9)(f),c);return d.email})).apply(this,arguments)}function zv(f,c,d){return oh.apply(this,arguments)}function oh(){return(oh=(0,C.Z)(function*(f,c,d){const p=yt(f),P=yield pc(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cc).catch(ne=>{throw"auth/password-does-not-meet-requirements"===ne.code&&ih(f),ne}),V=yield Xr._fromIdTokenResponse(p,"signIn",P);return yield p._updateCurrentUser(V.user),V})).apply(this,arguments)}function pn(f,c,d){return cu((0,H.m9)(f),ea.credential(c,d)).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ih(f),_});return function(_){return p.apply(this,arguments)}}())}function ye(f,c,d){return qe.apply(this,arguments)}function qe(){return(qe=(0,C.Z)(function*(f,c,d){const p=yt(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function E(P,V){re(V.handleCodeInApp,p,"argument-error"),V&&Bn(p,P,V)})(_,d),yield pc(p,_,"getOobCode",Db)})).apply(this,arguments)}function Qt(f,c){const d=Xs.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}function Pi(f,c,d){return ys.apply(this,arguments)}function ys(){return(ys=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f),_=ea.credentialWithLink(c,d||fn());return re(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),cu(p,_)})).apply(this,arguments)}function Fo(){return(Fo=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:createAuthUri",F(f,c))})).apply(this,arguments)}function wn(f,c){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,C.Z)(function*(f,c){const p={identifier:c,continueUri:vn()?fn():"http://localhost"},{signinMethods:_}=yield function hr(f,c){return Fo.apply(this,arguments)}((0,H.m9)(f),p);return _||[]}),Xi.apply(this,arguments)}function na(f,c){return je.apply(this,arguments)}function je(){return je=(0,C.Z)(function*(f,c){const d=(0,H.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&Bn(d.auth,_,c);const{email:E}=yield function Pr(f,c){return yc.apply(this,arguments)}(d.auth,_);E!==f.email&&(yield f.reload())}),je.apply(this,arguments)}function du(f,c,d){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&Bn(p.auth,E,d);const{email:P}=yield function Gd(f,c){return eu.apply(this,arguments)}(p.auth,E);P!==f.email&&(yield f.reload())}),Nc.apply(this,arguments)}function on(){return(on=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function hu(f,c){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,C.Z)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,H.m9)(f),E={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},P=yield rn(p,function ra(f,c){return on.apply(this,arguments)}(p.auth,E));p.displayName=P.displayName||null,p.photoURL=P.photoUrl||null;const V=p.providerData.find(({providerId:ne})=>"password"===ne);V&&(V.displayName=p.displayName,V.photoURL=p.photoURL),yield p._updateTokensIfNecessary(P)}),Lo.apply(this,arguments)}function eo(f,c){return sh((0,H.m9)(f),c,null)}function fu(f,c){return sh((0,H.m9)(f),null,c)}function sh(f,c,d){return to.apply(this,arguments)}function to(){return(to=(0,C.Z)(function*(f,c,d){const{auth:p}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(E.email=c),d&&(E.password=d);const P=yield rn(f,Xa(p,E));yield f._updateTokensIfNecessary(P,!0)})).apply(this,arguments)}class no{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class ia extends no{constructor(c,d,p,_){super(c,d,p),this.username=_}}class ct extends no{constructor(c,d){super(c,"facebook.com",d)}}class bb extends ia{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class ah extends no{constructor(c,d){super(c,"google.com",d)}}class bg extends ia{constructor(c,d,p){super(c,"twitter.com",d,p)}}function ro(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function vo(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const P=null===(d=null===(c=In(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(P)return new no(E,"anonymous"!==P&&"custom"!==P?P:null)}if(!p)return null;switch(p){case"facebook.com":return new ct(E,_);case"github.com":return new bb(E,_);case"google.com":return new ah(E,_);case"twitter.com":return new bg(E,_,f.screenName||null);case"custom":case"anonymous":return new no(E,null);default:return new no(E,p,_)}}(d)}class vs{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new vs("enroll",c,d)}static _fromMfaPendingCredential(c){return new vs("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return vs._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return vs._fromIdtoken(c.multiFactorSession.idToken)}return null}}class lh{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=yt(c),_=d.customData._serverResponse,E=(_.mfaInfo||[]).map(V=>lu._fromServerResponse(p,V));re(_.mfaPendingCredential,p,"internal-error");const P=vs._fromMfaPendingCredential(_.mfaPendingCredential);return new lh(P,E,function(){var V=(0,C.Z)(function*(ne){const we=yield ne._process(p,P);delete _.mfaInfo,delete _.mfaPendingCredential;const Oe=Object.assign(Object.assign({},_),{idToken:we.idToken,refreshToken:we.refreshToken});switch(d.operationType){case"signIn":const dt=yield Xr._fromIdTokenResponse(p,d.operationType,Oe);return yield p._updateCurrentUser(dt.user),dt;case"reauthenticate":return re(d.user,p,"internal-error"),Xr._forOperation(d.user,d.operationType,Oe);default:at(p,"internal-error")}});return function(ne){return V.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,C.Z)(function*(){return d.signInResolver(c)})()}}function Sb(f,c){var d;const p=(0,H.m9)(f),_=c;return re(c.customData.operationType,p,"argument-error"),re(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),lh._fromError(p,_)}class Sg{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>lu._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new Sg(c)}getSession(){var c=this;return(0,C.Z)(function*(){return vs._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,C.Z)(function*(){const _=c,E=yield p.getSession(),P=yield rn(p.user,_._process(p.user.auth,E,d));return yield p.user._updateTokensIfNecessary(P),p.user.reload()})()}unenroll(c){var d=this;return(0,C.Z)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const E=yield rn(d.user,function Pb(f,c){return X(f,"POST","/v2/accounts/mfaEnrollment:withdraw",F(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:P})=>P!==p),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const Rg=new WeakMap;function Mb(f){const c=(0,H.m9)(f);return Rg.has(c)||Rg.set(c,Sg._fromUser(c)),Rg.get(c)}const dh="__sak";class Wv{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const hh=(()=>{class f extends Wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xb(){const f=(0,H.z$)();return _e(f)||R(f)}()&&function q(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=it(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),E=this.localCache[p];_!==E&&d(p,E,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((V,ne,we)=>{this.notifyListeners(V,we)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(_);if(d.newValue!==V)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const E=()=>{const V=this.storage.getItem(_);!p&&this.localCache[_]===V||this.notifyListeners(_,V)},P=this.storage.getItem(_);!function Qe(){return(0,H.w1)()&&10===document.documentMode}()||P===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,E=this;return(0,C.Z)(function*(){yield _().call(E,d,p),E.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,C.Z)(function*(){const E=yield p().call(_,d);return _.localCache[d]=JSON.stringify(E),E})()}_remove(d){var p=()=>super._remove,_=this;return(0,C.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Pg=(()=>{class f extends Wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let Vb=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(E=>E.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,C.Z)(function*(){const _=d,{eventId:E,eventType:P,data:V}=_.data,ne=p.handlersMap[P];if(!ne?.size)return;_.ports[0].postMessage({status:"ack",eventId:E,eventType:P});const we=Array.from(ne).map(function(){var dt=(0,C.Z)(function*(er){return er(_.origin,V)});return function(er){return dt.apply(this,arguments)}}()),Oe=yield function kb(f){return Promise.all(f.map(function(){var c=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(we);_.ports[0].postMessage({status:"done",eventId:E,eventType:P,response:Oe})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Mi(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class Uo{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,C.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let P,V;return new Promise((ne,we)=>{const Oe=Mi("",20);E.port1.start();const dt=setTimeout(()=>{we(new Error("unsupported_event"))},p);V={messageChannel:E,onMessage(er){const ao=er;if(ao.data.eventId===Oe)switch(ao.data.status){case"ack":clearTimeout(dt),P=setTimeout(()=>{we(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),ne(ao.data.response);break;default:clearTimeout(dt),clearTimeout(P),we(new Error("invalid_response"))}}},_.handlers.add(V),E.port1.addEventListener("message",V.onMessage),_.target.postMessage({eventType:c,eventId:Oe,data:d},[E.port2])}).finally(()=>{V&&_.removeMessageHandler(V)})})()}}function Hn(){return window}function zn(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function kr(){return(kr=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fh="firebaseLocalStorageDb",sa="firebaseLocalStorage",ph="fbase_key";class Is{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function aa(f,c){return f.transaction([sa],c?"readwrite":"readonly").objectStore(sa)}function Vc(){const f=indexedDB.open(fh,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(sa,{keyPath:ph})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const p=f.result;p.objectStoreNames.contains(sa)?c(p):(p.close(),yield function Og(){const f=indexedDB.deleteDatabase(fh);return new Is(f).toPromise()}(),c(yield Vc()))}))})}function gh(f,c,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,C.Z)(function*(f,c,d){const p=aa(f,!0).put({[ph]:c,value:d});return new Is(p).toPromise()})).apply(this,arguments)}function Bo(){return(Bo=(0,C.Z)(function*(f,c){const d=aa(f,!1).get(c),p=yield new Is(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function mh(f,c){const d=aa(f,!0).delete(c);return new Is(d).toPromise()}const kg=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield Vc()),d.db})()}_withRetries(d){var p=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const E=yield p._openDb();return yield d(E)}catch(E){if(_++>3)throw E;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return zn()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=Vb._getInstance(function xg(){return zn()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,C.Z)(function*(_,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(_,E){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,C.Z)(function*(_,E){return["keyChanged"]});return function(_,E){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function kc(){return kr.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Uo(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(p=E[0])&&void 0!==p&&p.fulfilled&&null!==(_=E[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,C.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function Mg(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Vc();return yield gh(d,dh,"1"),yield mh(d,dh),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,C.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(E=>gh(E,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=yield p._withRetries(E=>function mu(f,c){return Bo.apply(this,arguments)}(E,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,C.Z)(function*(){return p._withPendingWrite((0,C.Z)(function*(){return yield p._withRetries(_=>mh(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const p=yield d._withRetries(P=>{const V=aa(P,!1).getAll();return new Is(V).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],E=new Set;for(const{fbase_key:P,value:V}of p)E.add(P),JSON.stringify(d.localCache[P])!==JSON.stringify(V)&&(d.notifyListeners(P,V),_.push(P));for(const P of Object.keys(d.localCache))d.localCache[P]&&!E.has(P)&&(d.notifyListeners(P,null),_.push(P));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),ca=1e12;class jb{constructor(c){this.auth=c,this.counter=ca,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new $b(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||ca;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||ca))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,C.Z)(function*(){var p;return null===(p=d._widgets.get(c||ca))||void 0===p||p.execute(),""})()}}class $b{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;re(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yv(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fc=Oo("rcb"),Fg=new Wr(3e4,6e4);class Xv{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Hn().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return re(function eI(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&Vn(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((p,_)=>{const E=Hn().setTimeout(()=>{_(Pt(c,"network-request-failed"))},Fg.get());Hn()[Fc]=()=>{Hn().clearTimeout(E),delete Hn()[Fc];const V=Hn().grecaptcha;if(!V||!Vn(V))return void _(Pt(c,"internal-error"));const ne=V.render;V.render=(we,Oe)=>{const dt=ne(we,Oe);return this.counter++,dt},this.hostLanguage=d,p(V)},fg(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Fc,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),_(Pt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=Hn().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lg{load(c){return(0,C.Z)(function*(){return new jb(c)})()}clearedOneInstance(){}}const Ug="recaptcha",Bg={theme:"light",type:"image"};class tI{constructor(c,d,p=Object.assign({},Bg)){this.parameters=p,this.type=Ug,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(c),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;re(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lg:new Xv,this.validateStartingState()}verify(){var c=this;return(0,C.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(E=>{const P=V=>{V&&(c.tokenChangeListeners.delete(P),E(V))};c.tokenChangeListeners.add(P),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=Hn()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,C.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,C.Z)(function*(){re(vn()&&!zn(),c.auth,"internal-error"),yield function Hb(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Rr(f){return Ti.apply(this,arguments)}(c.auth);re(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yh{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Mr._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function ei(f,c,d){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,C.Z)(function*(f,c,d){const p=yt(f),_=yield Bc(p,c,(0,H.m9)(d));return new yh(_,E=>cu(p,E))})).apply(this,arguments)}function nI(f,c,d){return vh.apply(this,arguments)}function vh(){return(vh=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f);yield Sc(!1,p,"phone");const _=yield Bc(p.auth,c,(0,H.m9)(d));return new yh(_,E=>Cg(p,E))})).apply(this,arguments)}function jg(f,c,d){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f),_=yield Bc(p.auth,c,(0,H.m9)(d));return new yh(_,E=>Dg(p,E))})).apply(this,arguments)}function Bc(f,c,d){return _u.apply(this,arguments)}function _u(){return _u=(0,C.Z)(function*(f,c,d){var p;const _=yield d.verify();try{let E;if(re("string"==typeof _,f,"argument-error"),re(d.type===Ug,f,"argument-error"),E="string"==typeof c?{phoneNumber:c}:c,"session"in E){const P=E.session;if("phoneNumber"in E)return re("enroll"===P.type,f,"internal-error"),(yield function qv(f,c){return X(f,"POST","/v2/accounts/mfaEnrollment:start",F(f,c))}(f,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{re("signin"===P.type,f,"internal-error");const V=(null===(p=E.multiFactorHint)||void 0===p?void 0:p.uid)||E.multiFactorUid;return re(V,f,"missing-multi-factor-info"),(yield function Kv(f,c){return X(f,"POST","/v2/accounts/mfaSignIn:start",F(f,c))}(f,{mfaPendingCredential:P.credential,mfaEnrollmentId:V,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function ru(f,c){return iu.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:_});return P}}finally{d._reset()}}),_u.apply(this,arguments)}function rI(f,c){return pi.apply(this,arguments)}function pi(){return(pi=(0,C.Z)(function*(f,c){yield bc((0,H.m9)(f),c)})).apply(this,arguments)}let $g=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=yt(d)}verifyPhoneNumber(d,p){return Bc(this.auth,d,(0,H.m9)(p))}static credential(d,p){return Mr._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Mr._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function jo(f,c){return c?v(c):(re(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ft extends Ks{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return ko(c,this._buildIdpRequest())}_linkToIdToken(c,d){return ko(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return ko(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Ih(f){return fi(f.auth,new Ft(f),f.bypassAuthState)}function jc(f){const{auth:c,user:d}=f;return re(d,c,"internal-error"),wg(d,new Ft(f),f.bypassAuthState)}function Vr(f){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,C.Z)(function*(f){const{auth:c,user:d}=f;return re(d,c,"internal-error"),bc(d,new Ft(f),f.bypassAuthState)})).apply(this,arguments)}class wh{constructor(c,d,p,_,E=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,C.Z)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(E){c.reject(E)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,C.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:E,tenantId:P,error:V,type:ne}=c;if(V)return void d.reject(V);const we={auth:d.auth,requestUri:p,sessionId:_,tenantId:P||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ne)(we))}catch(Oe){d.reject(Oe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Ih;case"linkViaPopup":case"linkViaRedirect":return Vr;case"reauthViaPopup":case"reauthViaRedirect":return jc;default:at(this.auth,"internal-error")}}resolve(c){Gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const la=new Wr(2e3,1e4);function ti(f,c,d){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,C.Z)(function*(f,c,d){const p=yt(f);Tn(f,c,Ri);const _=jo(p,d);return new Th(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function iI(f,c,d){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f);Tn(p.auth,c,Ri);const _=jo(p.auth,d);return new Th(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function $o(f,c,d){return $c.apply(this,arguments)}function $c(){return($c=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f);Tn(p.auth,c,Ri);const _=jo(p.auth,d);return new Th(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let Th=(()=>{class f extends wh{constructor(d,p,_,E,P){super(d,p,E,P),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const p=yield d.execute();return re(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,C.Z)(function*(){Gt(1===d.filter.length,"Popup operations only handle one event");const p=Mi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Pt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,la.get())};d()}}return f.currentPopupAction=null,f})();const Hg="pendingRedirect",da=new Map;class zg extends wh{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,C.Z)(function*(){let p=da.get(d.auth._key());if(!p){try{const E=(yield function oI(f,c){return Ue.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(E)}catch(_){p=()=>Promise.reject(_)}da.set(d.auth._key(),p)}return d.bypassAuthState||da.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,C.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Ue(){return(Ue=(0,C.Z)(function*(f,c){const d=bh(c),p=Wg(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Hc(f,c){return qg.apply(this,arguments)}function qg(){return(qg=(0,C.Z)(function*(f,c){return Wg(f)._set(bh(c),"true")})).apply(this,arguments)}function sI(){da.clear()}function Gg(f,c){da.set(f._key(),c)}function Wg(f){return v(f._redirectPersistence)}function bh(f){return Ie(Hg,f.config.apiKey,f.name)}function ha(f,c,d){return function aI(f,c,d){return Ah.apply(this,arguments)}(f,c,d)}function Ah(){return(Ah=(0,C.Z)(function*(f,c,d){const p=yt(f);Tn(f,c,Ri),yield p._initializationPromise;const _=jo(p,d);return yield Hc(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function uI(f,c,d){return function cI(f,c,d){return Sh.apply(this,arguments)}(f,c,d)}function Sh(){return(Sh=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f);Tn(p.auth,c,Ri),yield p.auth._initializationPromise;const _=jo(p.auth,d);yield Hc(_,p.auth);const E=yield xi(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",E)})).apply(this,arguments)}function ee(f,c,d){return function It(f,c,d){return Dt.apply(this,arguments)}(f,c,d)}function Dt(){return(Dt=(0,C.Z)(function*(f,c,d){const p=(0,H.m9)(f);Tn(p.auth,c,Ri),yield p.auth._initializationPromise;const _=jo(p.auth,d);yield Sc(!1,p,c.providerId),yield Hc(_,p.auth);const E=yield xi(p);return _._openRedirect(p.auth,c,"linkViaRedirect",E)})).apply(this,arguments)}function Rt(f,c){return qn.apply(this,arguments)}function qn(){return(qn=(0,C.Z)(function*(f,c){return yield yt(f)._initializationPromise,zc(f,c,!1)})).apply(this,arguments)}function zc(f,c){return Es.apply(this,arguments)}function Es(){return(Es=(0,C.Z)(function*(f,c,d=!1){const p=yt(f),_=jo(p,c),P=yield new zg(p,_,d).execute();return P&&!d&&(delete P.user._redirectEventId,yield p._persistUserIfCurrent(P.user),yield p._setRedirectUser(null,c)),P})).apply(this,arguments)}function xi(f){return yu.apply(this,arguments)}function yu(){return(yu=(0,C.Z)(function*(f){const c=Mi(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class Zg{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function vr(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ph(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!Ph(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Pt(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lI(c))}saveEventToCache(c){this.cachedEventUids.add(lI(c)),this.lastProcessedEventTime=Date.now()}}function lI(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function Ph({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===c?.code}function oo(f){return qc.apply(this,arguments)}function qc(){return(qc=(0,C.Z)(function*(f,c={}){return X(f,"GET","/v1/projects",c)})).apply(this,arguments)}const fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Io=/^https?/;function Gc(){return(Gc=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield oo(f);for(const d of c)try{if(hI(d))return}catch{}at(f,"unauthorized-domain")})).apply(this,arguments)}function hI(f){const c=fn(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const P=new URL(f);return""===P.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&P.hostname===p}if(!Io.test(d))return!1;if(fa.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const fI=new Wr(3e4,6e4);function Wc(){const f=Hn().___jsl;if(f?.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let vu=null;const pI=new Wr(5e3,15e3),Kg="__/auth/iframe",Nh="emulator/auth/iframe",Qg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jg(f){const c=f.config;re(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?Hi(c,Nh):`https://${f.config.authDomain}/${Kg}`,p={apiKey:c.apiKey,appName:f.name,v:x.SDK_VERSION},_=Yg.get(f.config.apiHost);_&&(p.eid=_);const E=f._getFrameworks();return E.length&&(p.fw=E.join(",")),`${d}?${(0,H.xO)(p).slice(1)}`}function Iu(){return Iu=(0,C.Z)(function*(f){const c=yield function xh(f){return vu=vu||function Mh(f){return new Promise((c,d)=>{var p,_,E;function P(){Wc(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Wc(),d(Pt(f,"network-request-failed"))},timeout:fI.get()})}if(null!==(_=null===(p=Hn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(E=Hn().gapi)||void 0===E||!E.load){const V=Oo("iframefcb");return Hn()[V]=()=>{gapi.load?P():d(Pt(f,"network-request-failed"))},fg(`https://apis.google.com/js/api.js?onload=${V}`).catch(ne=>d(ne))}P()}}).catch(c=>{throw vu=null,c})}(f),vu}(f),d=Hn().gapi;return re(d,f,"internal-error"),c.open({where:document.body,url:Jg(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qg,dontclear:!0},p=>new Promise(function(){var _=(0,C.Z)(function*(E,P){yield p.restyle({setHideOnLeave:!1});const V=Pt(f,"network-request-failed"),ne=Hn().setTimeout(()=>{P(V)},pI.get());function we(){Hn().clearTimeout(ne),E(p)}p.ping(we).then(we,()=>{P(V)})});return function(E,P){return _.apply(this,arguments)}}()))}),Iu.apply(this,arguments)}const gI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class em{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vI="__/auth/handler",tm="emulator/auth/handler",nm=encodeURIComponent("fac");function pa(f,c,d,p,_,E){return so.apply(this,arguments)}function so(){return(so=(0,C.Z)(function*(f,c,d,p,_,E){re(f.config.authDomain,f,"auth-domain-config-required"),re(f.config.apiKey,f,"invalid-api-key");const P={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:x.SDK_VERSION,eventId:_};if(c instanceof Ri){c.setDefaultLanguage(f.languageCode),P.providerId=c.providerId||"",(0,H.xb)(c.getCustomParameters())||(P.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Oe,dt]of Object.entries(E||{}))P[Oe]=dt}if(c instanceof Qi){const Oe=c.getScopes().filter(dt=>""!==dt);Oe.length>0&&(P.scopes=Oe.join(","))}f.tenantId&&(P.tid=f.tenantId);const V=P;for(const Oe of Object.keys(V))void 0===V[Oe]&&delete V[Oe];const ne=yield f._getAppCheckToken(),we=ne?`#${nm}=${encodeURIComponent(ne)}`:"";return`${function II({config:f}){return f.emulator?Hi(f,tm):`https://${f.authDomain}/${vI}`}(f)}?${(0,H.xO)(V).slice(1)}${we}`})).apply(this,arguments)}const ga="webStorageSupport",Eu=class Zc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pg,this._completeRedirectFn=zc,this._overrideRedirectResult=Gg}_openPopup(c,d,p,_){var E=this;return(0,C.Z)(function*(){var P;Gt(null===(P=E.eventManagers[c._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const V=yield pa(c,d,p,fn(),_);return function _I(f,c,d,p=500,_=600){const E=Math.max((window.screen.availHeight-_)/2,0).toString(),P=Math.max((window.screen.availWidth-p)/2,0).toString();let V="";const ne=Object.assign(Object.assign({},gI),{width:p.toString(),height:_.toString(),top:E,left:P}),we=(0,H.z$)().toLowerCase();d&&(V=kt(we)?"_blank":d),St(we)&&(c=c||"http://localhost",ne.scrollbars="yes");const Oe=Object.entries(ne).reduce((er,[ao,Xc])=>`${er}${ao}=${Xc},`,"");if(function Re(f=(0,H.z$)()){var c;return R(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(we)&&"_self"!==V)return function yI(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",V),new em(null);const dt=window.open(c||"",V,Oe);re(dt,f,"popup-blocked");try{dt.focus()}catch{}return new em(dt)}(c,V,Mi())})()}_openRedirect(c,d,p,_){var E=this;return(0,C.Z)(function*(){return yield E._originValidation(c),function Fb(f){Hn().location.href=f}(yield pa(c,d,p,fn(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:E}=this.eventManagers[d];return _?Promise.resolve(_):(Gt(E,"If manager is not set, promise should be"),E)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,C.Z)(function*(){const p=yield function Xg(f){return Iu.apply(this,arguments)}(c),_=new Zg(c);return p.register("authEvent",E=>(re(E?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(ga,{type:ga},_=>{var E;const P=null===(E=_?.[0])||void 0===E?void 0:E[ga];void 0!==P&&d(!!P),at(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function dI(f){return Gc.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return it()||_e()||R()}};class Oh{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return ht("unexpected MultiFactorSessionType")}}}class Kc extends Oh{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Kc(c)}_finalizeEnroll(c,d,p){return function Gv(f,c){return X(f,"POST","/v2/accounts/mfaEnrollment:finalize",F(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Bb(f,c){return X(f,"POST","/v2/accounts/mfaSignIn:finalize",F(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rm=(()=>{class f{constructor(){}static assertion(d){return Kc._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var EI="@firebase/auth";class qb{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wb=(0,H.Pz)("authIdTokenMaxAge")||300;let Jc=null;const wu=f=>function(){var c=(0,C.Z)(function*(d){const p=d&&(yield d.getIdTokenResult()),_=p&&((new Date).getTime()-Date.parse(p.issuedAtTime))/1e3;if(_&&_>Wb)return;const E=p?.token;Jc!==E&&(Jc=E,yield fetch(f,{method:E?"POST":"DELETE",headers:E?{Authorization:`Bearer ${E}`}:{}}))});return function(d){return c.apply(this,arguments)}}();function DI(f=(0,x.getApp)()){const c=(0,x._getProvider)(f,"auth");if(c.isInitialized())return c.getImmediate();const d=function Ib(f,c){const d=(0,x._getProvider)(f,"auth");if(d.isInitialized()){const _=d.getImmediate(),E=d.getOptions();if((0,H.vZ)(E,c??{}))return _;at(_,"already-initialized")}return d.initialize({options:c})}(f,{popupRedirectResolver:Eu,persistence:[kg,hh,Pg]}),p=(0,H.Pz)("authTokenSyncURL");if(p){const E=wu(p);(function Nr(f,c,d){(0,H.m9)(f).beforeAuthStateChanged(c,d)})(d,E,()=>E(d.currentUser)),function Ab(f,c,d,p){(0,H.m9)(f).onIdTokenChanged(c,d,p)}(d,P=>E(P))}const _=(0,H.q4)("auth");return _&&kv(d,`http://${_}`),d}!function CI(f){(0,x._registerComponent)(new tn.wA("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),E=c.getProvider("app-check-internal"),{apiKey:P,authDomain:V}=p.options;re(P&&!P.includes(":"),"invalid-api-key",{appName:p.name});const ne={apiKey:P,authDomain:V,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(f)},we=new $d(p,_,E,ne);return function Eb(f,c){const d=c?.persistence||[],p=(Array.isArray(d)?d:[d]).map(v);c?.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,c?.popupRedirectResolver)}(we,d),we},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new tn.wA("auth-internal",c=>{const d=yt(c.getProvider("auth").getImmediate());return new qb(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(EI,"1.3.2",function wI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,x.registerVersion)(EI,"1.3.2","esm2017")}("Browser")},58:($i,Nn,Fe)=>{Fe.d(Nn,{BH:()=>Gr,G6:()=>Hi,L:()=>gt,LL:()=>J,Pz:()=>Pt,Sg:()=>Tn,UG:()=>ht,ZB:()=>Ae,ZR:()=>X,aH:()=>at,b$:()=>vn,eu:()=>j,hl:()=>L,jU:()=>Gt,m9:()=>Ki,ne:()=>Zr,pd:()=>Ai,q4:()=>kn,r3:()=>Fn,ru:()=>fn,tV:()=>Y,uI:()=>re,vZ:()=>zi,w1:()=>Di,xO:()=>Gi,xb:()=>Rr,z$:()=>tt,zd:()=>bi});const Se=function(A){const T=[];let I=0;for(let w=0;w<A.length;w++){let v=A.charCodeAt(w);v<128?T[I++]=v:v<2048?(T[I++]=v>>6|192,T[I++]=63&v|128):55296==(64512&v)&&w+1<A.length&&56320==(64512&A.charCodeAt(w+1))?(v=65536+((1023&v)<<10)+(1023&A.charCodeAt(++w)),T[I++]=v>>18|240,T[I++]=v>>12&63|128,T[I++]=v>>6&63|128,T[I++]=63&v|128):(T[I++]=v>>12|224,T[I++]=v>>6&63|128,T[I++]=63&v|128)}return T},tn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(A,T){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,w=[];for(let v=0;v<A.length;v+=3){const b=A[v],Z=v+1<A.length,Ie=Z?A[v+1]:0,Ce=v+2<A.length,ze=Ce?A[v+2]:0;let kt=(15&Ie)<<2|ze>>6,xe=63&ze;Ce||(xe=64,Z||(kt=64)),w.push(I[b>>2],I[(3&b)<<4|Ie>>4],I[kt],I[xe])}return w.join("")},encodeString(A,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(A):this.encodeByteArray(Se(A),T)},decodeString(A,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(A):function(A){const T=[];let I=0,w=0;for(;I<A.length;){const v=A[I++];if(v<128)T[w++]=String.fromCharCode(v);else if(v>191&&v<224){const b=A[I++];T[w++]=String.fromCharCode((31&v)<<6|63&b)}else if(v>239&&v<365){const Ce=((7&v)<<18|(63&A[I++])<<12|(63&A[I++])<<6|63&A[I++])-65536;T[w++]=String.fromCharCode(55296+(Ce>>10)),T[w++]=String.fromCharCode(56320+(1023&Ce))}else{const b=A[I++],Z=A[I++];T[w++]=String.fromCharCode((15&v)<<12|(63&b)<<6|63&Z)}}return T.join("")}(this.decodeStringToByteArray(A,T))},decodeStringToByteArray(A,T){this.init_();const I=T?this.charToByteMapWebSafe_:this.charToByteMap_,w=[];for(let v=0;v<A.length;){const b=I[A.charAt(v++)],Ie=v<A.length?I[A.charAt(v)]:0;++v;const ze=v<A.length?I[A.charAt(v)]:64;++v;const _e=v<A.length?I[A.charAt(v)]:64;if(++v,null==b||null==Ie||null==ze||null==_e)throw new yn;w.push(b<<2|Ie>>4),64!==ze&&(w.push(Ie<<4&240|ze>>2),64!==_e&&w.push(ze<<6&192|_e))}return w},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class yn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gt=function(A){return function(A){const T=Se(A);return tn.encodeByteArray(T,!0)}(A).replace(/\./g,"")},Y=function(A){try{return tn.decodeString(A,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function Ae(A,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===A&&(A={});break;case Array:A=[];break;default:return T}for(const I in T)!T.hasOwnProperty(I)||!Ke(I)||(A[I]=Ae(A[I],T[I]));return A}function Ke(A){return"__proto__"!==A}const He=()=>{try{return function Ct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const A=process.env.__FIREBASE_DEFAULTS__;return A?JSON.parse(A):void 0})()||(()=>{if(typeof document>"u")return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=A&&Y(A[1]);return T&&JSON.parse(T)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},kn=A=>{var T,I;return null===(I=null===(T=He())||void 0===T?void 0:T.emulatorHosts)||void 0===I?void 0:I[A]},at=()=>{var A;return null===(A=He())||void 0===A?void 0:A.config},Pt=A=>{var T;return null===(T=He())||void 0===T?void 0:T[`_${A}`]};class Gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,I)=>{this.resolve=T,this.reject=I})}wrapCallback(T){return(I,w)=>{I?this.reject(I):this.resolve(w),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(I):T(I,w))}}}function Tn(A,T){if(A.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const w=T||"demo-project",v=A.iat||0,b=A.sub||A.user_id;if(!b)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Z=Object.assign({iss:`https://securetoken.google.com/${w}`,aud:w,iat:v,exp:v+3600,auth_time:v,sub:b,user_id:b,firebase:{sign_in_provider:"custom",identities:{}}},A);return[gt(JSON.stringify({alg:"none",type:"JWT"})),gt(JSON.stringify(Z)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function ht(){var A;const T=null===(A=He())||void 0===A?void 0:A.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Gt(){return"object"==typeof self&&self.self===self}function fn(){const A="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof A&&void 0!==A.id}function vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Di(){const A=tt();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function Hi(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){try{return"object"==typeof indexedDB}catch{return!1}}function j(){return new Promise((A,T)=>{try{let I=!0;const w="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(w);v.onsuccess=()=>{v.result.close(),I||self.indexedDB.deleteDatabase(w),A(!0)},v.onupgradeneeded=()=>{I=!1},v.onerror=()=>{var b;T((null===(b=v.error)||void 0===b?void 0:b.message)||"")}}catch(I){T(I)}})}class X extends Error{constructor(T,I,w){super(I),this.code=T,this.customData=w,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(T,I,w){this.service=T,this.serviceName=I,this.errors=w}create(T,...I){const w=I[0]||{},v=`${this.service}/${T}`,b=this.errors[T],Z=b?function fe(A,T){return A.replace(st,(I,w)=>{const v=T[w];return null!=v?String(v):`<${w}?>`})}(b,w):"Error";return new X(v,`${this.serviceName}: ${Z} (${v}).`,w)}}const st=/\{\$([^}]+)}/g;function Fn(A,T){return Object.prototype.hasOwnProperty.call(A,T)}function Rr(A){for(const T in A)if(Object.prototype.hasOwnProperty.call(A,T))return!1;return!0}function zi(A,T){if(A===T)return!0;const I=Object.keys(A),w=Object.keys(T);for(const v of I){if(!w.includes(v))return!1;const b=A[v],Z=T[v];if(_t(b)&&_t(Z)){if(!zi(b,Z))return!1}else if(b!==Z)return!1}for(const v of w)if(!I.includes(v))return!1;return!0}function _t(A){return null!==A&&"object"==typeof A}function Gi(A){const T=[];for(const[I,w]of Object.entries(A))Array.isArray(w)?w.forEach(v=>{T.push(encodeURIComponent(I)+"="+encodeURIComponent(v))}):T.push(encodeURIComponent(I)+"="+encodeURIComponent(w));return T.length?"&"+T.join("&"):""}function bi(A){const T={};return A.replace(/^\?/,"").split("&").forEach(w=>{if(w){const[v,b]=w.split("=");T[decodeURIComponent(v)]=decodeURIComponent(b)}}),T}function Ai(A){const T=A.indexOf("?");if(!T)return"";const I=A.indexOf("#",T);return A.substring(T,I>0?I:void 0)}function Zr(A,T){const I=new Kr(A,T);return I.subscribe.bind(I)}class Kr{constructor(T,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then(()=>{T(this)}).catch(w=>{this.error(w)})}next(T){this.forEachObserver(I=>{I.next(T)})}error(T){this.forEachObserver(I=>{I.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,I,w){let v;if(void 0===T&&void 0===I&&void 0===w)throw new Error("Missing Observer.");v=function Xn(A,T){if("object"!=typeof A||null===A)return!1;for(const I of T)if(I in A&&"function"==typeof A[I])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:I,complete:w},void 0===v.next&&(v.next=Mt),void 0===v.error&&(v.error=Mt),void 0===v.complete&&(v.complete=Mt);const b=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),b}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,T)}sendOne(T,I){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{I(this.observers[T])}catch(w){typeof console<"u"&&console.error&&console.error(w)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mt(){}function Ki(A){return A&&A._delegate?A._delegate:A}},841:($i,Nn,Fe)=>{function C(t){return"function"==typeof t}function H(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const x=H(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Se(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(C(r))try{r()}catch(o){e=o instanceof x?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{zt(o)}catch(s){e=e??[],s instanceof x?e=[...e,...s.errors]:e.push(s)}}if(e)throw new x(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zt(e);else{if(e instanceof wt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Se(n,e)}remove(e){const{_finalizers:n}=this;n&&Se(n,e),e instanceof wt&&e._removeParent(this)}}wt.EMPTY=(()=>{const t=new wt;return t.closed=!0,t})();const tn=wt.EMPTY;function yn(t){return t instanceof wt||t&&"closed"in t&&C(t.remove)&&C(t.add)&&C(t.unsubscribe)}function zt(t){C(t)?t():t.unsubscribe()}const gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(t,e,...n){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oe(t){Y.setTimeout(()=>{const{onUnhandledError:e}=gt;if(!e)throw t;e(t)})}function Ae(){}const Ke=lt("C",void 0,void 0);function lt(t,e,n){return{kind:t,value:e,error:n}}let $e=null;function He(t){if(gt.useDeprecatedSynchronousErrorHandling){const e=!$e;if(e&&($e={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$e;if($e=null,n)throw r}}else t()}class hn extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yn(e)&&e.add(this)):this.destination=Gt}static create(e,n,r){return new Tn(e,n,r)}next(e){this.isStopped?ht(function On(t){return lt("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ht(function Ct(t){return lt("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ht(Ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function Pt(t,e){return at.call(t,e)}class Gr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tt(r)}else tt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tt(n)}}}class Tn extends hn{constructor(e,n,r){let i;if(super(),C(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pt(e.next,o),error:e.error&&Pt(e.error,o),complete:e.complete&&Pt(e.complete,o)}):i=e}this.destination=new Gr(i)}}function tt(t){gt.useDeprecatedSynchronousErrorHandling?function kn(t){gt.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=t)}(t):oe(t)}function ht(t,e){const{onStoppedNotification:n}=gt;n&&Y.setTimeout(()=>n(t,e))}const Gt={closed:!0,next:Ae,error:function re(t){throw t},complete:Ae},fn="function"==typeof Symbol&&Symbol.observable||"@@observable";function vn(t){return t}function Di(t){return 0===t.length?vn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function L(t){return t&&t instanceof hn||function Hi(t){return t&&C(t.next)&&C(t.error)&&C(t.complete)}(t)&&yn(t)}(n)?n:new Tn(n,r,i);return He(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Wr(r))((i,o)=>{const s=new Tn({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fn](){return this}pipe(...n){return Di(n)(this)}toPromise(n){return new(n=Wr(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Wr(t){var e;return null!==(e=t??gt.Promise)&&void 0!==e?e:Promise}const j=H(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $=(()=>{class t extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new F(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new j}next(n){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?tn:(this.currentObservers=null,o.push(n),new wt(()=>{this.currentObservers=null,Se(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Xe;return n.source=this,n}}return t.create=(e,n)=>new F(e,n),t})();class F extends ${constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:tn}}function X(t){return C(t?.lift)}function J(t){return e=>{if(X(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new st(t,e,n,r,i)}class st extends hn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(t,e){return J((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var Ve=Fe(582);const mt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Kt(t){return C(t?.then)}function Ut(t){return C(t[fn])}function nn(t){return Symbol.asyncIterator&&C(t?.[Symbol.asyncIterator])}function Vn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jn=function Fn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rr(t){return C(t?.[Jn])}function Ti(t){return(0,Ve.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Ve.qq)(n.read());if(i)return yield(0,Ve.qq)(void 0);yield yield(0,Ve.qq)(r)}}finally{n.releaseLock()}})}function zi(t){return C(t?.getReader)}function _t(t){if(t instanceof Xe)return t;if(null!=t){if(Ut(t))return function qi(t){return new Xe(e=>{const n=t[fn]();if(C(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(mt(t))return function Gi(t){return new Xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Kt(t))return function bi(t){return new Xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,oe)})}(t);if(nn(t))return ar(t);if(Rr(t))return function Ai(t){return new Xe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(zi(t))return function Zr(t){return ar(Ti(t))}(t)}throw Vn(t)}function ar(t){return new Xe(e=>{(function Kr(t,e){var n,r,i,o;return(0,Ve.mG)(this,void 0,void 0,function*(){try{for(n=(0,Ve.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Qr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Mt(t,e,n=1/0){return C(e)?Mt((r,i)=>ge((o,s)=>e(r,o,i,s))(_t(t(r,i))),n):("number"==typeof e&&(n=e),J((r,i)=>function Xn(t,e,n,r,i,o,s,a){const u=[];let l=0,h=0,g=!1;const m=()=>{g&&!u.length&&!l&&e.complete()},y=S=>l<r?D(S):u.push(S),D=S=>{o&&e.next(S),l++;let M=!1;_t(n(S,h++)).subscribe(fe(e,U=>{i?.(U),o?y(U):e.next(U)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){const U=u.shift();s?Qr(e,s,()=>D(U)):D(U)}m()}catch(U){e.error(U)}}))};return t.subscribe(fe(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,t,n)))}function Yr(t=1/0){return Mt(vn,t)}const In=new Xe(t=>t.complete());function Wi(t){return t[t.length-1]}function Zi(t){return C(Wi(t))?t.pop():void 0}function Si(t){return function En(t){return t&&C(t.schedule)}(Wi(t))?t.pop():void 0}function bn(t,e=0){return J((n,r)=>{n.subscribe(fe(r,i=>Qr(r,t,()=>r.next(i),e),()=>Qr(r,t,()=>r.complete(),e),i=>Qr(r,t,()=>r.error(i),e)))})}function ur(t,e=0){return J((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ki(t,e){if(!t)throw new Error("Iterable cannot be null");return new Xe(n=>{Qr(n,e,()=>{const r=t[Symbol.asyncIterator]();Qr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function I(t,e){return e?function T(t,e){if(null!=t){if(Ut(t))return function Jr(t,e){return _t(t).pipe(ur(e),bn(e))}(t,e);if(mt(t))return function No(t,e){return new Xe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Kt(t))return function Zs(t,e){return _t(t).pipe(ur(e),bn(e))}(t,e);if(nn(t))return Ki(t,e);if(Rr(t))return function ps(t,e){return new Xe(n=>{let r;return Qr(n,e,()=>{r=t[Jn](),Qr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>C(r?.return)&&r.return()})}(t,e);if(zi(t))return function A(t,e){return Ki(Ti(t),e)}(t,e)}throw Vn(t)}(t,e):_t(t)}function w(...t){const e=Si(t),n=function Ln(t,e){return"number"==typeof Wi(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?_t(r[0]):Yr(n)(I(r,e)):In}class v extends ${constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function b(...t){return I(t,Si(t))}function Z(t={}){const{connector:e=(()=>new $),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=u=void 0,h=g=!1},D=()=>{const S=s;y(),S?.unsubscribe()};return J((S,M)=>{l++,!g&&!h&&m();const U=u=u??e();M.add(()=>{l--,0===l&&!g&&!h&&(a=Ie(D,i))}),U.subscribe(M),!s&&l>0&&(s=new Tn({next:N=>U.next(N),error:N=>{g=!0,m(),a=Ie(y,n,N),U.error(N)},complete:()=>{h=!0,m(),a=Ie(y,r),U.complete()}}),_t(S).subscribe(s))})(o)}}function Ie(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Tn({next:()=>{r.unsubscribe(),t()}});return _t(e(...n)).subscribe(r)}function Ce(t,e){return J((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0;const h=o++;_t(t(u,h)).subscribe(i=fe(r,g=>r.next(e?e(u,g,h,l++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ze(t,e=vn){return t=t??St,J((n,r)=>{let i,o=!0;n.subscribe(fe(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function St(t,e){return t===e}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function kt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Un(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const gs=_e({__forward_ref__:_e});function k(t){return t.__forward_ref__=k,t.toString=function(){return xe(this())},t}function R(t){return se(t)?t():t}function se(t){return"function"==typeof t&&t.hasOwnProperty(gs)&&t.__forward_ref__===k}function Re(t){return t&&!!t.\u0275providers}const it="https://g.co/ng/security#xss";class q extends Error{constructor(e,n){super(function An(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function be(t){return"string"==typeof t?t:null==t?"":String(t)}function $d(t,e){throw new q(-201,!1)}function hi(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function gc(t){return Hd(t,Qs)||Hd(t,mc)}function Hd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Xa(t){return t&&(t.hasOwnProperty(qd)||t.hasOwnProperty(Vv))?t[qd]:null}const Qs=_e({\u0275prov:_e}),qd=_e({\u0275inj:_e}),mc=_e({ngInjectableDef:_e}),Vv=_e({ngInjectorDef:_e});var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});let Ys;function Pr(t){const e=Ys;return Ys=t,e}function yc(t,e,n){const r=gc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ot.Optional?null:void 0!==e?e:void $d(xe(t))}const Vt=globalThis,ru={},iu="__NG_DI_FLAG__",Ic="ngTempTokenPath",Lv=/\n/gm,Ig="__source";let Js;function Mr(t){const e=Js;return Js=t,e}function Uv(t,e=ot.Default){if(void 0===Js)throw new q(-203,!1);return null===Js?yc(t,void 0,e):Js.get(t,e&ot.Optional?null:void 0,e)}function ce(t,e=ot.Default){return(function _c(){return Ys}()||Uv)(R(t),e)}function Te(t,e=ot.Default){return ce(t,ea(e))}function ea(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ri(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new q(900,!1);let i,o=ot.Default;for(let s=0;s<r.length;s++){const a=r[s],u=ou(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(ce(i,o))}else e.push(ce(r))}return e}function Qi(t,e){return t[iu]=e,t.prototype[iu]=e,t}function ou(t){return t[iu]}function yo(t){return{toString:t}.toString()}var Ec=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ec||{}),cr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cr||{});const Yi={},ft=[],wc=_e({\u0275cmp:_e}),Cc=_e({\u0275dir:_e}),su=_e({\u0275pipe:_e}),Xr=_e({\u0275mod:_e}),Ji=_e({\u0275fac:_e}),au=_e({__NG_ELEMENT_ID__:_e}),Dc=_e({__NG_ENV_ID__:_e});function uu(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Tc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];Eg(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Qd(t){return 3===t||4===t||6===t}function Eg(t){return 64===t.charCodeAt(0)}function _s(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||bc(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function bc(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Ac="ng-template";function Sc(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==uu(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Rc(t){return 4===t.type&&t.value!==Ac}function wg(t,e,n){return e===(4!==t.type||n?t.value:Ac)}function Yd(t,e,n){let r=4;const i=t.attrs||[],o=function Cg(t){for(let e=0;e<t.length;e++)if(Qd(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!wg(t,u,n)||""===u&&1===e.length){if(fi(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Sc(t.attrs,l,n)){if(fi(r))return!1;s=!0}continue}const g=Jd(8&r?"class":u,i,Rc(t),n);if(-1===g){if(fi(r))return!1;s=!0;continue}if(""!==l){let m;m=g>o?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==uu(y,l,0)||2&r&&l!==m){if(fi(r))return!1;s=!0}}}}else{if(!s&&!fi(r)&&!fi(u))return!1;if(s&&fi(u))continue;s=!1,r=u|1&r}}return fi(r)||s}function fi(t){return 0==(1&t)}function Jd(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function eh(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function cu(t,e,n=!1){for(let r=0;r<e.length;r++)if(Yd(t,e[r],n))return!0;return!1}function Pc(t,e){return t?":not("+e.trim()+")":e}function $v(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!fi(s)&&(e+=Pc(o,i),i=""),r=s,o=o||!fi(r);n++}return""!==i&&(e+=Pc(o,i)),e}function lr(t){return yo(()=>{const e=xc(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ec.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""};Tg(n);const r=t.dependencies;return n.directiveDefs=ta(r,!1),n.pipeDefs=ta(r,!0),n.id=function oh(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function nh(t){return vt(t)||jn(t)}function rh(t){return null!==t}function Bn(t){return yo(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mc(t,e){if(null==t)return Yi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Be(t){return yo(()=>{const e=xc(t);return Tg(e),e})}function dr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function vt(t){return t[wc]||null}function jn(t){return t[Cc]||null}function yr(t){return t[su]||null}function xr(t,e){const n=t[Xr]||null;if(!n&&!0===e)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return n}function xc(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mc(t.inputs,e),outputs:Mc(t.outputs)}}function Tg(t){t.features?.forEach(e=>e(t))}function ta(t,e){if(!t)return null;const n=e?yr:nh;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(rh)}const pn=0,ye=1,qe=2,Qt=3,Pi=4,ys=5,hr=6,Fo=7,wn=8,Xi=9,na=10,je=11,du=12,Nc=13,ra=14,on=15,hu=16,Lo=17,eo=18,fu=19,sh=20,to=21,vo=22,no=23,ia=24,ct=25,ah=1,bg=2,ro=7,pu=9,$n=11;function Nr(t){return Array.isArray(t)&&"object"==typeof t[ah]}function Or(t){return Array.isArray(t)&&!0===t[ah]}function Ag(t){return 0!=(4&t.flags)}function oa(t){return t.componentOffset>-1}function ch(t){return 1==(1&t.flags)}function io(t){return!!t.template}function gu(t){return 0!=(512&t[qe])}function Mi(t,e){return t.hasOwnProperty(Ji)?t[Ji]:null}let zn=null,kc=!1;function kr(t){const e=zn;return zn=t,e}const Mg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function fh(t){if(!mu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Og(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ph(t){t.dirty=!0,function Ng(t){if(void 0===t.liveConsumerNode)return;const e=kc;kc=!0;try{for(const n of t.liveConsumerNode)n.dirty||ph(n)}finally{kc=e}}(t),t.consumerMarkedDirty?.(t)}function Is(t){return t&&(t.nextProducerIndex=0),kr(t)}function aa(t,e){if(kr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(mu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ua(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Og(t){Bo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fh(n),r!==n.version))return!0}return!1}function Vc(t){if(Bo(t),mu(t))for(let e=0;e<t.producerNode.length;e++)ua(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ua(t,e){if(function mh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Bo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)ua(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bo(i),i.producerIndexOfThis[r]=e}}function mu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Vg=null;function Lg(t){const e=kr(null);try{return t()}finally{kr(e)}}const Bg=()=>{},tI=(()=>({...Mg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Bg}))();class yh{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ei(){return Lc}function Lc(t){return t.type.prototype.ngOnChanges&&(t.setInput=vh),nI}function nI(){const t=Uc(this),e=t?.current;if(e){const n=t.previous;if(n===Yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vh(t,e,n,r){const i=this.declaredInputs[n],o=Uc(t)||function Bc(t,e){return t[jg]=e}(t,{previous:Yi,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new yh(u&&u.currentValue,e,a===Yi),t[r]=e}ei.ngInherit=!0;const jg="__ngSimpleChanges__";function Uc(t){return t[jg]||null}const pi=function(t,e,n){};function Ft(t){for(;Array.isArray(t);)t=t[pn];return t}function jc(t,e){return Ft(e[t])}function Vr(t,e){return Ft(e[t.index])}function wh(t,e){return t.data[e]}function la(t,e){return t[e]}function ti(t,e){const n=e[t];return Nr(n)?n:n[pn]}function $o(t,e){return null==e?null:t[e]}function $c(t){t[Lo]=0}function Th(t){1024&t[qe]||(t[qe]|=1024,da(t,1))}function Hg(t){1024&t[qe]&&(t[qe]&=-1025,da(t,-1))}function da(t,e){let n=t[Qt];if(null===n)return;n[ys]+=e;let r=n;for(n=n[Qt];null!==n&&(1===e&&1===r[ys]||-1===e&&0===r[ys]);)n[ys]+=e,r=n,n=n[Qt]}const Ue={lFrame:Yg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bh(){return Ue.bindingsEnabled}function ee(){return Ue.lFrame.lView}function It(){return Ue.lFrame.tView}function Dt(t){return Ue.lFrame.contextLView=t,t[wn]}function Rt(t){return Ue.lFrame.contextLView=null,t}function qn(){let t=zc();for(;null!==t&&64===t.type;)t=t.parent;return t}function zc(){return Ue.lFrame.currentTNode}function xi(t,e){const n=Ue.lFrame;n.currentTNode=t,n.isParent=e}function yu(){return Ue.lFrame.isParent}function vr(){const t=Ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fa(){return Ue.lFrame.bindingIndex++}function hI(t,e){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wc(e)}function Wc(t){Ue.lFrame.currentDirectiveIndex=t}function vu(){return Ue.lFrame.currentQueryIndex}function xh(t){Ue.lFrame.currentQueryIndex=t}function pI(t){const e=t[ye];return 2===e.type?e.declTNode:1===e.type?t[hr]:null}function Kg(t,e,n){if(n&ot.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ot.Host||(i=pI(o),null===i||(o=o[ra],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Ue.lFrame=Qg();return r.currentTNode=e,r.lView=t,!0}function Nh(t){const e=Qg(),n=t[ye];Ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qg(){const t=Ue.lFrame,e=null===t?null:t.child;return null===e?Yg(t):e}function Yg(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Jg(){const t=Ue.lFrame;return Ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xg=Jg;function Iu(){const t=Jg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ir(){return Ue.lFrame.selectedIndex}function ws(t){Ue.lFrame.selectedIndex=t}function sn(){const t=Ue.lFrame;return wh(t.tView,t.selectedIndex)}let nm=!0;function pa(){return nm}function so(t){nm=t}function ga(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Zc(t,e,n){Kc(t,e,3,n)}function Eu(t,e,n,r){(3&t[qe])===n&&Kc(t,e,n,r)}function Oh(t,e){let n=t[qe];(3&n)===e&&(n&=8191,n+=1,t[qe]=n)}function Kc(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Lo]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Lo]+=65536),(a<o||-1==o)&&(zb(t,n,e,u),t[Lo]=(4294901760&t[Lo])+u+2),u++}function rm(t,e){pi(4,t,e);const n=kr(null);try{e.call(t)}finally{kr(n),pi(5,t,e)}}function zb(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[qe]>>13<t[Lo]>>16&&(3&t[qe])===e&&(t[qe]+=8192,rm(a,o)):rm(a,o)}const Ho=-1;class ma{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Jc(t){return t!==Ho}function wu(t){return 32767&t}function f(t,e){let n=function DI(t){return t>>16}(t),r=e;for(;n>0;)r=r[ra],n--;return r}let c=!0;function d(t){const e=c;return c=t,e}const _=255,E=5;let P=0;const V={};function we(t,e){const n=dt(t,e);if(-1!==n)return n;const r=e[ye];r.firstCreatePass&&(t.injectorIndex=e.length,Oe(r.data,t),Oe(e,null),Oe(r.blueprint,null));const i=er(t,e),o=t.injectorIndex;if(Jc(i)){const s=wu(i),a=f(i,e),u=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Oe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dt(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function er(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Zb(i),null===r)return Ho;if(n++,i=i[ra],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ho}function ao(t,e,n){!function ne(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(au)&&(r=n[au]),null==r&&(r=n[au]=P++);const i=r&_;e.data[t+(i>>E)]|=1<<i}(t,e,n)}function kh(t,e,n){if(n&ot.Optional||void 0!==t)return t;$d()}function el(t,e,n,r){if(n&ot.Optional&&void 0===r&&(r=null),!(n&(ot.Self|ot.Host))){const i=t[Xi],o=Pr(void 0);try{return i?i.get(e,r,n&ot.Optional):yc(e,r,n&ot.Optional)}finally{Pr(o)}}return kh(r,0,n)}function Vh(t,e,n,r=ot.Default,i){if(null!==t){if(2048&e[qe]&&!(r&ot.Self)){const s=function tU(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[qe]&&!(512&s[qe]);){const a=Fh(o,s,n,r|ot.Self,V);if(a!==V)return a;let u=o.parent;if(!u){const l=s[sh];if(l){const h=l.get(n,V,r);if(h!==V)return h}u=Zb(s),s=s[ra]}o=u}return i}(t,e,n,r,V);if(s!==V)return s}const o=Fh(t,e,n,r,V);if(o!==V)return o}return el(e,n,r,i)}function Fh(t,e,n,r,i){const o=function Uh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(au)?t[au]:void 0;return"number"==typeof e?e>=0?e&_:eU:e}(n);if("function"==typeof o){if(!Kg(e,t,r))return r&ot.Host?kh(i,0,r):el(e,n,r,i);try{let s;if(s=o(r),null!=s||r&ot.Optional)return s;$d()}finally{Xg()}}else if("number"==typeof o){let s=null,a=dt(t,e),u=Ho,l=r&ot.Host?e[on][hr]:null;for((-1===a||r&ot.SkipSelf)&&(u=-1===a?er(t,e):e[a+8],u!==Ho&&im(r,!1)?(s=e[ye],a=wu(u),e=f(u,e)):a=-1);-1!==a;){const h=e[ye];if(Bh(o,a,h.data)){const g=Lh(a,e,n,s,r,l);if(g!==V)return g}u=e[a+8],u!==Ho&&im(r,e[ye].data[a+8]===l)&&Bh(o,a,e)?(s=h,a=wu(u),e=f(u,e)):a=-1}}return i}function Lh(t,e,n,r,i,o){const s=e[ye],a=s.data[t+8],h=Cu(a,s,n,null==r?oa(a)&&c:r!=s&&0!=(3&a.type),i&ot.Host&&o===a);return null!==h?zo(e,s,h,a):V}function Cu(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let y=r?a:a+h;y<m;y++){const D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){const y=s[u];if(y&&io(y)&&y.type===n)return u}return null}function zo(t,e,n,r){let i=t[n];const o=e.data;if(function Qc(t){return t instanceof ma}(i)){const s=i;s.resolving&&function ms(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():be(t)}(o[n]));const a=d(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Pr(s.injectImpl):null;Kg(t,r,ot.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function II(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Lc(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Pr(l),d(a),s.resolving=!1,Xg()}}return i}function Bh(t,e,n){return!!(n[e+(t>>E)]&1<<t)}function im(t,e){return!(t&ot.Self||t&ot.Host&&e)}class ni{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Vh(this._tNode,this._lView,e,ea(r),n)}}function eU(){return new ni(qn(),ee())}function Er(t){return yo(()=>{const e=t.prototype.constructor,n=e[Ji]||bI(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ji]||bI(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bI(t){return se(t)?()=>{const e=bI(R(t));return e&&e()}:Mi(t)}function Zb(t){const e=t[ye],n=e.type;return 2===n?e.declTNode:1===n?t[hr]:null}const nl="__parameters__";function il(t,e,n){return yo(()=>{const r=function AI(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,h){const g=u.hasOwnProperty(nl)?u[nl]:Object.defineProperty(u,nl,{value:[]})[nl];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function sl(t,e){t.forEach(n=>Array.isArray(n)?sl(n,e):e(n))}function Qb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ni(t,e,n){let r=al(t,e);return r>=0?t[1|r]=n:(r=~r,function uU(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function SI(t,e){const n=al(t,e);if(n>=0)return t[1|n]}function al(t,e){return function Yb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const qo=Qi(il("Optional"),8),um=Qi(il("SkipSelf"),4);function fm(t){return 128==(128&t.flags)}var _a=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_a||{});const NI=new Map;let xU=0;const kI="__ngContext__";function Fr(t,e){Nr(e)?(t[kI]=e[fu],function OU(t){NI.set(t[fu],t)}(e)):t[kI]=e}let VI;function FI(t,e){return VI(t,e)}function qh(t){const e=t[Qt];return Or(e)?e[Qt]:e}function _A(t){return vA(t[du])}function yA(t){return vA(t[Pi])}function vA(t){for(;null!==t&&!Or(t);)t=t[Pi];return t}function ll(t,e,n,r,i){if(null!=r){let o,s=!1;Or(r)?o=r:Nr(r)&&(s=!0,r=r[pn]);const a=Ft(r);0===t&&null!==n?null==i?CA(e,n,a):Du(e,n,a,i||null,!0):1===t&&null!==n?Du(e,n,a,i||null,!0):2===t?function Im(t,e,n){const r=ym(t,e);r&&function XU(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function nB(t,e,n,r,i){const o=n[ro];o!==Ft(n)&&ll(e,t,r,o,i);for(let a=$n;a<n.length;a++){const u=n[a];Wh(u[ye],u,t,e,r,o)}}(e,t,o,n,i)}}function mm(t,e,n){return t.createElement(e,n)}function EA(t,e){const n=t[pu],r=n.indexOf(e);Hg(e),n.splice(r,1)}function _m(t,e){if(t.length<=$n)return;const n=$n+e,r=t[n];if(r){const i=r[hu];null!==i&&i!==t&&EA(i,r),e>0&&(t[n-1][Pi]=r[Pi]);const o=sm(t,$n+e);!function qU(t,e){Wh(t,e,e[je],2,null,null),e[pn]=null,e[hr]=null}(r[ye],r);const s=o[eo];null!==s&&s.detachView(o[ye]),r[Qt]=null,r[Pi]=null,r[qe]&=-129}return r}function UI(t,e){if(!(256&e[qe])){const n=e[je];e[no]&&Vc(e[no]),e[ia]&&Vc(e[ia]),n.destroyNode&&Wh(t,e,n,3,null,null),function ZU(t){let e=t[du];if(!e)return BI(t[ye],t);for(;e;){let n=null;if(Nr(e))n=e[du];else{const r=e[$n];r&&(n=r)}if(!n){for(;e&&!e[Pi]&&e!==t;)Nr(e)&&BI(e[ye],e),e=e[Qt];null===e&&(e=t),Nr(e)&&BI(e[ye],e),n=e&&e[Pi]}e=n}}(e)}}function BI(t,e){if(!(256&e[qe])){e[qe]&=-129,e[qe]|=256,function JU(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ma)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];pi(4,a,u);try{u.call(a)}finally{pi(5,a,u)}}else{pi(4,i,o);try{o.call(i)}finally{pi(5,i,o)}}}}}(t,e),function YU(t,e){const n=t.cleanup,r=e[Fo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Fo]=null);const i=e[to];if(null!==i){e[to]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[ye].type&&e[je].destroy();const n=e[hu];if(null!==n&&Or(e[Qt])){n!==e[Qt]&&EA(n,e);const r=e[eo];null!==r&&r.detachView(t)}!function kU(t){NI.delete(t[fu])}(e)}}function jI(t,e,n){return function wA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[pn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===cr.None||o===cr.Emulated)return null}return Vr(r,n)}}(t,e.parent,n)}function Du(t,e,n,r,i){t.insertBefore(e,n,r,i)}function CA(t,e,n){t.appendChild(e,n)}function DA(t,e,n,r,i){null!==r?Du(t,e,n,r,i):CA(t,e,n)}function ym(t,e){return t.parentNode(e)}let $I,GI,wm,AA=function bA(t,e,n){return 40&t.type?Vr(t,n):null};function vm(t,e,n,r){const i=jI(t,r,e),o=e[je],a=function TA(t,e,n){return AA(t,e,n)}(r.parent||e[hr],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)DA(o,i,n[u],a,!1);else DA(o,i,n,a,!1);void 0!==$I&&$I(o,r,e,n,i)}function Gh(t,e){if(null!==e){const n=e.type;if(3&n)return Vr(e,t);if(4&n)return HI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Gh(t,r);{const i=t[e.index];return Or(i)?HI(-1,i):Ft(i)}}if(32&n)return FI(e,t)()||Ft(t[e.index]);{const r=RA(t,e);return null!==r?Array.isArray(r)?r[0]:Gh(qh(t[on]),r):Gh(t,e.next)}}return null}function RA(t,e){return null!==e?t[on][hr].projection[e.projection]:null}function HI(t,e){const n=$n+t+1;if(n<e.length){const r=e[n],i=r[ye].firstChild;if(null!==i)return Gh(r,i)}return e[ro]}function zI(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Fr(Ft(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)zI(t,e,n.child,r,i,o,!1),ll(e,t,i,a,o);else if(32&u){const l=FI(n,r);let h;for(;h=l();)ll(e,t,i,h,o);ll(e,t,i,a,o)}else 16&u?MA(t,e,r,n,i,o):ll(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wh(t,e,n,r,i,o){zI(n,r,t.firstChild,e,i,o,!1)}function MA(t,e,n,r,i,o){const s=n[on],u=s[hr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)ll(e,t,i,u[l],o);else{let l=u;const h=s[Qt];fm(r)&&(l.flags|=128),zI(t,e,l,h,i,o,!0)}}function xA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function NA(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Tc(t,e,r),null!==i&&xA(t,e,i),null!==o&&function iB(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function VA(t){return function WI(){if(void 0===wm&&(wm=null,Vt.trustedTypes))try{wm=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wm}()?.createScriptURL(t)||t}class FA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}function ya(t){return t instanceof FA?t.changingThisBreaksApplicationSecurity:t}function Zh(t,e){const n=function pB(t){return t instanceof FA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${it})`)}return n===e}const yB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fl||{});function zA(t){const e=Qh();return e?e.sanitize(fl.URL,t)||"":Zh(t,"URL")?ya(t):function ZI(t){return(t=String(t)).match(yB)?t:"unsafe:"+t}(be(t))}function qA(t){const e=Qh();if(e)return VA(e.sanitize(fl.RESOURCE_URL,t)||"");if(Zh(t,"ResourceURL"))return VA(ya(t));throw new q(904,!1)}function Qh(){const t=ee();return t&&t[na].sanitizer}class Ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yh=new Ee("ENVIRONMENT_INITIALIZER"),WA=new Ee("INJECTOR",-1),ZA=new Ee("INJECTOR_DEF_TYPES");class JI{get(e,n=ru){if(n===ru){const r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return n}}function MB(...t){return{\u0275providers:QA(0,t),\u0275fromNgModule:!0}}function QA(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return sl(e,s=>{const a=s;Dm(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&YA(i,o),n}function YA(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];XI(i,o=>{e(o,r)})}}function Dm(t,e,n,r){if(!(t=R(t)))return!1;let i=null,o=Xa(t);const s=!o&&vt(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Xa(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)Dm(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{sl(o.imports,h=>{Dm(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&YA(l,e)}if(!a){const l=Mi(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:ZA,useValue:i,multi:!0},i),e({provide:Yh,useValue:()=>ce(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=t;XI(u,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function XI(t,e){for(let n of t)Re(n)&&(n=n.\u0275providers),Array.isArray(n)?XI(n,e):e(n)}const xB=_e({provide:String,useValue:_e});function eE(t){return null!==t&&"object"==typeof t&&xB in t}function Tu(t){return"function"==typeof t}const tE=new Ee("Set Injector scope."),Tm={},OB={};let nE;function bm(){return void 0===nE&&(nE=new JI),nE}class co{}class Am extends co{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iE(e,s=>this.processProvider(s)),this.records.set(WA,pl(void 0,this)),i.has("environment")&&this.records.set(co,pl(void 0,this));const o=this.records.get(tE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ZA.multi,ft,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Mr(this),r=Pr(void 0);try{return e()}finally{Mr(n),Pr(r)}}get(e,n=ru,r=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Dc))return e[Dc](this);r=ea(r);const o=Mr(this),s=Pr(void 0);try{if(!(r&ot.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function UB(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ee}(e)&&gc(e);u=l&&this.injectableDefInScope(l)?pl(rE(e),Tm):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ot.Self?bm():this.parent).get(e,n=r&ot.Optional&&n===ru?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ic]=a[Ic]||[]).unshift(xe(e)),o)throw a;return function Bv(t,e,n,r){const i=t[Ic];throw e[Ig]&&i.unshift(e[Ig]),t.message=function jv(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=xe(e);if(Array.isArray(e))i=e.map(xe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):xe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Lv,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ic]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Pr(s),Mr(o)}}resolveInjectorInitializers(){const e=Mr(this),n=Pr(void 0);try{const i=this.get(Yh.multi,ft,ot.Self);for(const o of i)o()}finally{Mr(e),Pr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(xe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){let n=Tu(e=R(e))?e:R(e&&e.provide);const r=function VB(t){return eE(t)?pl(void 0,t.useValue):pl(eS(t),Tm)}(e);if(Tu(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=pl(void 0,Tm,!0),i.factory=()=>Ri(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Tm&&(n.value=OB,n.value=n.factory()),"object"==typeof n.value&&n.value&&function LB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=R(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function rE(t){const e=gc(t),n=null!==e?e.factory:Mi(t);if(null!==n)return n;if(t instanceof Ee)throw new q(204,!1);if(t instanceof Function)return function kB(t){const e=t.length;if(e>0)throw function $h(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new q(204,!1);const n=function zd(t){return t&&(t[Qs]||t[mc])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new q(204,!1)}function eS(t,e,n){let r;if(Tu(t)){const i=R(t);return Mi(i)||rE(i)}if(eE(t))r=()=>R(t.useValue);else if(function XA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ri(t.deps||[]));else if(function JA(t){return!(!t||!t.useExisting)}(t))r=()=>ce(R(t.useExisting));else{const i=R(t&&(t.useClass||t.provide));if(!function FB(t){return!!t.deps}(t))return Mi(i)||rE(i);r=()=>new i(...Ri(t.deps))}return r}function pl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iE(t,e){for(const n of t)Array.isArray(n)?iE(n,e):n&&Re(n)?iE(n.\u0275providers,e):e(n)}const Sm=new Ee("AppId",{providedIn:"root",factory:()=>BB}),BB="ng",tS=new Ee("Platform Initializer"),Go=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nS=new Ee("CSP nonce",{providedIn:"root",factory:()=>function hl(){if(void 0!==GI)return GI;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rS=(t,e,n)=>null;function hE(t,e,n=!1){return rS(t,e,n)}class QB{}class sS{}class JB{resolveComponentFactory(e){throw function YB(t){const e=Error(`No component factory found for ${xe(t)}.`);return e.ngComponent=t,e}(e)}}let Om=(()=>{class t{static#e=this.NULL=new JB}return t})();function XB(){return _l(qn(),ee())}function _l(t,e){return new mi(Vr(t,e))}let mi=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=XB}return t})();function ej(t){return t instanceof mi?t.nativeElement:t}class uS{}let Ts=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function tj(){const t=ee(),n=ti(qn().index,t);return(Nr(n)?n:t)[je]}()}return t})(),nj=(()=>{class t{static#e=this.\u0275prov=Pe({token:t,providedIn:"root",factory:()=>null})}return t})();class yl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gE=new yl("16.2.9"),mE={};function hS(t,e=null,n=null,r){const i=fS(t,e,n,r);return i.resolveInjectorInitializers(),i}function fS(t,e=null,n=null,r,i=new Set){const o=[n||ft,MB(t)];return r=r||("object"==typeof t?void 0:xe(t)),new Am(o,e||bm(),r||null,i)}let ri=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ru;static#t=this.NULL=new JI;static create(n,r){if(Array.isArray(n))return hS({name:""},r,n,"");{const i=n.name??"";return hS({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Pe({token:t,providedIn:"any",factory:()=>ce(WA)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function yE(t){return t.ngOriginalError}class bs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yE(e);for(;n&&yE(n);)n=yE(n);return n||null}}function IE(t){return e=>{setTimeout(t,void 0,e)}}const Cn=class cj extends ${constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=IE(o),i&&(i=IE(i)),s&&(s=IE(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof wt&&e.add(a),a}};function gS(...t){}class Tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cn(!1),this.onMicrotaskEmpty=new Cn(!1),this.onStable=new Cn(!1),this.onError=new Cn(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function lj(){const t="function"==typeof Vt.requestAnimationFrame;let e=Vt[t?"requestAnimationFrame":"setTimeout"],n=Vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function fj(t){const e=()=>{!function hj(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wE(t),t.isCheckStableRunning=!0,EE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function gj(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return mS(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),_S(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return mS(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),_S(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,wE(t),EE(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tt.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Tt.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,dj,gS,gS);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const dj={};function EE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _S(t){t._nesting--,EE(t)}class pj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cn,this.onMicrotaskEmpty=new Cn,this.onStable=new Cn,this.onError=new Cn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const yS=new Ee("",{providedIn:"root",factory:vS});function vS(){const t=Te(Tt);let e=!0;return w(new Xe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Xe(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Tt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Z()))}function As(t){return t instanceof Function?t():t}let CE=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pe({token:t,providedIn:"root",factory:()=>new t})}return t})();function ef(t){for(;t;){t[qe]|=64;const e=qh(t);if(gu(t)&&!e)return t;t=e}return null}const DS=new Ee("",{providedIn:"root",factory:()=>!1});let Vm=null;function SS(t,e){return t[e]??MS()}function RS(t,e){const n=MS();n.producerNode?.length&&(t[e]=Vm,n.lView=t,Vm=PS())}const Tj={...Mg,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ef(t.lView)},lView:null};function PS(){return Object.create(Tj)}function MS(){return Vm??=PS(),Vm}const Je={};function ae(t){xS(It(),ee(),Ir()+t,!1)}function xS(t,e,n,r){if(!r)if(3==(3&e[qe])){const o=t.preOrderCheckHooks;null!==o&&Zc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Eu(e,o,0,n)}ws(n)}function G(t,e=ot.Default){const n=ee();return null===n?ce(t,e):Vh(qn(),n,R(t),e)}function Fm(t,e,n,r,i,o,s,a,u,l,h){const g=e.blueprint.slice();return g[pn]=i,g[qe]=140|r,(null!==l||t&&2048&t[qe])&&(g[qe]|=2048),$c(g),g[Qt]=g[ra]=t,g[wn]=n,g[na]=s||t&&t[na],g[je]=a||t&&t[je],g[Xi]=u||t&&t[Xi]||null,g[hr]=o,g[fu]=function NU(){return xU++}(),g[vo]=h,g[sh]=l,g[on]=2==e.type?t[on]:g,g}function El(t,e,n,r,i){let o=t.data[e];if(null===o)o=function DE(t,e,n,r,i){const o=zc(),s=yu(),u=t.data[e]=function Nj(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function ha(){return null!==Ue.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function dI(){return Ue.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Es(){const t=Ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return xi(o,!0),o}function tf(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function OS(t,e,n,r,i){const o=SS(e,no),s=Ir(),a=2&r;try{ws(-1),a&&e.length>ct&&xS(t,e,ct,!1),pi(a?2:0,i);const l=a?o:null,h=Is(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{aa(l,h)}}finally{a&&null===e[no]&&RS(e,no),ws(s),pi(a?3:1,i)}}function TE(t,e,n){if(Ag(e)){const r=kr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{kr(r)}}}function bE(t,e,n){bh()&&(function Bj(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;oa(n)&&function Wj(t,e,n){const r=Vr(e,t),i=kS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Lm(t,Fm(t,i,null,s,r,e,null,t[na].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||we(n,e),Fr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],l=zo(e,t,a,n);Fr(l,e),null!==s&&Zj(0,a-i,l,u,0,s),io(u)&&(ti(n.index,e)[wn]=zo(e,t,a,n))}}(t,e,n,Vr(n,e)),64==(64&n.flags)&&BS(t,e,n))}function AE(t,e,n=Vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function kS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=SE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function SE(t,e,n,r,i,o,s,a,u,l,h){const g=ct+r,m=g+i,y=function Aj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Je);return n}(g,m),D="function"==typeof l?l():l;return y[ye]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}let VS=t=>null;function FS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?LS(n,e,i,o):r.hasOwnProperty(i)&&LS(n,e,r[i],o)}return n}function LS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function RE(t,e,n,r){if(bh()){const i=null===r?null:{"":-1},o=function $j(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(cu(e,s.selectors,!1))if(r||(r=[]),io(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),PE(t,e,a.length)}else r.unshift(s),PE(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&US(t,e,n,s,i,a),i&&function Hj(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new q(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=_s(n.mergedAttrs,n.attrs)}function US(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ao(we(n,e),t,r[l].type);!function qj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=tf(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=_s(n.mergedAttrs,h.hostAttrs),Gj(t,n,e,u,h),zj(u,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const g=h.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function Oj(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,l=null;for(let h=e.directiveStart;h<i;h++){const g=o[h],m=n?n.get(g):null,D=m?m.outputs:null;u=FS(g.inputs,h,u,m?m.inputs:null),l=FS(g.outputs,h,l,D);const S=null===u||null===s||Rc(e)?null:Kj(u,h,s);a.push(S)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,o)}function BS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function fI(){return Ue.lFrame.currentDirectiveIndex}();try{ws(o);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];Wc(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&jj(u,l)}}finally{ws(-1),Wc(s)}}function jj(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function PE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;io(e)&&(n[""]=t)}}function Gj(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Mi(i.type)),s=new ma(o,io(i),G);t.blueprint[r]=s,n[r]=s,function Lj(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Uj(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,tf(t,n,i.hostVars,Je),i)}function Wo(t,e,n,r,i,o){const s=Vr(t,e);!function ME(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?be(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[je],s,o,t.value,n,r,i)}function Zj(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)jS(r,n,s[a++],s[a++],s[a++])}function jS(t,e,n,r,i){const o=kr(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{kr(o)}}function Kj(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $S(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function HS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];xh(n[r]),s.contentQueries(2,e[o],o)}}}function Lm(t,e){return t[du]?t[Nc][Pi]=e:t[du]=e,t[Nc]=e,e}function xE(t,e,n){xh(0);const r=kr(null);try{e(t,n)}finally{kr(r)}}function zS(t){return t[Fo]||(t[Fo]=[])}function qS(t){return t.cleanup||(t.cleanup=[])}function WS(t,e){const n=t[Xi],r=n?n.get(bs,null):null;r&&r.handleError(e)}function NE(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];jS(t.data[s],e[s],r,a,i)}}function Qj(t,e){const n=ti(e,t),r=n[ye];!function Yj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[pn];null!==i&&null===n[vo]&&(n[vo]=hE(i,n[Xi])),OE(r,n,n[wn])}function OE(t,e,n){Nh(e);try{const r=t.viewQuery;null!==r&&xE(1,r,n);const i=t.template;null!==i&&OS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HS(t,e),t.staticViewQueries&&xE(2,t.viewQuery,n);const o=t.components;null!==o&&function Jj(t,e){for(let n=0;n<e.length;n++)Qj(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[qe]&=-5,Iu()}}let ZS=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Ug(t,e,n){const r=Object.create(tI);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>ph(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Og(r))return;r.hasRun=!0;const s=Is(r);try{r.cleanupFn(),r.cleanupFn=Bg,r.fn(i)}finally{aa(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pe({token:t,providedIn:"root",factory:()=>new t})}return t})();function Um(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Un(i,a):2==o&&(r=Un(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function nf(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Ft(o)),Or(o)&&KS(o,r);const s=n.type;if(8&s)nf(t,e,n.child,r);else if(32&s){const a=FI(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=RA(e,n);if(Array.isArray(a))r.push(...a);else{const u=qh(e[on]);nf(u[ye],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KS(t,e){for(let n=$n;n<t.length;n++){const r=t[n],i=r[ye].firstChild;null!==i&&nf(r[ye],r,i,e)}t[ro]!==t[pn]&&e.push(t[ro])}function Bm(t,e,n,r=!0){const i=e[na],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{QS(t,e,t.template,n)}catch(u){throw r&&WS(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function QS(t,e,n,r){const i=e[qe];if(256!=(256&i)){e[na].effectManager?.flush(),Nh(e);try{$c(e),function qc(t){return Ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&OS(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&Zc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Eu(e,l,0,null),Oh(e,0)}if(function t$(t){for(let e=_A(t);null!==e;e=yA(e)){if(!e[bg])continue;const n=e[pu];for(let r=0;r<n.length;r++){Th(n[r])}}}(e),YS(e,2),null!==t.contentQueries&&HS(t,e),s){const l=t.contentCheckHooks;null!==l&&Zc(e,l)}else{const l=t.contentHooks;null!==l&&Eu(e,l,1),Oh(e,1)}!function bj(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=SS(e,ia);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)ws(~o);else{const s=o,a=n[++i],u=n[++i];hI(a,s),r.dirty=!1;const l=Is(r);try{u(2,e[s])}finally{aa(r,l)}}}}finally{null===e[ia]&&RS(e,ia),ws(-1)}}(t,e);const a=t.components;null!==a&&XS(e,a,0);const u=t.viewQuery;if(null!==u&&xE(2,u,r),s){const l=t.viewCheckHooks;null!==l&&Zc(e,l)}else{const l=t.viewHooks;null!==l&&Eu(e,l,2),Oh(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[qe]&=-73,Hg(e)}finally{Iu()}}}function YS(t,e){for(let n=_A(t);null!==n;n=yA(n))for(let r=$n;r<n.length;r++)JS(n[r],e)}function n$(t,e,n){JS(ti(e,t),n)}function JS(t,e){if(!function iI(t){return 128==(128&t[qe])}(t))return;const n=t[ye],r=t[qe];if(80&r&&0===e||1024&r||2===e)QS(n,t,n.template,t[wn]);else if(t[ys]>0){YS(t,1);const i=n.components;null!==i&&XS(t,i,1)}}function XS(t,e,n){for(let r=0;r<e.length;r++)n$(t,e[r],n)}class rf{get rootNodes(){const e=this._lView,n=e[ye];return nf(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(e){this._lView[wn]=e}get destroyed(){return 256==(256&this._lView[qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qt];if(Or(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(_m(e,r),sm(n,r))}this._attachedToViewContainer=!1}UI(this._lView[ye],this._lView)}onDestroy(e){!function zg(t,e){if(256==(256&t[qe]))throw new q(911,!1);null===t[to]&&(t[to]=[]),t[to].push(e)}(this._lView,e)}markForCheck(){ef(this._cdRefInjectingView||this._lView)}detach(){this._lView[qe]&=-129}reattach(){this._lView[qe]|=128}detectChanges(){Bm(this._lView[ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WU(t,e){Wh(t,e,e[je],2,null,null)}(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e}}class r$ extends rf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Bm(e[ye],e,e[wn],!1)}checkNoChanges(){}get context(){return null}}class eR extends Om{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=vt(e);return new sf(n,this.ngModule)}}function tR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class o${constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ea(r);const i=this.injector.get(e,mE,r);return i!==mE||n===mE?i:this.parentInjector.get(e,n,r)}}class sf extends sS{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=tR(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function th(t){return t.map($v).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof co?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new o$(e,o):e,a=s.get(uS,null);if(null===a)throw new q(407,!1);const g={rendererFactory:a,sanitizer:s.get(nj,null),effectManager:s.get(ZS,null),afterRenderEventManager:s.get(CE,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",D=r?function Sj(t,e,n,r){const o=r.get(DS,!1)||n===cr.ShadowDom,s=t.selectRootElement(e,o);return function Rj(t){VS(t)}(s),s}(m,r,this.componentDef.encapsulation,s):mm(m,y,function i$(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),U=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let N=null;null!==D&&(N=hE(D,s,!0));const z=SE(0,null,null,1,0,null,null,null,null,null,null),ue=Fm(null,z,null,U,null,null,g,m,s,null,N);let me,We;Nh(ue);try{const Lt=this.componentDef;let Sr,hg=null;Lt.findHostDirectiveDefs?(Sr=[],hg=new Map,Lt.findHostDirectiveDefs(Lt,Sr,hg),Sr.push(Lt)):Sr=[Lt];const Pv=function a$(t,e){const n=t[ye],r=ct;return t[r]=e,El(n,r,2,"#host",null)}(ue,D),QX=function u$(t,e,n,r,i,o,s){const a=i[ye];!function c$(t,e,n,r){for(const i of t)e.mergedAttrs=_s(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Um(e,e.mergedAttrs,!0),null!==n&&NA(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=hE(e,i[Xi]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=Fm(i,kS(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&PE(a,t,r.length-1),Lm(i,g),i[t.index]=g}(Pv,D,Lt,Sr,ue,g,m);We=wh(z,ct),D&&function d$(t,e,n,r){if(r)Tc(t,n,["ng-version",gE.full]);else{const{attrs:i,classes:o}=function Hv(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!fi(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Tc(t,n,i),o&&o.length>0&&xA(t,n,o.join(" "))}}(m,Lt,D,r),void 0!==n&&function h$(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(We,this.ngContentSelectors,n),me=function l$(t,e,n,r,i,o){const s=qn(),a=i[ye],u=Vr(s,i);US(a,i,s,n,null,r);for(let h=0;h<n.length;h++)Fr(zo(i,a,s.directiveStart+h,s),i);BS(a,i,s),u&&Fr(u,i);const l=zo(i,a,s.directiveStart+s.componentOffset,s);if(t[wn]=i[wn]=l,null!==o)for(const h of o)h(l,e);return TE(a,s,t),l}(QX,Lt,Sr,hg,ue,[f$]),OE(z,ue,null)}finally{Iu()}return new s$(this.componentType,me,_l(We,ue),ue,We)}}class s$ extends QB{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new r$(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;NE(o[ye],o,i,e,n),this.previousInputValues.set(e,n),ef(ti(this._tNode.index,o))}}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function f$(){const t=qn();ga(ee()[ye],t)}function Bt(t){let e=function nR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(io(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=jm(t.inputs),s.inputTransforms=jm(t.inputTransforms),s.declaredInputs=jm(t.declaredInputs),s.outputs=jm(t.outputs);const a=i.hostBindings;a&&_$(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&g$(t,u),l&&m$(t,l),kt(t.inputs,i.inputs),kt(t.declaredInputs,i.declaredInputs),kt(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),kt(s.inputTransforms,i.inputTransforms)),io(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Bt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function p$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_s(i.hostAttrs,n=_s(n,i.hostAttrs))}}(r)}function jm(t){return t===Yi?{}:t===ft?[]:t}function g$(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function m$(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function _$(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function sR(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function $m(t){return!!kE(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kE(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zo(t,e,n){return t[e]=n}function Lr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ko(t,e,n,r){const i=ee();return Lr(i,fa(),e)&&(It(),Wo(sn(),i,t,e,n,r)),Ko}function Ge(t,e,n,r,i,o,s,a){const u=ee(),l=It(),h=t+ct,g=l.firstCreatePass?function $$(t,e,n,r,i,o,s,a,u){const l=e.consts,h=El(e,t,4,s||null,$o(l,a));RE(e,n,h,$o(l,u)),ga(e,h);const g=h.tView=SE(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,l,u,e,n,r,i,o,s):l.data[h];xi(g,!1);const m=vR(l,u,g,t);pa()&&vm(l,u,m,g),Fr(m,u),Lm(u,u[h]=$S(m,u,m,g)),ch(g)&&bE(l,u,g),null!=s&&AE(u,g,a)}let vR=function IR(t,e,n,r){return so(!0),e[je].createComment("")};function de(t,e,n){const r=ee();return Lr(r,fa(),e)&&function Oi(t,e,n,r,i,o,s,a){const u=Vr(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(NE(t,n,h,r,i),oa(e)&&function Vj(t,e){const n=ti(e,t);16&n[qe]||(n[qe]|=64)}(n,e.index)):3&e.type&&(r=function kj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(It(),sn(),r,t,e,r[je],n,!1),de}function jE(t,e,n,r,i){const s=i?"class":"style";NE(t,n,e.inputs[s],s,r)}function K(t,e,n,r){const i=ee(),o=It(),s=ct+t,a=i[je],u=o.firstCreatePass?function G$(t,e,n,r,i,o){const s=e.consts,u=El(e,t,2,r,$o(s,i));return RE(e,n,u,$o(s,o)),null!==u.attrs&&Um(u,u.attrs,!1),null!==u.mergedAttrs&&Um(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],l=wR(o,i,u,a,e,t);i[s]=l;const h=ch(u);return xi(u,!0),NA(a,l,u),32!=(32&u.flags)&&pa()&&vm(o,i,l,u),0===function sI(){return Ue.lFrame.elementDepthCount}()&&Fr(l,i),function Gg(){Ue.lFrame.elementDepthCount++}(),h&&(bE(o,i,u),TE(o,u,i)),null!==r&&AE(i,u),K}function W(){let t=qn();yu()?function Rh(){Ue.lFrame.isParent=!1}():(t=t.parent,xi(t,!1));const e=t;(function aI(t){return Ue.skipHydrationRootTNode===t})(e)&&function Sh(){Ue.skipHydrationRootTNode=null}(),function Wg(){Ue.lFrame.elementDepthCount--}();const n=It();return n.firstCreatePass&&(ga(n,t),Ag(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function wI(t){return 0!=(8&t.flags)}(e)&&jE(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function CI(t){return 0!=(16&t.flags)}(e)&&jE(n,e,ee(),e.stylesWithoutHost,!1),W}function Dn(t,e,n,r){return K(t,e,n,r),W(),Dn}let wR=(t,e,n,r,i,o)=>(so(!0),mm(r,i,function tm(){return Ue.lFrame.currentNamespace}()));function an(){return ee()}function df(t){return!!t&&"function"==typeof t.then}function TR(t){return!!t&&"function"==typeof t.subscribe}function et(t,e,n,r){const i=ee(),o=It(),s=qn();return function AR(t,e,n,r,i,o,s){const a=ch(r),l=t.firstCreatePass&&qS(t),h=e[wn],g=zS(e);let m=!0;if(3&r.type||s){const S=Vr(r,e),M=s?s(S):S,U=g.length,N=s?ue=>s(Ft(ue[r.index])):r.index;let z=null;if(!s&&a&&(z=function J$(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Fo],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,m=!1;else{o=RR(r,e,h,o,!1);const ue=n.listen(M,i,o);g.push(o,ue),l&&l.push(i,N,U,U+1)}}else o=RR(r,e,h,o,!1);const y=r.outputs;let D;if(m&&null!==y&&(D=y[i])){const S=D.length;if(S)for(let M=0;M<S;M+=2){const me=e[D[M]][D[M+1]].subscribe(o),We=g.length;g.push(o,me),l&&l.push(i,r.index,We,-(We+1))}}}(o,i,i[je],s,t,e,r),et}function SR(t,e,n,r){try{return pi(6,e,n),!1!==n(r)}catch(i){return WS(t,i),!1}finally{pi(7,e,n)}}function RR(t,e,n,r,i){return function o(s){if(s===Function)return r;ef(t.componentOffset>-1?ti(t.index,e):e);let u=SR(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=SR(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function Me(t=1){return function gI(t){return(Ue.lFrame.contextLView=function mI(t,e){for(;t>0;)e=e[ra],t--;return e}(t,Ue.lFrame.contextLView))[wn]}(t)}function Wm(t,e){return t<<17|e<<2}function va(t){return t>>17&32767}function qE(t){return 2|t}function Au(t){return(131068&t)>>2}function GE(t,e){return-131069&t|e<<2}function WE(t){return 1|t}function UR(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?va(o):Au(o),u=!1;for(;0!==a&&(!1===u||s);){const h=t[a+1];a4(t[a],e)&&(u=!0,t[a+1]=r?WE(h):qE(h)),a=r?va(h):Au(h)}u&&(t[n+1]=r?qE(o):WE(o))}function a4(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&al(t,e)>=0}function Zm(t,e){return function Eo(t,e,n,r){const i=ee(),o=It(),s=function Io(t){const e=Ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function ZR(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ir()],s=function WR(t,e){return e>=t.expandoStartIndex}(t,n);(function JR(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function m4(t,e,n,r){const i=function Mh(t){const e=Ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=hf(n=ZE(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ZE(i,t,e,n,r),null===o){let u=function _4(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Au(r))return t[va(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ZE(null,t,e,u[1],r),u=hf(u,e.attrs,r),function y4(t,e,n,r){t[va(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function v4(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hf(r,t[o].hostAttrs,n);return hf(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function o4(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=va(s),u=Au(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||al(n,h)>0)&&(l=!0)):h=n,i)if(0!==u){const m=va(t[a+1]);t[r+1]=Wm(m,a),0!==m&&(t[m+1]=GE(t[m+1],r)),t[a+1]=function r4(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Wm(a,0),0!==a&&(t[a+1]=GE(t[a+1],r)),a=r;else t[r+1]=Wm(u,0),0===a?a=r:t[u+1]=GE(t[u+1],r),u=r;l&&(t[r+1]=qE(t[r+1])),UR(t,h,r,!0),UR(t,h,r,!1),function s4(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&al(o,e)>=0&&(n[r+1]=WE(n[r+1]))}(e,h,t,r,o),s=Wm(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Je&&Lr(i,s,e)&&function QR(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],h=function i4(t){return 1==(1&t)}(l)?YR(u,e,n,i,Au(l),s):void 0;Km(h)||(Km(o)||function n4(t){return 2==(2&t)}(l)&&(o=YR(u,null,n,i,a,s)),function rB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:_a.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_a.Important),t.setStyle(n,r,i,o))}}(r,s,jc(Ir(),n),i,o))}(o,o.data[Ir()],i,i[je],t,i[s+1]=function C4(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=xe(ya(t)))),t}(e,n),r,s)}(t,e,null,!0),Zm}function ZE(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=hf(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ni(t,s,!!n||e[++o]))}return void 0===t?null:t}function YR(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),h=l?u[1]:u,g=null===h;let m=n[i+1];m===Je&&(m=g?ft:void 0);let y=g?SI(m,r):h===r?m:void 0;if(l&&!Km(y)&&(y=SI(u,r)),Km(y)&&(a=y,s))return a;const D=t[i+1];i=s?va(D):Au(D)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=SI(u,r))}return a}function Km(t){return void 0!==t}function le(t,e=""){const n=ee(),r=It(),i=t+ct,o=r.firstCreatePass?El(r,i,1,e,null):r.data[i],s=XR(r,n,o,e,t);n[i]=s,pa()&&vm(r,n,s,o),xi(o,!1)}let XR=(t,e,n,r,i)=>(so(!0),function gm(t,e){return t.createText(e)}(e[je],r));function ki(t){return Jo("",t,""),ki}function Jo(t,e,n){const r=ee(),i=function Cl(t,e,n,r){return Lr(t,fa(),n)?e+be(n)+r:Je}(r,t,e,n);return i!==Je&&function Ss(t,e,n){const r=jc(e,t);!function IA(t,e,n){t.setValue(e,n)}(t[je],r,n)}(r,Ir(),i),Jo}const Nl="en-US";let EP=Nl;function YE(t,e,n,r,i){if(t=R(t),Array.isArray(t))for(let o=0;o<t.length;o++)YE(t[o],e,n,r,i);else{const o=It(),s=ee(),a=qn();let u=Tu(t)?t:R(t.provide);const l=eS(t),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Tu(t)||!t.multi){const y=new ma(l,i,G),D=XE(u,e,i?h:h+m,g);-1===D?(ao(we(a,s),o,u),JE(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{const y=XE(u,e,h+m,g),D=XE(u,e,h,h+m),M=D>=0&&n[D];if(i&&!M||!i&&!(y>=0&&n[y])){ao(we(a,s),o,u);const U=function zH(t,e,n,r,i){const o=new ma(t,n,G);return o.multi=[],o.index=e,o.componentProviders=0,GP(o,i,r&&!n),o}(i?HH:$H,n.length,i,r,l);!i&&M&&(n[D].providerFactory=U),JE(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)}else JE(o,t,y>-1?y:D,GP(n[i?D:y],l,!i&&r));!i&&r&&M&&n[D].componentProviders++}}}function JE(t,e,n,r){const i=Tu(e),o=function NB(t){return!!t.useClass}(e);if(i||o){const u=(o?R(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function GP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function XE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $H(t,e,n,r){return ew(this.multi,[])}function HH(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=zo(n,n[ye],this.providerFactory.index,r);o=a.slice(0,s),ew(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ew(i,o);return o}function ew(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function gn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function jH(t,e,n){const r=It();if(r.firstCreatePass){const i=io(t);YE(n,r.data,r.blueprint,i,!0),YE(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ru{}class WP{}class tw extends Ru{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eR(this);const i=xr(e);this._bootstrapComponents=As(i.bootstrap),this._r3Injector=fS(e,n,[{provide:Ru,useValue:this},{provide:Om,useValue:this.componentFactoryResolver},...r],xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nw extends WP{constructor(e){super(),this.moduleType=e}create(e){return new tw(this.moduleType,e,[])}}class ZP extends Ru{constructor(e){super(),this.componentFactoryResolver=new eR(this),this.instance=null;const n=new Am([...e.providers,{provide:Ru,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],e.parent||bm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function rw(t,e,n=null){return new ZP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let WH=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=QA(0,n.type),i=r.length>0?rw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pe({token:t,providedIn:"environment",factory:()=>new t(ce(co))})}return t})();function KP(t){t.getStandaloneInjector=e=>e.get(WH).getOrCreateStandaloneInjector(t)}function Ur(t,e,n){const r=vr()+t,i=ee();return i[r]===Je?Zo(i,r,n?e.call(n):e()):function af(t,e){return t[e]}(i,r)}function ow(t,e,n,r){return nM(ee(),vr(),t,e,n,r)}function nM(t,e,n,r,i,o){const s=e+n;return Lr(t,s,i)?Zo(t,s+1,o?r.call(o,i):r(i)):function yf(t,e){const n=t[e];return n===Je?void 0:n}(t,s+1)}function rr(t,e){const n=It();let r;const i=t+ct;n.firstCreatePass?(r=function l3(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Mi(r.type)),a=Pr(G);try{const u=d(!1),l=o();return d(u),function q$(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{Pr(a)}}function ir(t,e,n){const r=t+ct,i=ee(),o=la(i,r);return function vf(t,e){return t[ye].data[e].pure}(i,r)?nM(i,vr(),e,o.transform,n,o):o.transform(n)}function g3(){return this._results[Symbol.iterator]()}class sw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Cn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=g3)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function uo(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function sU(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function _3(t,e,n,r=!0){const i=e[ye];if(function KU(t,e,n,r){const i=$n+r,o=n.length;r>0&&(n[i-1][Pi]=e),r<o-$n?(e[Pi]=n[i],Qb(n,$n+r,e)):(n.push(e),e[Pi]=null),e[Qt]=n;const s=e[hu];null!==s&&n!==s&&function QU(t,e){const n=t[pu];e[on]!==e[Qt][Qt][on]&&(t[bg]=!0),null===n?t[pu]=[e]:n.push(e)}(s,e);const a=e[eo];null!==a&&a.insertView(t),e[qe]|=128}(i,e,t,n),r){const o=HI(n,t),s=e[je],a=ym(s,t[ro]);null!==a&&function GU(t,e,n,r,i,o){r[pn]=i,r[hr]=e,Wh(t,r,n,1,i,o)}(i,t[hr],s,e,a,o)}}let Rs=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=I3}return t})();const y3=Rs,v3=class extends y3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function m3(t,e,n,r){const i=e.tView,a=Fm(t,i,n,4096&t[qe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[hu]=t[e.index];const l=t[eo];return null!==l&&(a[eo]=l.createEmbeddedView(i)),OE(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new rf(i)}};function I3(){return e_(qn(),ee())}function e_(t,e){return 4&t.type?new v3(e,t,_l(t,e)):null}let Co=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=b3}return t})();function b3(){return fM(qn(),ee())}const A3=Co,dM=class extends A3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _l(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const e=er(this._hostTNode,this._hostLView);if(Jc(e)){const n=f(e,this._hostLView),r=wu(e);return new ni(n[ye].data[r+8],n)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=hM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function jh(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}const u=s?e:new sf(vt(e)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const M=(s?l:this.parentInjector).get(co,null);M&&(o=M)}vt(u.componentType??{});const y=u.create(l,i,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Dh(t){return Or(t[Qt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[Qt],h=new dM(l,l[hr],l[Qt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return _3(a,i,s,!r),e.attachToViewContainerRef(),Qb(aw(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=hM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=_m(this._lContainer,n);r&&(sm(aw(this._lContainer),n),UI(r[ye],r))}detach(e){const n=this._adjustIndex(e,-1),r=_m(this._lContainer,n);return r&&null!=sm(aw(this._lContainer),n)?new rf(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hM(t){return t[8]}function aw(t){return t[8]||(t[8]=[])}function fM(t,e){let n;const r=e[t.index];return Or(r)?n=r:(n=$S(r,e,null,t),e[t.index]=n,Lm(e,n)),pM(n,e,t,r),new dM(n,t,e)}let pM=function gM(t,e,n,r){if(t[ro])return;let i;i=8&n.type?Ft(r):function S3(t,e){const n=t[je],r=n.createComment(""),i=Vr(e,t);return Du(n,ym(n,i),r,function eB(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ro]=i};class uw{constructor(e){this.queryList=e,this.matches=null}clone(){return new uw(this.queryList)}setDirty(){this.queryList.setDirty()}}class cw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new cw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==CM(e,n).matches&&this.queries[n].setDirty()}}class mM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class lw{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new lw(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class dw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new dw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,M3(n,o)),this.matchTNodeWithReadOption(e,n,Cu(n,e,o,!1,!1))}else r===Rs?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===mi||i===Co||i===Rs&&4&n.type)this.addMatch(n.index,-2);else{const o=Cu(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function M3(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function N3(t,e,n,r){return-1===n?function x3(t,e){return 11&t.type?_l(t,e):4&t.type?e_(t,e):null}(e,t):-2===n?function O3(t,e,n){return n===mi?_l(e,t):n===Rs?e_(e,t):n===Co?fM(e,t):void 0}(t,e,r):zo(t,t[ye],n,e)}function _M(t,e,n,r){const i=e[eo].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const l=s[u];a.push(l<0?null:N3(e,o[l],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function hw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=_M(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const l=o[a+1],h=e[-u];for(let g=$n;g<h.length;g++){const m=h[g];m[hu]===m[Qt]&&hw(m[ye],m,l,r)}if(null!==h[pu]){const g=h[pu];for(let m=0;m<g.length;m++){const y=g[m];hw(y[ye],y,l,r)}}}}}return r}function yM(t){const e=ee(),n=It(),r=vu();xh(r+1);const i=CM(n,r);if(t.dirty&&function Ch(t){return 4==(4&t[qe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?hw(n,e,r,[]):_M(n,e,i,r);t.reset(o,ej),t.notifyOnChanges()}return!0}return!1}function vM(t,e,n,r){const i=It();if(i.firstCreatePass){const o=qn();(function wM(t,e,n){null===t.queries&&(t.queries=new lw),t.queries.track(new dw(e,n))})(i,new mM(e,n,r),o.index),function F3(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function EM(t,e,n){const r=new sw(4==(4&n));(function xj(t,e,n,r){const i=zS(e);i.push(n),t.firstCreatePass&&qS(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[eo]&&(e[eo]=new cw),e[eo].queries.push(new uw(r))}(i,ee(),n)}function CM(t,e){return t.queries.getByIndex(e)}const yw=new Ee("Application Initializer");let vw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Te(yw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(df(o))n.push(o);else if(TR(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ps=new Ee("LocaleId",{providedIn:"root",factory:()=>Te(Ps,ot.Optional|ot.SkipSelf)||function oz(){return typeof $localize<"u"&&$localize.locale||Nl}()});let jM=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class uz{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let $M=(()=>{class t{compileModuleSync(n){return new nw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=As(xr(n).declarations).reduce((s,a)=>{const u=vt(a);return u&&s.push(new sf(u)),s},[]);return new uz(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const GM=new Ee(""),i_=new Ee("");let Dw,ww=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dw||(function Sz(t){Dw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Tt),ce(Cw),ce(i_))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),Cw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Dw?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ia=null;const WM=new Ee("AllowMultipleToken"),Tw=new Ee("PlatformDestroyListeners"),bw=new Ee("appBootstrapListener");class KM{constructor(e,n){this.name=e,this.token=n}}function YM(t,e,n=[]){const r=`Platform: ${e}`,i=new Ee(r);return(o=[])=>{let s=Aw();if(!s||s.injector.get(WM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Mz(t){if(Ia&&!Ia.get(WM,!1))throw new q(400,!1);(function ZM(){!function Qv(t){Vg=t}(()=>{throw new q(600,!1)})})(),Ia=t;const e=t.get(XM);(function QM(t){t.get(tS,null)?.forEach(n=>n())})(t)}(function JM(t=[],e){return ri.create({name:e,providers:[{provide:tE,useValue:"platform"},{provide:Tw,useValue:new Set([()=>Ia=null])},...t]})}(a,r))}return function Nz(t){const e=Aw();if(!e)throw new q(401,!1);return e}()}}function Aw(){return Ia?.get(XM)??null}let XM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Oz(t="zone.js",e){return"noop"===t?new pj:"zone.js"===t?new Tt(e):t}(r?.ngZone,function ex(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function GH(t,e,n){return new tw(t,e,n)}(n.moduleType,this.injector,function ox(t){return[{provide:Tt,useFactory:t},{provide:Yh,multi:!0,useFactory:()=>{const e=Te(Vz,{optional:!0});return()=>e.initialize()}},{provide:ix,useFactory:kz},{provide:yS,useFactory:vS}]}(()=>i)),s=o.injector.get(bs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{o_(this._modules,o),a.unsubscribe()})}),function tx(t,e,n){try{const r=n();return df(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(vw);return a.runInitializers(),a.donePromise.then(()=>(function wP(t){hi(t,"Expected localeId to be defined"),"string"==typeof t&&(EP=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ps,Nl)||Nl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=nx({},r);return function Rz(t,e,n){const r=new nw(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Vl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new q(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Tw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ri))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function nx(t,e){return Array.isArray(e)?e.reduce(nx,t):{...t,...e}}let Vl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Te(ix),this.zoneIsStable=Te(yS),this.componentTypes=[],this.components=[],this.isStable=Te(jM).hasPendingTasks.pipe(Ce(n=>n?b(!1):this.zoneIsStable),ze(),Z()),this._injector=Te(co)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof sS;if(!this._injector.get(vw).done)throw!i&&function Vo(t){const e=vt(t)||jn(t)||yr(t);return null!==e&&e.standalone}(n),new q(405,!1);let s;s=i?n:this._injector.get(Om).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Pz(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ru),l=s.create(ri.NULL,[],r||s.selector,a),h=l.location.nativeElement,g=l.injector.get(GM,null);return g?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),o_(this.components,l),g?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;o_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(bw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>o_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function o_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ix=new Ee("",{providedIn:"root",factory:()=>Te(bs).handleError.bind(void 0)});function kz(){const t=Te(Tt),e=Te(bs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Vz=(()=>{class t{constructor(){this.zone=Te(Tt),this.applicationRef=Te(Vl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let s_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Lz}return t})();function Lz(t){return function Uz(t,e,n){if(oa(t)&&!n){const r=ti(t.index,e);return new rf(r,r)}return 47&t.type?new rf(e[on],e):null}(qn(),ee(),16==(16&t))}class lx{constructor(){}supports(e){return $m(e)}create(e){return new qz(e)}}const zz=(t,e)=>e;class qz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<hx(r,i,o)?n:r,a=hx(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){const y=m<o.length?o[m]:o[m]=0,D=y+m;h<=D&&D<l&&(o[m]=y+1)}o[s.previousIndex]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!$m(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function D$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Gz(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new dx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Gz{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class dx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Wz,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class fx{constructor(){}supports(e){return e instanceof Map||kE(e)}create(){return new Zz}}class Zz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||kE(e)))throw new q(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new Kz(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Kz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function px(){return new c_([new lx])}let c_=(()=>{class t{static#e=this.\u0275prov=Pe({token:t,providedIn:"root",factory:px});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||px()),deps:[[t,new um,new qo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new q(901,!1)}}return t})();function gx(){return new wf([new fx])}let wf=(()=>{class t{static#e=this.\u0275prov=Pe({token:t,providedIn:"root",factory:gx});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||gx()),deps:[[t,new um,new qo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new q(901,!1)}}return t})();const Jz=YM(null,"core",[]);let Xz=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Vl))};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({})}return t})();function Fl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Nw=null;function Ea(){return Nw}class f9{}const ho=new Ee("DocumentToken");let Ow=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:function(){return Te(g9)},providedIn:"platform"})}return t})();const p9=new Ee("Location Initialized");let g9=(()=>{class t extends Ow{constructor(){super(),this._doc=Te(ho),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ea().getBaseHref(this._doc)}onPopState(n){const r=Ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function kw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Dx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ms(t){return t&&"?"!==t[0]?"?"+t:t}let Mu=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:function(){return Te(bx)},providedIn:"root"})}return t})();const Tx=new Ee("appBaseHref");let bx=(()=>{class t extends Mu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Te(ho).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return kw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ms(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ms(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ms(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ow),ce(Tx,8))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),m9=(()=>{class t extends Mu{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=kw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ms(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ms(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Ow),ce(Tx,8))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})(),Vw=(()=>{class t{constructor(n){this._subject=new Cn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function v9(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Dx(Ax(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ms(r))}normalize(n){return t.stripTrailingSlash(function y9(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Ax(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ms(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ms(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ms;static#t=this.joinWithSlash=kw;static#n=this.stripTrailingSlash=Dx;static#r=this.\u0275fac=function(r){return new(r||t)(ce(Mu))};static#i=this.\u0275prov=Pe({token:t,factory:function(){return function _9(){return new Vw(ce(Mu))}()},providedIn:"root"})}return t})();function Ax(t){return t.replace(/\/index.html$/,"")}const Gw=/\s+/,Vx=[];let Fx=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Vx,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Gw):Vx}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Gw):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Gw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(G(c_),G(wf),G(mi),G(Ts))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class o5{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ww=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new o5(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Ux(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Ux(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(G(Co),G(Rs),G(c_))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Ux(t,e){t.context.$implicit=e.item}let Xo=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new s5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Bx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Bx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(G(Co),G(Rs))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class s5{constructor(){this.$implicit=null,this.ngIf=null}}function Bx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${xe(e)}'.`)}class c5{createSubscription(e,n){return Lg(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Lg(()=>e.unsubscribe())}}class l5{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const d5=new l5,h5=new c5;let Tf=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(df(n))return d5;if(TR(n))return h5;throw function To(t,e){return new q(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(G(s_,16))};static#t=this.\u0275pipe=dr({name:"async",type:t,pure:!1,standalone:!0})}return t})(),P5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({})}return t})();function E_(t){return"server"===t}let O5=(()=>{class t{static#e=this.\u0275prov=Pe({token:t,providedIn:"root",factory:()=>new k5(ce(ho),window)})}return t})();class k5{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function V5(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class s6 extends f9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eC extends s6{static makeCurrent(){!function h9(t){Nw||(Nw=t)}(new eC)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function a6(){return Af=Af||document.querySelector("base"),Af?Af.getAttribute("href"):null}();return null==n?null:function u6(t){D_=D_||document.createElement("a"),D_.setAttribute("href",t);const e=D_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Af=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function r5(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let D_,Af=null,l6=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();const tC=new Ee("EventManagerPlugins");let Zx=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(ce(tC),ce(Tt))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();class Kx{constructor(e){this._doc=e}}const nC="ng-app-id";let Qx=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=E_(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${nC}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(nC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(nC,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ho),ce(Sm),ce(nS,8),ce(Go))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();const rC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iC=/%COMP%/g,p6=new Ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Jx(t,e){return e.map(n=>n.replace(iC,t))}let Xx=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=E_(a),this.defaultRenderer=new oC(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cr.ShadowDom&&(r={...r,encapsulation:cr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof t1?i.applyToHost(n):i instanceof sC&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case cr.Emulated:o=new t1(u,l,r,this.appId,h,s,a,g);break;case cr.ShadowDom:return new y6(u,l,n,r,s,a,this.nonce,g);default:o=new sC(u,l,r,h,s,a,g)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Zx),ce(Qx),ce(Sm),ce(p6),ce(ho),ce(Go),ce(Tt),ce(nS))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();class oC{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(rC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(e1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(e1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=rC[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=rC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_a.DashCase|_a.Important)?e.style.setProperty(n,r,i&_a.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_a.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ea().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function e1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class y6 extends oC{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Jx(i.id,i.styles);for(const h of l){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sC extends oC{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Jx(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class t1 extends sC{constructor(e,n,r,i,o,s,a,u){const l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=function g6(t){return"_ngcontent-%COMP%".replace(iC,t)}(l),this.hostAttr=function m6(t){return"_nghost-%COMP%".replace(iC,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let v6=(()=>{class t extends Kx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ho))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();const n1=["alt","control","meta","shift"],I6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let w6=(()=>{class t extends Kx{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ea().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),n1.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=I6[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),n1.forEach(s=>{s!==i&&(0,E6[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ho))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();const i1=[{provide:Go,useValue:"browser"},{provide:tS,useValue:function C6(){eC.makeCurrent()},multi:!0},{provide:ho,useFactory:function T6(){return function uB(t){GI=t}(document),document},deps:[]}],b6=YM(Jz,"browser",i1),A6=new Ee(""),o1=[{provide:i_,useClass:class c6{addToWindow(e){Vt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new q(5103,!1);return o},Vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Vt.getAllAngularRootElements=()=>e.getAllRootElements(),Vt.frameworkStabilizers||(Vt.frameworkStabilizers=[]),Vt.frameworkStabilizers.push(r=>{const i=Vt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ea().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:GM,useClass:ww,deps:[Tt,Cw,i_]},{provide:ww,useClass:ww,deps:[Tt,Cw,i_]}],s1=[{provide:tE,useValue:"root"},{provide:bs,useFactory:function D6(){return new bs},deps:[]},{provide:tC,useClass:v6,multi:!0,deps:[ho,Tt,Go]},{provide:tC,useClass:w6,multi:!0,deps:[ho]},Xx,Qx,Zx,{provide:uS,useExisting:Xx},{provide:class F5{},useClass:l6,deps:[]},[]];let S6=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Sm,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ce(A6,12))};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({providers:[...s1,...o1],imports:[P5,Xz]})}return t})(),a1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ho))};static#t=this.\u0275prov=Pe({token:t,factory:function(r){let i=null;return i=r?new r:function P6(){return new a1(ce(ho))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:V6}=Array,{getPrototypeOf:F6,prototype:L6,keys:U6}=Object;function d1(t){if(1===t.length){const e=t[0];if(V6(e))return{args:e,keys:null};if(function B6(t){return t&&"object"==typeof t&&F6(t)===L6}(e)){const n=U6(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:j6}=Array;function h1(t){return ge(e=>function $6(t,e){return j6(e)?t(...e):t(e)}(t,e))}function f1(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function uC(...t){const e=Si(t),n=Zi(t),{args:r,keys:i}=d1(t);if(0===r.length)return I([],e);const o=new Xe(function H6(t,e,n=vn){return r=>{p1(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)p1(e,()=>{const l=I(t[u],e);let h=!1;l.subscribe(fe(r,g=>{o[u]=g,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>f1(i,s):vn));return n?o.pipe(h1(n)):o}function p1(t,e,n){t?Qr(n,t,e):e()}const T_=H(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cC(...t){return function z6(){return Yr(1)}()(I(t,Si(t)))}function g1(t){return new Xe(e=>{_t(t()).subscribe(e)})}function Sf(t,e){const n=C(t)?t:()=>t,r=i=>i.error(n());return new Xe(e?i=>e.schedule(r,0,i):r)}function lC(){return J((t,e)=>{let n=null;t._refCount++;const r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class m1 extends Xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,X(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wt;const n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e}refCount(){return lC()(this)}}function Ul(t){return t<=0?()=>In:J((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function b_(...t){const e=Si(t);return J((n,r)=>{(e?cC(t,n,e):cC(t,n)).subscribe(r)})}function bo(t,e){return J((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function A_(t){return J((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _1(t=q6){return J((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function q6(){return new T_}function Ca(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bo((i,o)=>t(i,o,r)):vn,Ul(1),n?A_(e):_1(()=>new T_))}function Rf(t,e){return C(e)?Mt(t,e,1):Mt(t,1)}function wr(t,e,n){const r=C(t)||e||n?{next:t,error:e,complete:n}:t;return r?J((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):vn}function xu(t){return J((e,n)=>{let o,r=null,i=!1;r=e.subscribe(fe(n,void 0,void 0,s=>{o=_t(t(s,xu(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function S_(t,e){return J(function G6(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{const g=l++;u=a?t(u,h,g):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}function dC(t){return t<=0?()=>In:J((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hC(t){return J((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const nt="primary",Pf=Symbol("RouteTitle");class Q6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Bl(t){return new Q6(t)}function Y6(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function es(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!y1(t[i],e[i]))return!1;return!0}function y1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function v1(t){return t.length>0?t[t.length-1]:null}function Da(t){return function k6(t){return!!t&&(t instanceof Xe||C(t.lift)&&C(t.subscribe))}(t)?t:df(t)?I(Promise.resolve(t)):b(t)}const X6={exact:function w1(t,e,n){if(!Nu(t.segments,e.segments)||!R_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!w1(t.children[r],e.children[r],n))return!1;return!0},subset:C1},I1={exact:function eq(t,e){return es(t,e)},subset:function tq(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>y1(t[n],e[n]))},ignored:()=>!0};function E1(t,e,n){return X6[n.paths](t.root,e.root,n.matrixParams)&&I1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function C1(t,e,n){return D1(t,e,e.segments,n)}function D1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Nu(i,n)||e.hasChildren()||!R_(i,n,r))}if(t.segments.length===n.length){if(!Nu(t.segments,n)||!R_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!C1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Nu(t.segments,i)&&R_(t.segments,i,r)&&t.children[nt])&&D1(t.children[nt],e,o,r)}}function R_(t,e,n){return e.every((r,i)=>I1[n](t[i].parameters,r.parameters))}class jl{constructor(e=new jt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bl(this.queryParams)),this._queryParamMap}toString(){return iq.serialize(this)}}class jt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return P_(this)}}class Mf{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Bl(this.parameters)),this._parameterMap}toString(){return A1(this)}}function Nu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let xf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:function(){return new fC},providedIn:"root"})}return t})();class fC{parse(e){const n=new gq(e);return new jl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Nf(e.root,!0)}`,r=function aq(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${M_(n)}=${M_(i)}`).join("&"):`${M_(n)}=${M_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function oq(t){return encodeURI(t)}(e.fragment)}`:""}`}}const iq=new fC;function P_(t){return t.segments.map(e=>A1(e)).join("/")}function Nf(t,e){if(!t.hasChildren())return P_(t);if(e){const n=t.children[nt]?Nf(t.children[nt],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==nt&&r.push(`${i}:${Nf(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function rq(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===nt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==nt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===nt?[Nf(t.children[nt],!1)]:[`${i}:${Nf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[nt]?`${P_(t)}/${n[0]}`:`${P_(t)}/(${n.join("//")})`}}function T1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function M_(t){return T1(t).replace(/%3B/gi,";")}function pC(t){return T1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x_(t){return decodeURIComponent(t)}function b1(t){return x_(t.replace(/\+/g,"%20"))}function A1(t){return`${pC(t.path)}${function sq(t){return Object.keys(t).map(e=>`;${pC(e)}=${pC(t[e])}`).join("")}(t.parameters)}`}const uq=/^[^\/()?;#]+/;function gC(t){const e=t.match(uq);return e?e[0]:""}const cq=/^[^\/()?;=#]+/,dq=/^[^=?&#]+/,fq=/^[^&#]+/;class gq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[nt]=new jt(e,n)),r}parseSegment(){const e=gC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Mf(x_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function lq(t){const e=t.match(cq);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gC(this.remaining);i&&(r=i,this.capture(r))}e[x_(n)]=x_(r)}parseQueryParam(e){const n=function hq(t){const e=t.match(dq);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function pq(t){const e=t.match(fq);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=b1(n),o=b1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=nt);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[nt]:new jt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}}function S1(t){return t.segments.length>0?new jt([],{[nt]:t}):t}function R1(t){const e={};for(const r of Object.keys(t.children)){const o=R1(t.children[r]);if(r===nt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function mq(t){if(1===t.numberOfChildren&&t.children[nt]){const e=t.children[nt];return new jt(t.segments.concat(e.segments),e.children)}return t}(new jt(t.segments,e))}function Ou(t){return t instanceof jl}function P1(t){let e;const i=S1(function n(o){const s={};for(const u of o.children){const l=n(u);s[u.outlet]=l}const a=new jt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function M1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mC(i,i,i,n,r);const o=function yq(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new N1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new N1(n,e,r)}(e);if(o.toRoot())return mC(i,i,new jt([],{}),n,r);const s=function vq(t,e,n){if(t.isAbsolute)return new O_(e,!0,0);if(!n)return new O_(e,!1,NaN);if(null===n.parent)return new O_(n,!0,0);const r=N_(t.commands[0])?0:1;return function Iq(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new O_(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?kf(s.segmentGroup,s.index,o.commands):O1(s.segmentGroup,s.index,o.commands);return mC(i,s.segmentGroup,a,n,r)}function N_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Of(t){return"object"==typeof t&&null!=t&&t.outlets}function mC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:x1(t,e,n);const a=S1(R1(s));return new jl(a,o,i)}function x1(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:x1(o,e,n)}),new jt(t.segments,r)}class N1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&N_(r[0]))throw new q(4003,!1);const i=r.find(Of);if(i&&i!==v1(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class O_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function O1(t,e,n){if(t||(t=new jt([],{})),0===t.segments.length&&t.hasChildren())return kf(t,e,n);const r=function wq(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Of(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!V1(u,l,s))return o;r+=2}else{if(!V1(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new jt(t.segments.slice(0,r.pathIndex),{});return o.children[nt]=new jt(t.segments.slice(r.pathIndex),t.children),kf(o,0,i)}return r.match&&0===i.length?new jt(t.segments,{}):r.match&&!t.hasChildren()?_C(t,e,n):r.match?kf(t,0,i):_C(t,e,n)}function kf(t,e,n){if(0===n.length)return new jt(t.segments,{});{const r=function Eq(t){return Of(t[0])?t[0].outlets:{[nt]:t}}(n),i={};if(Object.keys(r).some(o=>o!==nt)&&t.children[nt]&&1===t.numberOfChildren&&0===t.children[nt].segments.length){const o=kf(t.children[nt],e,n);return new jt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=O1(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new jt(t.segments,i)}}function _C(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Of(o)){const u=Cq(o.outlets);return new jt(r,u)}if(0===i&&N_(n[0])){r.push(new Mf(t.segments[e].path,k1(n[0]))),i++;continue}const s=Of(o)?o.outlets[nt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&N_(a)?(r.push(new Mf(s,k1(a))),i+=2):(r.push(new Mf(s,{})),i++)}return new jt(r,{})}function Cq(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=_C(new jt([],{}),0,r))}),e}function k1(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function V1(t,e,n){return t==n.path&&es(e,n.parameters)}const Vf="imperative";class ts{constructor(e,n){this.id=e,this.url=n}}class k_ extends ts{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ta extends ts{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ff extends ts{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $l extends ts{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class V_ extends ts{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class F1 extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dq extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tq extends ts{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bq extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aq extends ts{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L1{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yC{}class vC{constructor(e){this.url=e}}class Oq{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lf,this.attachRef=null}}let Lf=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Oq,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class U1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=IC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=IC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=EC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return EC(e,this._root).map(n=>n.value)}}function IC(t,e){if(t===e.value)return e;for(const n of e.children){const r=IC(t,n);if(r)return r}return null}function EC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=EC(t,n);if(r.length)return r.unshift(e),r}return[]}class Os{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Hl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class B1 extends U1{constructor(e,n){super(e),this.snapshot=n,wC(this,e)}toString(){return this.snapshot.toString()}}function j1(t,e){const n=function kq(t,e){const s=new F_([],{},{},"",{},nt,e,null,{});return new H1("",new Os(s,[]))}(0,e),r=new v([new Mf("",{})]),i=new v({}),o=new v({}),s=new v({}),a=new v(""),u=new ku(r,i,s,a,o,nt,e,n.root);return u.snapshot=n.root,new B1(new Os(u,[]),n)}class ku{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ge(l=>l[Pf]))??b(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>Bl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>Bl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Vq(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class F_{get title(){return this.data?.[Pf]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class H1 extends U1{constructor(e,n){super(n),this.url=e,wC(this,n)}toString(){return z1(this._root)}}function wC(t,e){e.value._routerState=t,e.children.forEach(n=>wC(t,n))}function z1(t){const e=t.children.length>0?` { ${t.children.map(z1).join(", ")} } `:"";return`${t.value}${e}`}function CC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,es(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),es(e.params,n.params)||t.paramsSubject.next(n.params),function J6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!es(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),es(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function DC(t,e){const n=es(t.params,e.params)&&function nq(t,e){return Nu(t,e)&&t.every((n,r)=>es(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||DC(t.parent,e.parent))}let TC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new Cn,this.deactivateEvents=new Cn,this.attachEvents=new Cn,this.detachEvents=new Cn,this.parentContexts=Te(Lf),this.location=Te(Co),this.changeDetector=Te(s_),this.environmentInjector=Te(co),this.inputBinder=Te(L_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Fq(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ei]})}return t})();class Fq{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ku?this.route:e===Lf?this.childContexts:this.parent.get(e,n)}}const L_=new Ee("");let q1=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=uC([r.queryParams,r.params,r.data]).pipe(Ce(([o,s,a],u)=>(a={...o,...s,...a},0===u?b(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function d9(t){const e=vt(t);if(!e)return null;const n=new sf(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();function Uf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Uq(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uf(t,r,i);return Uf(t,r)})}(t,e,n);return new Os(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Uf(t,a)),s}}const r=function Bq(t){return new ku(new v(t.url),new v(t.params),new v(t.queryParams),new v(t.fragment),new v(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Uf(t,o));return new Os(r,i)}}const bC="ngNavigationCancelingError";function G1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ou(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=W1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function W1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[bC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Z1(t){return t&&t[bC]}let K1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["ng-component"]],standalone:!0,features:[KP],decls:1,vars:0,template:function(r,i){1&r&&Dn(0,"router-outlet")},dependencies:[TC],encapsulation:2})}return t})();function AC(t){const e=t.children&&t.children.map(AC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==nt&&(n.component=K1),n}function Ao(t){return t.outlet||nt}function Bf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Zq{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),CC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Hl(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Hl(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nq(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mq(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(CC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),CC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Bf(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class Q1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class U_{constructor(e,n){this.component=e,this.route=n}}function Kq(t,e,n){const r=t._root;return jf(r,e?e._root:null,n,[r.value])}function zl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Ks(t){return null!==gc(t)}(t)?e.get(t):t:r}function jf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hl(e);return t.children.forEach(s=>{(function Yq(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Jq(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nu(t.url,e.url)||!es(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DC(t,e)||!es(t.queryParams,e.queryParams);default:return!DC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Q1(r)):(o.data=s.data,o._resolvedData=s._resolvedData),jf(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new U_(a.outlet.component,s))}else s&&$f(e,a,i),i.canActivateChecks.push(new Q1(r)),jf(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$f(a,n.getContext(s),i)),i}function $f(t,e,n){const r=Hl(t),i=t.value;Object.entries(r).forEach(([o,s])=>{$f(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new U_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hf(t){return"function"==typeof t}function Y1(t){return t instanceof T_||"EmptyError"===t?.name}const B_=Symbol("INITIAL_VALUE");function ql(){return Ce(t=>uC(t.map(e=>e.pipe(Ul(1),b_(B_)))).pipe(ge(e=>{for(const n of e)if(!0!==n){if(n===B_)return B_;if(!1===n||n instanceof jl)return n}return!0}),bo(e=>e!==B_),Ul(1)))}function J1(t){return function Ci(...t){return Di(t)}(wr(e=>{if(Ou(e))throw G1(0,e)}),ge(e=>!0===e))}class j_{constructor(e){this.segmentGroup=e||null}}class X1{constructor(e){this.urlTree=e}}function Gl(t){return Sf(new j_(t))}function eN(t){return Sf(new X1(t))}class yG{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new q(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return b(r);if(i.numberOfChildren>1||!i.children[nt])return Sf(new q(4e3,!1));i=i.children[nt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new jl(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new jt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const SC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vG(t,e,n,r,i){const o=RC(t,e,n);return o.matched?(r=function $q(t,e){return t.providers&&!t._injector&&(t._injector=rw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function gG(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?b(i.map(s=>{const a=zl(s,t);return Da(function iG(t){return t&&Hf(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ql(),J1()):b(!0)}(r,e,n).pipe(ge(s=>!0===s?o:{...SC}))):b(o)}function RC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...SC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Y6)(n,t,e);if(!i)return{...SC};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function tN(t,e,n,r){return n.length>0&&function wG(t,e,n){return n.some(r=>$_(t,e,r)&&Ao(r)!==nt)}(t,n,r)?{segmentGroup:new jt(e,EG(r,new jt(n,t.children))),slicedSegments:[]}:0===n.length&&function CG(t,e,n){return n.some(r=>$_(t,e,r))}(t,n,r)?{segmentGroup:new jt(t.segments,IG(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new jt(t.segments,t.children),slicedSegments:n}}function IG(t,e,n,r,i){const o={};for(const s of r)if($_(t,n,s)&&!i[Ao(s)]){const a=new jt([],{});o[Ao(s)]=a}return{...i,...o}}function EG(t,e){const n={};n[nt]=e;for(const r of t)if(""===r.path&&Ao(r)!==nt){const i=new jt([],{});n[Ao(r)]=i}return n}function $_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class AG{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new yG(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,!1)}recognize(){const e=tN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nt).pipe(xu(n=>{if(n instanceof X1)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof j_?this.noMatchError(n):n}),ge(n=>{const r=new F_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),i=new Os(r,n),o=new H1("",i),s=function _q(t,e,n=null,r=null){return M1(P1(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,nt).pipe(xu(r=>{throw r instanceof j_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=$1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return I(i).pipe(Rf(o=>{const s=r.children[o],a=function Gq(t,e){const n=t.filter(r=>Ao(r)===e);return n.push(...t.filter(r=>Ao(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),S_((o,s)=>(o.push(...s),o)),A_(null),function W6(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bo((i,o)=>t(i,o,r)):vn,dC(1),n?A_(e):_1(()=>new T_))}(),Mt(o=>{if(null===o)return Gl(r);const s=nN(o);return function SG(t){t.sort((e,n)=>e.value.outlet===nt?-1:n.value.outlet===nt?1:e.value.outlet.localeCompare(n.value.outlet))}(s),b(s)}))}processSegment(e,n,r,i,o,s){return I(n).pipe(Rf(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(xu(u=>{if(u instanceof j_)return b(null);throw u}))),Ca(a=>!!a),xu(a=>{if(Y1(a))return function TG(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?b([]):Gl(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function DG(t,e,n,r){return!!(Ao(t)===r||r!==nt&&$_(e,n,t))&&("**"===t.path||RC(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Gl(i):Gl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eN(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Mt(s=>{const a=new jt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:h}=RC(n,i,o);if(!a)return Gl(n);const g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?eN(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Mt(m=>this.processSegment(e,r,n,m.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?v1(i).parameters:{};a=b({snapshot:new F_(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rN(r),Ao(r),r.component??r._loadedComponent??null,r,iN(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=vG(n,r,i,e).pipe(ge(({matched:u,consumedSegments:l,remainingSegments:h,parameters:g})=>u?{snapshot:new F_(l,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rN(r),Ao(r),r.component??r._loadedComponent??null,r,iN(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Ce(u=>null===u?Gl(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ce(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:g,consumedSegments:m,remainingSegments:y}=u,{segmentGroup:D,slicedSegments:S}=tN(n,m,y,l);if(0===S.length&&D.hasChildren())return this.processChildren(h,l,D).pipe(ge(U=>null===U?null:[new Os(g,U)]));if(0===l.length&&0===S.length)return b([new Os(g,[])]);const M=Ao(r)===o;return this.processSegment(h,l,D,S,M?nt:o,!0).pipe(ge(U=>[new Os(g,U)]))}))))}getChildConfig(e,n,r){return n.children?b({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?b({routes:n._loadedRoutes,injector:n._loadedInjector}):function pG(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?b(!0):b(i.map(s=>{const a=zl(s,t);return Da(function eG(t){return t&&Hf(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ql(),J1())}(e,n,r).pipe(Mt(i=>i?this.configLoader.loadChildren(e,n).pipe(wr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function _G(t){return Sf(W1(!1,3))}())):b({routes:[],injector:e})}}function RG(t){const e=t.value.routeConfig;return e&&""===e.path}function nN(t){const e=[],n=new Set;for(const r of t){if(!RG(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=nN(r.children);e.push(new Os(r.value,i))}return e.filter(r=>!n.has(r))}function rN(t){return t.data||{}}function iN(t){return t.resolve||{}}function oN(t){return"string"==typeof t.title||null===t.title}function PC(t){return Ce(e=>{const n=t(e);return n?I(n).pipe(ge(()=>e)):b(e)})}const Wl=new Ee("ROUTES");let MC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Te($M)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return b(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Da(n.loadComponent()).pipe(ge(sN),wr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),hC(()=>{this.componentLoaders.delete(n)})),i=new m1(r,()=>new $).pipe(lC());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return b({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function VG(t,e,n,r){return Da(t.loadChildren()).pipe(ge(sN),Mt(i=>i instanceof WP||Array.isArray(i)?b(i):I(e.compileModuleAsync(i))),ge(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Wl,[],{optional:!0,self:!0}).flat()),{routes:s.map(AC),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(hC(()=>{this.childrenLoaders.delete(r)})),s=new m1(o,()=>new $).pipe(lC());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sN(t){return function FG(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let H_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=Te(MC),this.environmentInjector=Te(co),this.urlSerializer=Te(xf),this.rootContexts=Te(Lf),this.inputBindingEnabled=null!==Te(L_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>b(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Rq(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Sq(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new v({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bo(o=>0!==o.id),ge(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Ce(o=>{this.currentTransition=o;let s=!1,a=!1;return b(o).pipe(wr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ce(u=>{const l=u.currentBrowserUrl.toString(),h=!n.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!h&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new $l(u.id,this.urlSerializer.serialize(u.rawUrl),m,0)),u.resolve(null),In}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return b(u).pipe(Ce(m=>{const y=this.transitions?.getValue();return this.events.next(new k_(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?In:Promise.resolve(m)}),function PG(t,e,n,r,i,o){return Mt(s=>function bG(t,e,n,r,i,o,s="emptyOnly"){return new AG(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ge(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),wr(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new F1(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:m,extractedUrl:y,source:D,restoredState:S,extras:M}=u,U=new k_(m,this.urlSerializer.serialize(y),D,S);this.events.next(U);const N=j1(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:N,urlAfterRedirects:y,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},b(o)}{const m="";return this.events.next(new $l(u.id,this.urlSerializer.serialize(u.extractedUrl),m,1)),u.resolve(null),In}}),wr(u=>{const l=new Dq(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ge(u=>(this.currentTransition=o={...u,guards:Kq(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function sG(t,e){return Mt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?b({...n,guardsResult:!0}):function aG(t,e,n,r){return I(t).pipe(Mt(i=>function fG(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?b(o.map(a=>{const u=Bf(e)??i,l=zl(a,u);return Da(function rG(t){return t&&Hf(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):u.runInContext(()=>l(t,e,n,r))).pipe(Ca())})).pipe(ql()):b(!0)}(i.component,i.route,n,e,r)),Ca(i=>!0!==i,!0))}(s,r,i,t).pipe(Mt(a=>a&&function Xq(t){return"boolean"==typeof t}(a)?function uG(t,e,n,r){return I(e).pipe(Rf(i=>cC(function lG(t,e){return null!==t&&e&&e(new Pq(t)),b(!0)}(i.route.parent,r),function cG(t,e){return null!==t&&e&&e(new xq(t)),b(!0)}(i.route,r),function hG(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Qq(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>g1(()=>b(s.guards.map(u=>{const l=Bf(s.node)??n,h=zl(u,l);return Da(function nG(t){return t&&Hf(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(Ca())})).pipe(ql())));return b(o).pipe(ql())}(t,i.path,n),function dG(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return b(!0);const i=r.map(o=>g1(()=>{const s=Bf(e)??n,a=zl(o,s);return Da(function tG(t){return t&&Hf(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Ca())}));return b(i).pipe(ql())}(t,i.route,n))),Ca(i=>!0!==i,!0))}(r,o,t,e):b(a)),ge(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),wr(u=>{if(o.guardsResult=u.guardsResult,Ou(u.guardsResult))throw G1(0,u.guardsResult);const l=new Tq(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),bo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),PC(u=>{if(u.guards.canActivateChecks.length)return b(u).pipe(wr(l=>{const h=new bq(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ce(l=>{let h=!1;return b(l).pipe(function MG(t,e){return Mt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return b(n);let o=0;return I(i).pipe(Rf(s=>function xG(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!oN(i)&&(o[Pf]=i.title),function NG(t,e,n,r){const i=function OG(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return b({});const o={};return I(i).pipe(Mt(s=>function kG(t,e,n,r){const i=Bf(e)??r,o=zl(t,i);return Da(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Ca(),wr(a=>{o[s]=a}))),dC(1),function Z6(t){return ge(()=>t)}(o),xu(s=>Y1(s)?In:Sf(s)))}(o,t,e,r).pipe(ge(s=>(t._resolvedData=s,t.data=$1(t,n).resolve,i&&oN(i)&&(t.data[Pf]=i.title),null)))}(s.route,r,t,e)),wr(()=>o++),dC(1),Mt(s=>o===i.length?b(n):In))})}(n.paramsInheritanceStrategy,this.environmentInjector),wr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),wr(l=>{const h=new Aq(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),PC(u=>{const l=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(wr(m=>{h.component=m}),ge(()=>{})));for(const m of h.children)g.push(...l(m));return g};return uC(l(u.targetSnapshot.root)).pipe(A_(),Ul(1))}),PC(()=>this.afterPreactivation()),ge(u=>{const l=function Lq(t,e,n){const r=Uf(t,e._root,n?n._root:void 0);return new B1(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),wr(()=>{this.events.next(new yC)}),((t,e,n,r)=>ge(i=>(new Zq(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ul(1),wr({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ta(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function K6(t){return J((e,n)=>{_t(t).subscribe(fe(n,()=>n.complete(),Ae)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(wr(u=>{throw u}))),hC(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),xu(u=>{if(a=!0,Z1(u))this.events.next(new Ff(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function jq(t){return Z1(t)&&Ou(t.url)}(u)?this.events.next(new vC(u.url)):o.resolve(!1);else{this.events.next(new V_(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){o.reject(l)}}return In}))}))}cancelNavigationTransition(n,r,i){const o=new Ff(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aN(t){return t!==Vf}let uN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===nt);return r}getResolvedTitleForRoute(n){return n.data[Pf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:function(){return Te(LG)},providedIn:"root"})}return t})(),LG=(()=>{class t extends uN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(a1))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:function(){return Te(jG)},providedIn:"root"})}return t})();class BG{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let jG=(()=>{class t extends BG{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Er(t)))(i||t)}}();static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const z_=new Ee("",{providedIn:"root",factory:()=>({})});let $G=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:function(){return Te(HG)},providedIn:"root"})}return t})(),HG=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(zf||{});function cN(t,e){t.events.pipe(bo(n=>n instanceof Ta||n instanceof Ff||n instanceof V_||n instanceof $l),ge(n=>n instanceof Ta||n instanceof $l?zf.COMPLETE:n instanceof Ff&&(0===n.code||1===n.code)?zf.REDIRECTING:zf.FAILED),bo(n=>n!==zf.REDIRECTING),Ul(1)).subscribe(()=>{e()})}function zG(t){throw t}function qG(t,e,n){return e.parse("/")}const GG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Te(BM),this.isNgZoneEnabled=!1,this._events=new $,this.options=Te(z_,{optional:!0})||{},this.pendingTasks=Te(jM),this.errorHandler=this.options.errorHandler||zG,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qG,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Te($G),this.routeReuseStrategy=Te(UG),this.titleStrategy=Te(uN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Te(Wl,{optional:!0})?.flat()??[],this.navigationTransitions=Te(H_),this.urlSerializer=Te(xf),this.location=Te(Vw),this.componentInputBindingEnabled=!!Te(L_,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=Te(Tt)instanceof Tt&&Tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=j1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(lN(r)&&this._events.next(r));if(r instanceof k_)aN(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof $l)this.rawUrlTree=i.rawUrl;else if(r instanceof F1){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof yC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ff)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof vC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||aN(i.source)};this.scheduleNavigation(o,Vf,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof V_&&this.restoreHistory(i,!0),r instanceof Ta&&(this.navigated=!0),lN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vf,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(AC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let g,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{g=P1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return M1(g,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ou(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vf,null,r)}navigate(n,r={skipLocationChange:!1}){return function ZG(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new q(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...GG}:!1===r?{...WG}:r,Ou(n))return E1(this.currentUrlTree,n,i);const o=this.parseUrl(n);return E1(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((g,m)=>{a=g,u=m});const h=this.pendingTasks.add();return cN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lN(t){return!(t instanceof yC||t instanceof vC)}let ns=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new $,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Ta&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function GA(t,e,n){return function PB(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?qA:zA}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(G(vi),G(ku),function om(t){return function Xc(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Qd(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(qn(),t)}("tabindex"),G(Ts),G(mi),G(Mu))};static#t=this.\u0275dir=Be({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&et("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ko("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Fl],skipLocationChange:["skipLocationChange","skipLocationChange",Fl],replaceUrl:["replaceUrl","replaceUrl",Fl],routerLink:"routerLink"},standalone:!0,features:[sR,ei]})}return t})(),dN=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Cn,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Ta&&this.update()})}ngAfterContentInit(){b(this.links.changes,b(null)).pipe(Yr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=I(n).pipe(Yr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function KG(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(vi),G(mi),G(Ts),G(s_),G(ns,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&vM(o,ns,5),2&r){let s;yM(s=function IM(){return function V3(t,e){return t[eo].queries[e].queryList}(ee(),vu())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ei]})}return t})();class hN{}let QG=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(bo(n=>n instanceof Ta),Rf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=rw(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return I(i).pipe(Yr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):b(null);const o=i.pipe(Mt(s=>null===s?b(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?I([o,this.loader.loadComponent(r)]).pipe(Yr()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(ce(vi),ce($M),ce(co),ce(hN),ce(MC))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const xC=new Ee("");let fN=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof k_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ta?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $l&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof L1&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new L1(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function NS(){throw new Error("invalid")}()};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac})}return t})();function ks(t,e){return{\u0275kind:t,\u0275providers:e}}function gN(){const t=Te(ri);return e=>{const n=t.get(Vl);if(e!==n.components[0])return;const r=t.get(vi),i=t.get(mN);1===t.get(NC)&&r.initialNavigation(),t.get(_N,null,ot.Optional)?.setUpPreloading(),t.get(xC,null,ot.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mN=new Ee("",{factory:()=>new $}),NC=new Ee("",{providedIn:"root",factory:()=>1}),_N=new Ee("");function e8(t){return ks(0,[{provide:_N,useExisting:QG},{provide:hN,useExisting:t}])}const yN=new Ee("ROUTER_FORROOT_GUARD"),n8=[Vw,{provide:xf,useClass:fC},vi,Lf,{provide:ku,useFactory:function pN(t){return t.routerState.root},deps:[vi]},MC,[]];function r8(){return new KM("Router",vi)}let vN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[n8,[],{provide:Wl,multi:!0,useValue:n},{provide:yN,useFactory:a8,deps:[[vi,new qo,new um]]},{provide:z_,useValue:r||{}},r?.useHash?{provide:Mu,useClass:m9}:{provide:Mu,useClass:bx},{provide:xC,useFactory:()=>{const t=Te(O5),e=Te(Tt),n=Te(z_),r=Te(H_),i=Te(xf);return n.scrollOffset&&t.setOffset(n.scrollOffset),new fN(i,r,t,e,n)}},r?.preloadingStrategy?e8(r.preloadingStrategy).\u0275providers:[],{provide:KM,multi:!0,useFactory:r8},r?.initialNavigation?u8(r):[],r?.bindToComponentInputs?ks(8,[q1,{provide:L_,useExisting:q1}]).\u0275providers:[],[{provide:IN,useFactory:gN},{provide:bw,multi:!0,useExisting:IN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Wl,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ce(yN,8))};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({})}return t})();function a8(t){return"guarded"}function u8(t){return["disabled"===t.initialNavigation?ks(3,[{provide:yw,multi:!0,useFactory:()=>{const e=Te(vi);return()=>{e.setUpLocationChangeListener()}}},{provide:NC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ks(2,[{provide:NC,useValue:0},{provide:yw,multi:!0,deps:[ri],useFactory:e=>{const n=e.get(p9,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(vi),o=e.get(mN);cN(i,()=>{r(!0)}),e.get(H_).afterPreactivation=()=>(r(!0),o.closed?b(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const IN=new Ee("");var Fi=Fe(534);(0,Fi.registerVersion)("firebase","10.5.2","app");class h8 extends wt{constructor(e,n){super()}schedule(e,n=0){return this}}const q_={setInterval(t,e,...n){const{delegate:r}=q_;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=q_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class EN extends h8{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return q_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&q_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Se(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const OC={now:()=>(OC.delegate||Date).now(),delegate:void 0};class qf{constructor(e,n=qf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}qf.now=OC.now;class wN extends qf{constructor(e,n=qf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const g8=new class p8 extends wN{}(class f8 extends EN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),CN=new wN(EN),Zl=new yl("ANGULARFIRE2_VERSION"),DN=(t,e)=>{const n=e?[e]:(0,Fi.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class kC{constructor(){return DN(_8)}}const _8="app-check";function Kl(){}class TN{zone;delegate;constructor(e,n=g8){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class y8{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kl,{},Kl,Kl)),n.pipe(wr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let G_=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new TN(Zone.current)),this.insideAngular=n.run(()=>new TN(Zone.current,CN)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ce(Tt))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ql(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Vu(t){return Ql().ngZone.run(()=>t())}function Li(t){return function I8(t){return function(n){return(n=n.lift(new y8(t.ngZone))).pipe(ur(t.outsideAngular),bn(t.insideAngular))}}(Ql())(t)}const E8=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Vu(()=>t.apply(void 0,r))},bN=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Vu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kl,{},Kl,Kl))),r[o]=E8(r[o],n));const i=function v8(t){return Ql().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Xe){const o=Ql();return i.pipe(ur(o.outsideAngular),bn(o.insideAngular))}return Vu(()=>i)}return i instanceof Xe?i.pipe(Li):i instanceof Promise?Vu(()=>new Promise((o,s)=>i.then(a=>Vu(()=>o(a)),a=>Vu(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Vu(()=>i)};var ba=Fe(106);ba.Z.registerVersion("firebase","10.5.2","app-compat");const D8=["ngOnDestroy"];class AN{constructor(e){return e}}const Gf=new Ee("angularfire2.app.options"),W_=new Ee("angularfire2.app.name");function VC(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=ba.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>ba.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;A8("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new AN(s)}const A8=(t,...e)=>{},S8={provide:AN,useFactory:VC,deps:[Gf,Tt,[new qo,W_]]};let R8=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Gf,useValue:n},{provide:W_,useValue:r}]}}constructor(n){ba.Z.registerVersion("angularfire",Zl.full,"core"),ba.Z.registerVersion("angularfire",Zl.full,"app-compat"),ba.Z.registerVersion("angular",gE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(ce(Go))};static \u0275mod=Bn({type:t});static \u0275inj=Kn({providers:[S8]})}return t})();function SN(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function P8(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(RN("error",`${e} was already initialized on the ${n} Firebase App with different settings.${M8?" You may need to reload as Firebase is not HMR aware.":""}`),RN("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const M8=typeof module<"u"&&!!module.hot,RN=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Fe(365);class x8 extends ${constructor(e=1/0,n=1/0,r=OC){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}function PN(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Z({connector:()=>new x8(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function MN(t,e){return C(e)?Ce(()=>t,e):Ce(()=>t)}const xN=new Ee("angularfire2.auth.use-emulator"),NN=new Ee("angularfire2.auth.settings"),ON=new Ee("angularfire2.auth.tenant-id"),kN=new Ee("angularfire2.auth.langugage-code"),VN=new Ee("angularfire2.auth.use-device-language"),FN=new Ee("angularfire.auth.persistence"),LN=(t,e,n,r,i,o,s,a)=>SN(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))u.settings[l]=h;return a&&u.setPersistence(a),u},[n,r,i,o,s,a]);let FC=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,u,l,h,g,m,y){const D=new $,S=b(void 0).pipe(bn(s.outsideAngular),Ce(()=>o.runOutsideAngular(()=>Promise.resolve().then(Fe.bind(Fe,365)))),ge(()=>VC(n,o,r)),ge(M=>LN(M,o,a,l,h,g,u,m)),PN({bufferSize:1,refCount:!1}));if(E_(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b(null);else{S.pipe(Ca()).subscribe();const M=S.pipe(Ce(z=>z.getRedirectResult().then(ue=>ue,()=>null)),Li,PN({bufferSize:1,refCount:!1})),U=S.pipe(Ce(z=>new Xe(ue=>({unsubscribe:o.runOutsideAngular(()=>z.onAuthStateChanged(me=>ue.next(me),me=>ue.error(me),()=>ue.complete()))})))),N=S.pipe(Ce(z=>new Xe(ue=>({unsubscribe:o.runOutsideAngular(()=>z.onIdTokenChanged(me=>ue.next(me),me=>ue.error(me),()=>ue.complete()))}))));this.authState=M.pipe(MN(U),ur(s.outsideAngular),bn(s.insideAngular)),this.user=M.pipe(MN(N),ur(s.outsideAngular),bn(s.insideAngular)),this.idToken=this.user.pipe(Ce(z=>z?I(z.getIdToken()):b(null))),this.idTokenResult=this.user.pipe(Ce(z=>z?I(z.getIdTokenResult()):b(null))),this.credential=w(M,D,this.authState.pipe(bo(z=>!z))).pipe(ge(z=>z?.user?z:null),ur(s.outsideAngular),bn(s.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(D8.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const u=a?.[o];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,l)=>s.then(h=>{const g=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,g),g})})})}))(this,S,o,{spy:{apply:(M,U,N)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&N.then(z=>D.next(z))}}})}static \u0275fac=function(r){return new(r||t)(ce(Gf),ce(W_,8),ce(Go),ce(Tt),ce(G_),ce(xN,8),ce(NN,8),ce(ON,8),ce(kN,8),ce(VN,8),ce(FN,8),ce(kC,8))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();function LC(){return J((t,e)=>{let n,r=!1;t.subscribe(fe(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var ve,Q=Fe(861),UN=Fe(537),rs=Fe(879),Zt=Fe(58),O8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},So={},UC=UC||{},Ye=O8||self;function Z_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Wf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var BC="closure_uid_"+(1e9*Math.random()>>>0),V8=0;function F8(t,e,n){return t.call.apply(t.bind,arguments)}function L8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Br(t,e,n){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?F8:L8).apply(null,arguments)}function K_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Aa(){this.s=this.s,this.o=this.o}Aa.prototype.s=!1,Aa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function k8(t){Object.prototype.hasOwnProperty.call(t,BC)&&t[BC]||(t[BC]=++V8)}(this)},Aa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function jN(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Z_(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function jr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jr.prototype.h=function(){this.defaultPrevented=!0};var B8=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ye.addEventListener("test",()=>{},e),Ye.removeEventListener("test",()=>{},e)}catch{}return t}();function Zf(t){return/^[\s\xa0]*$/.test(t)}function Q_(){var t=Ye.navigator;return t&&(t=t.userAgent)?t:""}function is(t){return-1!=Q_().indexOf(t)}function $C(t){return $C[" "](t),t}$C[" "]=function(){};var zC,t,$8=is("Opera"),Yl=is("Trident")||is("MSIE"),$N=is("Edge"),HC=$N||Yl,HN=is("Gecko")&&!(-1!=Q_().toLowerCase().indexOf("webkit")&&!is("Edge"))&&!(is("Trident")||is("MSIE"))&&!is("Edge"),H8=-1!=Q_().toLowerCase().indexOf("webkit")&&!is("Edge");function zN(){var t=Ye.document;return t?t.documentMode:void 0}e:{var qC="",GC=(t=Q_(),HN?/rv:([^\);]+)(\)|;)/.exec(t):$N?/Edge\/([\d\.]+)/.exec(t):Yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):H8?/WebKit\/(\S+)/.exec(t):$8?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(GC&&(qC=GC?GC[1]:""),Yl){var WC=zN();if(null!=WC&&WC>parseFloat(qC)){zC=String(WC);break e}}zC=qC}var z8=Ye.document&&Yl&&(zN()||parseInt(zC,10))||void 0;function Kf(t,e){if(jr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(HN){e:{try{$C(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:q8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Kf.$.h.call(this)}}fr(Kf,jr);var q8={2:"touch",3:"pen",4:"mouse"};Kf.prototype.h=function(){Kf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qf="closure_listenable_"+(1e6*Math.random()|0),G8=0;function W8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++G8,this.fa=this.ia=!1}function Y_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function KC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GN(t){const e={};for(const n in t)e[n]=t[n];return e}const WN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZN(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<WN.length;o++)n=WN[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function J_(t){this.src=t,this.g={},this.h=0}function QC(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=BN(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Y_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function YC(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}J_.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=YC(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new W8(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var JC="closure_lm_"+(1e6*Math.random()|0),XC={};function KN(t,e,n,r,i){if(r&&r.once)return YN(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)KN(t,e[o],n,r,i);return null}return n=r0(n),t&&t[Qf]?t.O(e,n,Wf(r)?!!r.capture:!!r,i):QN(t,e,n,!1,r,i)}function QN(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Wf(i)?!!i.capture:!!i,a=t0(t);if(a||(t[JC]=a=new J_(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function K8(){const e=Q8;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)B8||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(XN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function YN(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)YN(t,e[o],n,r,i);return null}return n=r0(n),t&&t[Qf]?t.P(e,n,Wf(r)?!!r.capture:!!r,i):QN(t,e,n,!0,r,i)}function JN(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)JN(t,e[o],n,r,i);else r=Wf(r)?!!r.capture:!!r,n=r0(n),t&&t[Qf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=YC(o=t.g[e],n,r,i))&&(Y_(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=t0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=YC(e,n,r,i)),(n=-1<t?e[t]:null)&&e0(n))}function e0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Qf])QC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(XN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=t0(e))?(QC(n,t),0==n.h&&(n.src=null,e[JC]=null)):Y_(t)}}}function XN(t){return t in XC?XC[t]:XC[t]="on"+t}function Q8(t,e){if(t.fa)t=!0;else{e=new Kf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&e0(t),t=n.call(r,e)}return t}function t0(t){return(t=t[JC])instanceof J_?t:null}var n0="__closure_events_fn_"+(1e9*Math.random()>>>0);function r0(t){return"function"==typeof t?t:(t[n0]||(t[n0]=function(e){return t.handleEvent(e)}),t[n0])}function pr(){Aa.call(this),this.i=new J_(this),this.S=this,this.J=null}function Cr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new jr(e,t);else if(e instanceof jr)e.target=e.target||t;else{var i=e;ZN(e=new jr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=X_(s,r,!0,e)&&i}if(i=X_(s=e.g=t,r,!0,e)&&i,i=X_(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=X_(s=e.g=n[o],r,!1,e)&&i}function X_(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&QC(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}fr(pr,Aa),pr.prototype[Qf]=!0,pr.prototype.removeEventListener=function(t,e,n,r){JN(this,t,e,n,r)},pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y_(n[r]);delete t.g[e],t.h--}}this.J=null},pr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var o0=Ye.JSON.stringify;function J8(){var t=s0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var eO=new class Y8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eW,t=>t.reset());class eW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nW(t){Ye.setTimeout(()=>{throw t},0)}let Yf,Jf=!1,s0=new class X8{constructor(){this.h=this.g=null}add(e,n){const r=eO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},tO=()=>{const t=Ye.Promise.resolve(void 0);Yf=()=>{t.then(rW)}};var rW=()=>{for(var t;t=J8();){try{t.h.call(t.g)}catch(n){nW(n)}var e=eO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jf=!1};function ey(t,e){pr.call(this),this.h=t||1,this.g=e||Ye,this.j=Br(this.qb,this),this.l=Date.now()}function a0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function u0(t,e,n){if("function"==typeof t)n&&(t=Br(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Br(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function nO(t){t.g=u0(()=>{t.g=null,t.i&&(t.i=!1,nO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}fr(ey,pr),(ve=ey.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cr(this,"tick"),this.ga&&(a0(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){ey.$.N.call(this),a0(this),delete this.g};class iW extends Aa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nO(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xf(t){Aa.call(this),this.h=t,this.g={}}fr(Xf,Aa);var rO=[];function iO(t,e,n,r){Array.isArray(n)||(n&&(rO[0]=n.toString()),n=rO);for(var i=0;i<n.length;i++){var o=KN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function oO(t){KC(t.g,function(e,n){this.g.hasOwnProperty(n)&&e0(e)},t),t.g={}}function ty(){this.g=!0}function Jl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return o0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Xf.prototype.N=function(){Xf.$.N.call(this),oO(this)},Xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ty.prototype.Ea=function(){this.g=!1},ty.prototype.info=function(){};var Fu={},sO=null;function ny(){return sO=sO||new pr}function aO(t){jr.call(this,Fu.Ta,t)}function ep(t){const e=ny();Cr(e,new aO(e))}function uO(t,e){jr.call(this,Fu.STAT_EVENT,t),this.stat=e}function ai(t){const e=ny();Cr(e,new uO(e,t))}function cO(t,e){jr.call(this,Fu.Ua,t),this.size=e}function tp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}Fu.Ta="serverreachability",fr(aO,jr),Fu.STAT_EVENT="statevent",fr(uO,jr),Fu.Ua="timingevent",fr(cO,jr);var ry={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function c0(){}function hO(){}c0.prototype.h=null;var h0,np={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function l0(){jr.call(this,"d")}function d0(){jr.call(this,"c")}function iy(){}function rp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xf(this),this.P=cW,this.V=new ey(t=HC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fO}function fO(){this.i=null,this.g="",this.h=!1}fr(l0,jr),fr(d0,jr),fr(iy,c0),iy.prototype.g=function(){return new XMLHttpRequest},iy.prototype.i=function(){return{}},h0=new iy;var cW=45e3,f0={},oy={};function p0(t,e,n){t.L=1,t.v=cy(Vs(e)),t.s=n,t.S=!0,pO(t,null)}function pO(t,e){t.G=Date.now(),ip(t),t.A=Vs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),DO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new fO,t.g=ZO(t.l,n?e:null,!t.s),0<t.O&&(t.M=new iW(Br(t.Pa,t,t.g),t.O)),iO(t.U,t.g,"readystatechange",t.nb),e=t.I?GN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ep(),function oW(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var h=l[0];l=l[1];var g=h.split("_");s=2<=g.length&&"type"==g[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function gO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function mO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=lW(t,n),i==oy){4==e&&(t.o=4,ai(14),r=!1),Jl(t.j,t.m,null,"[Incomplete Response]");break}if(i==f0){t.o=4,ai(15),Jl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Jl(t.j,t.m,i,null),g0(t,i)}gO(t)&&i!=oy&&i!=f0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ai(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),w0(e),e.M=!0,ai(11))):(Jl(t.j,t.m,n,"[Invalid Chunked Response]"),Lu(t),op(t))}function lW(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?oy:(n=Number(e.substring(n,r)),isNaN(n)?f0:(r+=1)+n>e.length?oy:(e=e.slice(r,r+n),t.C=r+n,e))}function ip(t){t.Y=Date.now()+t.P,_O(t,t.P)}function _O(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=tp(Br(t.lb,t),e)}function sy(t){t.B&&(Ye.clearTimeout(t.B),t.B=null)}function op(t){0==t.l.H||t.J||zO(t.l,t)}function Lu(t){sy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,a0(t.V),oO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function g0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||m0(n.i,t)))if(!t.K&&m0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;gy(n),fy(n)}E0(n),ai(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=tp(Br(n.ib,n),6e3));if(1>=AO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bu(n,11)}else if((t.K||n.g==t)&&gy(n),!Zf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const g=l[4];null!=g&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const D=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var o=r.i;o.g||-1==D.indexOf("spdy")&&-1==D.indexOf("quic")&&-1==D.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(_0(o,o.h),o.h=null))}if(r.F){const S=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.Da=S,un(r.I,r.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=WO(r,r.J?r.pa:null,r.Y),s.K){SO(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.B&&(sy(a),ip(a)),r.g=s}else $O(r);0<n.j.length&&py(n)}else"stop"!=l[0]&&"close"!=l[0]||Bu(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Bu(n,7):I0(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ep()}catch{}}function yO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Z_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function hW(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Z_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function dW(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Z_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(ve=rp.prototype).setTimeout=function(t){this.P=t},ve.nb=function(t){t=t.target;const e=this.M;e&&3==os(t)?e.l():this.Pa(t)},ve.Pa=function(t){try{if(t==this.g)e:{const h=os(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||HC||this.g&&(this.h.h||this.g.ja()||VO(this.g)))){this.J||4!=h||7==e||ep(),sy(this);var n=this.g.da();this.ca=n;t:if(gO(this)){var r=VO(this.g);t="";var i=r.length,o=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lu(this),op(this);var s="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function sW(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,ai(12),Lu(this),op(this);break e}Jl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,g0(this,n)}this.S?(mO(this,h,s),HC&&this.i&&3==h&&(iO(this.U,this.V,"tick",this.mb),this.V.start())):(Jl(this.j,this.m,s,null),g0(this,s)),4==h&&Lu(this),this.i&&!this.J&&(4==h?zO(this.l,this):(this.i=!1,ip(this)))}else(function PW(t){const e={};t=(t.g&&2<=os(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Zf(t[r]))continue;var n=tW(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Z8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,ai(12)):(this.o=0,ai(13)),Lu(this),op(this)}}}catch{}},ve.mb=function(){if(this.g){var t=os(this.g),e=this.g.ja();this.C<e.length&&(sy(this),mO(this,t,e),this.i&&4!=t&&ip(this))}},ve.cancel=function(){this.J=!0,Lu(this)},ve.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function aW(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ep(),ai(17)),Lu(this),this.o=2,op(this)):_O(this,this.Y-t)};var vO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Uu){this.h=t.h,ay(this,t.j),this.s=t.s,this.g=t.g,uy(this,t.m),this.l=t.l;var e=t.i,n=new up;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),IO(this,n),this.o=t.o}else t&&(e=String(t).match(vO))?(this.h=!1,ay(this,e[1]||"",!0),this.s=sp(e[2]||""),this.g=sp(e[3]||"",!0),uy(this,e[4]),this.l=sp(e[5]||"",!0),IO(this,e[6]||"",!0),this.o=sp(e[7]||"")):(this.h=!1,this.i=new up(null,this.h))}function Vs(t){return new Uu(t)}function ay(t,e,n){t.j=n?sp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function IO(t,e,n){e instanceof up?(t.i=e,function vW(t,e){e&&!t.j&&(Sa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(wO(this,r),DO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ap(e,_W)),t.i=new up(e,t.h))}function un(t,e,n){t.i.set(e,n)}function cy(t){return un(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ap(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,pW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pW(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Uu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ap(e,EO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ap(e,EO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ap(n,"/"==n.charAt(0)?mW:gW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ap(n,yW)),t.join("")};var EO=/[#\/\?@]/g,gW=/[#\?:]/g,mW=/[#\?]/g,_W=/[#\?@]/g,yW=/#/g;function up(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Sa(t){t.g||(t.g=new Map,t.h=0,t.i&&function fW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wO(t,e){Sa(t),e=Xl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function CO(t,e){return Sa(t),e=Xl(t,e),t.g.has(e)}function DO(t,e,n){wO(t,e),0<n.length&&(t.i=null,t.g.set(Xl(t,e),jC(n)),t.h+=n.length)}function Xl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function TO(t){this.l=t||EW,t=Ye.PerformanceNavigationTiming?0<(t=Ye.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=up.prototype).add=function(t,e){Sa(this),this.i=null,t=Xl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ve.forEach=function(t,e){Sa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},ve.ta=function(){Sa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},ve.Z=function(t){Sa(this);let e=[];if("string"==typeof t)CO(this,t)&&(e=e.concat(this.g.get(Xl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},ve.set=function(t,e){return Sa(this),this.i=null,CO(this,t=Xl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ve.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var EW=10;function bO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function AO(t){return t.h?1:t.g?t.g.size:0}function m0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function _0(t,e){t.g?t.g.add(e):t.h=e}function SO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function RO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return jC(t.i)}TO.prototype.cancel=function(){if(this.i=RO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var wW=class{stringify(t){return Ye.JSON.stringify(t,void 0)}parse(t){return Ye.JSON.parse(t,void 0)}};function CW(){this.g=new wW}function DW(t,e,n){const r=n||"";try{yO(t,function(i,o){let s=i;Wf(i)&&(s=o0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ly(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cp(t){this.l=t.ec||null,this.j=t.ob||!1}function dy(t,e){pr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=y0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fr(cp,c0),cp.prototype.g=function(){return new dy(this.l,this.j)},cp.prototype.i=function(t){return function(){return t}}({}),fr(dy,pr);var y0=0;function PO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function lp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dp(t)}function dp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ve=dy.prototype).open=function(t,e){if(this.readyState!=y0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dp(this)},ve.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lp(this)),this.readyState=y0},ve.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dp(this)),this.g&&(this.readyState=3,dp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lp(this):dp(this),3==this.readyState&&PO(this)}},ve.Za=function(t){this.g&&(this.response=this.responseText=t,lp(this))},ve.Ya=function(t){this.g&&(this.response=t,lp(this))},ve.ka=function(){this.g&&lp(this)},ve.setRequestHeader=function(t,e){this.v.append(t,e)},ve.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(dy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var bW=Ye.JSON.parse;function Pn(t){pr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MO,this.L=this.M=!1}fr(Pn,pr);var MO="",AW=/^https?$/i,SW=["POST","PUT"];function xO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,NO(t),hy(t)}function NO(t){t.F||(t.F=!0,Cr(t,"complete"),Cr(t,"error"))}function OO(t){if(t.h&&typeof UC<"u"&&(!t.C[1]||4!=os(t)||2!=t.da()))if(t.v&&4==os(t))u0(t.La,0,t);else if(Cr(t,"readystatechange"),4==os(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(vO)[1]||null;!i&&Ye.self&&Ye.self.location&&(i=Ye.self.location.protocol.slice(0,-1)),r=!AW.test(i?i.toLowerCase():"")}n=r}if(n)Cr(t,"complete"),Cr(t,"success");else{t.m=6;try{var o=2<os(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",NO(t)}}finally{hy(t)}}}function hy(t,e){if(t.g){kO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Cr(t,"ready");try{n.onreadystatechange=r}catch{}}}function kO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}function os(t){return t.g?t.g.readyState:0}function VO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case MO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FO(t){let e="";return KC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function v0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=FO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):un(t,e,n))}function hp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LO(t){this.Ga=0,this.j=[],this.l=new ty,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hp("baseRetryDelayMs",5e3,t),this.hb=hp("retryDelaySeedMs",1e4,t),this.eb=hp("forwardChannelMaxRetries",2,t),this.xa=hp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TO(t&&t.concurrentRequestLimit),this.Ja=new CW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function I0(t){if(UO(t),3==t.H){var e=t.W++,n=Vs(t.I);if(un(n,"SID",t.K),un(n,"RID",e),un(n,"TYPE","terminate"),fp(t,n),(e=new rp(t,t.l,e)).L=2,e.v=cy(Vs(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{n=Ye.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ye.Image&&((new Image).src=e.v,n=!0),n||(e.g=ZO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ip(e)}GO(t)}function fy(t){t.g&&(w0(t),t.g.cancel(),t.g=null)}function UO(t){fy(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),gy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ye.clearTimeout(t.m),t.m=null)}function py(t){if(!bO(t.i)&&!t.m){t.m=!0;var e=t.Na;Yf||tO(),Jf||(Yf(),Jf=!0),s0.add(e,t),t.C=0}}function BO(t,e){var n;n=e?e.m:t.W++;const r=Vs(t.I);un(r,"SID",t.K),un(r,"RID",n),un(r,"AID",t.V),fp(t,r),t.o&&t.s&&v0(r,t.o,t.s),n=new rp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_0(t.i,n),p0(n,r,e)}function fp(t,e){t.na&&KC(t.na,function(n,r){un(e,r,n)}),t.h&&yO({},function(n,r){un(e,r,n)})}function jO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Br(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const h=i[u].map;if(l-=o,0>l)o=Math.max(0,i[u].g-100),a=!1;else try{DW(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $O(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Yf||tO(),Jf||(Yf(),Jf=!0),s0.add(e,t),t.A=0}}function E0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=tp(Br(t.Ma,t),qO(t,t.A)),t.A++,0))}function w0(t){null!=t.B&&(Ye.clearTimeout(t.B),t.B=null)}function HO(t){t.g=new rp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Vs(t.wa);un(e,"RID","rpc"),un(e,"SID",t.K),un(e,"AID",t.V),un(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&un(e,"TO",t.qa),un(e,"TYPE","xmlhttp"),fp(t,e),t.o&&t.s&&v0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=cy(Vs(e)),n.s=null,n.S=!0,pO(n,t)}function gy(t){null!=t.v&&(Ye.clearTimeout(t.v),t.v=null)}function zO(t,e){var n=null;if(t.g==e){gy(t),w0(t),t.g=null;var r=2}else{if(!m0(t.i,e))return;n=e.F,SO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Cr(r=ny(),new cO(r,n)),py(t)}else $O(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function MW(t,e){return!(AO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=tp(Br(t.Na,t,e),qO(t,t.C)),t.C++,0)))}(t,e)||2==r&&E0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bu(t,5);break;case 4:Bu(t,10);break;case 3:Bu(t,6);break;default:Bu(t,2)}}function qO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bu(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Br(t.pb,t);n||(n=new Uu("//www.google.com/images/cleardot.gif"),Ye.location&&"http"==Ye.location.protocol||ay(n,"https"),cy(n)),function TW(t,e){const n=new ty;if(Ye.Image){const r=new Image;r.onload=K_(ly,n,r,"TestLoadImage: loaded",!0,e),r.onerror=K_(ly,n,r,"TestLoadImage: error",!1,e),r.onabort=K_(ly,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=K_(ly,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ai(2);t.H=0,t.h&&t.h.za(e),GO(t),UO(t)}function GO(t){if(t.H=0,t.ma=[],t.h){const e=RO(t.i);(0!=e.length||0!=t.j.length)&&(jN(t.ma,e),jN(t.ma,t.j),t.i.i.length=0,jC(t.j),t.j.length=0),t.h.ya()}}function WO(t,e,n){var r=n instanceof Uu?Vs(n):new Uu(n);if(""!=r.g)e&&(r.g=e+"."+r.g),uy(r,r.m);else{var i=Ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Uu(null);r&&ay(o,r),e&&(o.g=e),i&&uy(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&un(r,n,e),un(r,"VER",t.ra),fp(t,r),r}function ZO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(n&&t.Ha&&!t.va?new cp({ob:!0}):t.va)).Oa(t.J),e}function KO(){}function my(){if(Yl&&!(10<=Number(z8)))throw Error("Environmental error: no available transport.")}function Ui(t,e){pr.call(this),this.g=new LO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ed(this)}function QO(t){l0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function YO(){d0.call(this),this.status=1}function ed(t){this.g=t}function Ro(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function C0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function $t(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(ve=Pn.prototype).Oa=function(t){this.M=t},ve.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():h0.g(),this.C=function dO(t){return t.h||(t.h=t.i())}(this.u?this.u:h0),this.g.onreadystatechange=Br(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void xO(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Ye.FormData&&t instanceof Ye.FormData,!(0<=BN(SW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kO(this),0<this.B&&((this.L=function RW(t){return Yl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.ua,this)):this.A=u0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){xO(this,o)}},ve.ua=function(){typeof UC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},ve.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Cr(this,"complete"),Cr(this,"abort"),hy(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hy(this,!0)),Pn.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?OO(this):this.kb())},ve.kb=function(){OO(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bW(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=LO.prototype).ra=8,ve.H=1,ve.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new rp(this,this.l,t);let o=this.s;if(this.U&&(o?(o=GN(o),ZN(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jO(this,i,e),un(n=Vs(this.I),"RID",t),un(n,"CVER",22),this.F&&un(n,"X-HTTP-Session-Id",this.F),fp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(FO(o)))+"&"+e:this.o&&v0(n,this.o,o)),_0(this.i,i),this.bb&&un(n,"TYPE","init"),this.P?(un(n,"$req",e),un(n,"SID","null"),i.aa=!0,p0(i,n,null)):p0(i,n,e),this.H=2}}else 3==this.H&&(t?BO(this,t):0==this.j.length||bO(this.i)||BO(this))},ve.Ma=function(){if(this.u=null,HO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tp(Br(this.jb,this),t)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ai(10),fy(this),HO(this))},ve.ib=function(){null!=this.v&&(this.v=null,fy(this),E0(this),ai(19))},ve.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ai(2)):(this.l.info("Failed to ping google.com"),ai(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=KO.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},my.prototype.g=function(t,e){return new Ui(t,e)},fr(Ui,pr),Ui.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ai(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=WO(t,null,t.Y),py(t)},Ui.prototype.close=function(){I0(this.g)},Ui.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=o0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&py(e)},Ui.prototype.N=function(){this.g.h=null,delete this.j,I0(this.g),delete this.g,Ui.$.N.call(this)},fr(QO,l0),fr(YO,d0),fr(ed,KO),ed.prototype.Ba=function(){Cr(this.g,"a")},ed.prototype.Aa=function(t){Cr(this.g,new QO(t))},ed.prototype.za=function(t){Cr(this.g,new YO)},ed.prototype.ya=function(){Cr(this.g,"b")},fr(Ro,function xW(){this.blockSize=-1}),Ro.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ro.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)C0(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){C0(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){C0(this,r),i=0;break}}this.h=i,this.i+=e},Ro.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var NW={};function D0(t){return-128<=t&&128>t?function j8(t,e){var n=NW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new $t([0|e],0>e?-1:0)}):new $t([0|t],0>t?-1:0)}function ss(t){if(isNaN(t)||!isFinite(t))return td;if(0>t)return Dr(ss(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=T0;return new $t(e,0)}var T0=4294967296,td=D0(0),b0=D0(1),XO=D0(16777216);function Fs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function go(t){return-1==t.h}function Dr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $t(n,~t.h).add(b0)}function _y(t,e){return t.add(Dr(e))}function yy(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function pp(t,e){this.g=t,this.h=e}function vy(t,e){if(Fs(e))throw Error("division by zero");if(Fs(t))return new pp(td,td);if(go(t))return e=vy(Dr(t),e),new pp(Dr(e.g),Dr(e.h));if(go(e))return e=vy(t,Dr(e)),new pp(Dr(e.g),e.h);if(30<t.g.length){if(go(t)||go(e))throw Error("slowDivide_ only works with positive integers.");for(var n=b0,r=e;0>=r.X(t);)n=ek(n),r=ek(r);var i=nd(n,1),o=nd(r,1);for(r=nd(r,2),n=nd(n,2);!Fs(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=nd(r,1),n=nd(n,1)}return e=_y(t,i.R(e)),new pp(i,e)}for(i=td;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ss(n)).R(e);go(s)||0<s.X(t);)s=(o=ss(n-=r)).R(e);Fs(o)&&(o=b0),i=i.add(o),t=_y(t,s)}return new pp(i,t)}function ek(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $t(n,t.h)}function nd(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new $t(i,t.h)}(ve=$t.prototype).ea=function(){if(go(this))return-Dr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:T0+r)*e,e*=T0}return t},ve.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Fs(this))return"0";if(go(this))return"-"+Dr(this).toString(t);for(var e=ss(Math.pow(t,6)),n=this,r="";;){var i=vy(n,e).g,o=((0<(n=_y(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Fs(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},ve.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},ve.X=function(t){return go(t=_y(this,t))?-1:Fs(t)?0:1},ve.abs=function(){return go(this)?Dr(this):this},ve.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new $t(n,-2147483648&n[n.length-1]?-1:0)},ve.R=function(t){if(Fs(this)||Fs(t))return td;if(go(this))return go(t)?Dr(this).R(Dr(t)):Dr(Dr(this).R(t));if(go(t))return Dr(this.R(Dr(t)));if(0>this.X(XO)&&0>t.X(XO))return ss(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,yy(n,2*r+2*i),n[2*r+2*i+1]+=o*u,yy(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,yy(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,yy(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $t(n,0)},ve.gb=function(t){return vy(this,t).h},ve.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $t(n,this.h&t.h)},ve.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $t(n,this.h|t.h)},ve.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $t(n,this.h^t.h)},my.prototype.createWebChannel=my.prototype.g,Ui.prototype.send=Ui.prototype.u,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,ry.NO_ERROR=0,ry.TIMEOUT=8,ry.HTTP_ERROR=6,lO.COMPLETE="complete",hO.EventType=np,np.OPEN="a",np.CLOSE="b",np.ERROR="c",np.MESSAGE="d",pr.prototype.listen=pr.prototype.O,Pn.prototype.listenOnce=Pn.prototype.P,Pn.prototype.getLastError=Pn.prototype.Sa,Pn.prototype.getLastErrorCode=Pn.prototype.Ia,Pn.prototype.getStatus=Pn.prototype.da,Pn.prototype.getResponseJson=Pn.prototype.Wa,Pn.prototype.getResponseText=Pn.prototype.ja,Pn.prototype.send=Pn.prototype.ha,Pn.prototype.setWithCredentials=Pn.prototype.Oa,Ro.prototype.digest=Ro.prototype.l,Ro.prototype.reset=Ro.prototype.reset,Ro.prototype.update=Ro.prototype.j,$t.prototype.add=$t.prototype.add,$t.prototype.multiply=$t.prototype.R,$t.prototype.modulo=$t.prototype.gb,$t.prototype.compare=$t.prototype.X,$t.prototype.toNumber=$t.prototype.ea,$t.prototype.toString=$t.prototype.toString,$t.prototype.getBits=$t.prototype.D,$t.fromNumber=ss,$t.fromString=function JO(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Dr(JO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ss(Math.pow(e,8)),r=td,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ss(Math.pow(e,o)),r=r.R(o).add(ss(s))):r=(r=r.R(n)).add(ss(s))}return r};var OW=So.createWebChannelTransport=function(){return new my},kW=So.getStatEventTarget=function(){return ny()},A0=So.ErrorCode=ry,VW=So.EventType=lO,FW=So.Event=Fu,tk=So.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},LW=So.FetchXmlHttpFactory=cp,Iy=So.WebChannel=hO,UW=So.XhrIo=Pn,BW=So.Md5=Ro,rd=So.Integer=$t;const nk="@firebase/firestore";class gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");let id="10.5.2";const Ra=new rs.Yd("@firebase/firestore");function od(){return Ra.logLevel}function ie(t,...e){if(Ra.logLevel<=rs.in.DEBUG){const n=e.map(S0);Ra.debug(`Firestore (${id}): ${t}`,...n)}}function Wn(t,...e){if(Ra.logLevel<=rs.in.ERROR){const n=e.map(S0);Ra.error(`Firestore (${id}): ${t}`,...n)}}function Ii(t,...e){if(Ra.logLevel<=rs.in.WARN){const n=e.map(S0);Ra.warn(`Firestore (${id}): ${t}`,...n)}}function S0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function De(t="Unexpected state"){const e=`FIRESTORE (${id}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function Ne(t,e){t||De()}function he(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Zt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class rk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class zW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qW{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,Q.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},u=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne("string"==typeof r.accessToken),new rk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(null===e||"string"==typeof e),new gr(e)}}class GW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ik{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne("string"==typeof n.token),this.R=n.token,new ik(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class ok{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=KW(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function sd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function sk(t){return t+"\0"}class mn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new mn(0,0))}static max(){return new ke(new mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gp{constructor(e,n,r){void 0===n?n=0:n>e.length&&De(),void 0===r?r=e.length-n:r>e.length-n&&De(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===gp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class bt extends gp{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const QW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends gp{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return QW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(bt.fromString(e))}static fromName(e){return new pe(bt.fromString(e).popFirst(5))}static empty(){return new pe(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new bt(e.slice()))}}class ad{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function R0(t){return t.fields.find(e=>2===e.kind)}function ju(t){return t.fields.filter(e=>2!==e.kind)}ad.UNKNOWN_ID=-1;class $u{constructor(e,n){this.fieldPath=e,this.kind=n}}class ud{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ud(0,Bi.min())}}function ak(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new mn(n+1,0):new mn(n,r));return new Bi(i,pe.empty(),e)}function uk(t){return new Bi(t.readTime,t.key,-1)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(ke.min(),pe.empty(),-1)}static max(){return new Bi(ke.max(),pe.empty(),-1)}}function P0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=pe.comparator(t.documentKey,e.documentKey),0!==n?n:Ze(t.largestBatchId,e.largestBatchId))}const ck="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Pa(t){return M0.apply(this,arguments)}function M0(){return M0=(0,Q.Z)(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==ck)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),M0.apply(this,arguments)}class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class Ey{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new or,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new mp(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=x0(r.target.error);this.V.reject(new mp(e,i))}}static open(e,n,r,i){try{return new Ey(n,e.transaction(i,r))}catch(o){throw new mp(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new e7(n)}}class Po{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Po.S((0,Zt.z$)())&&Wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ie("SimpleDb","Removing database:",e),Hu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Zt.hl)())return!1;if(Po.C())return!0;const e=(0,Zt.z$)(),n=Po.S(e),r=0<n&&n<10,i=Po.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,Q.Z)(function*(){return n.db||(ie("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new mp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new te(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new te(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new mp(e,a))},o.onupgradeneeded=s=>{ie("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{ie("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,Q.Z)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const u=Ey.open(o.db,e,s?"readonly":"readwrite",r),l=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),O.reject(h))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,h="FirebaseError"!==l.name&&a<3;if(ie("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class XW{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Hu(this.k.delete())}}class mp extends te{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ma(t){return"IndexedDbTransactionError"===t.name}class e7{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(ie("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hu(r)}add(e){return ie("SimpleDb","ADD",this.store.name,e,e),Hu(this.store.add(e))}get(e){return Hu(this.store.get(e)).next(n=>(void 0===n&&(n=null),ie("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ie("SimpleDb","DELETE",this.store.name,e),Hu(this.store.delete(e))}count(){return ie("SimpleDb","COUNT",this.store.name),Hu(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new O((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new O((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new O((r,i)=>{n.onerror=o=>{const s=x0(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new O((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new XW(a),l=n(a.primaryKey,a.value,u);if(l instanceof O){const h=l.catch(g=>(u.done(),O.reject(g)));r.push(h)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>O.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Hu(t){return new O((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=x0(r.target.error);n(i)}})}let dk=!1;function x0(t){const e=Po.S((0,Zt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dk||(dk=!0,setTimeout(()=>{throw r},0)),r}}return t}class t7{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;ie("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Q.Z)(function*(){n.task=null;try{ie("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){Ma(r)?ie("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Pa(r)}yield n.ee(6e4)}))}}class n7{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Q.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return O.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return ie("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(ie("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=uk(o);P0(s,r)>0&&(r=s)}),new Bi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ji=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function _p(t){return null==t}function yp(t){return 0===t&&1/t==-1/0}function hk(t){return"number"==typeof t&&Number.isInteger(t)&&!yp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function $r(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fk(e)),e=r7(t.get(n),e);return fk(e)}function r7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function fk(t){return t+"\x01\x01"}function as(t){const e=t.length;if(Ne(e>=2),2===e)return Ne("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),bt.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&De(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:De()}o=s+2}return new bt(r)}const pk=["userId","batchId"];function wy(t,e){return[t,$r(e)]}function gk(t,e,n){return[t,$r(e),n]}const i7={},o7=["prefixPath","collectionGroup","readTime","documentId"],s7=["prefixPath","collectionGroup","documentId"],a7=["collectionGroup","readTime","prefixPath","documentId"],u7=["canonicalId","targetId"],c7=["targetId","path"],l7=["path","targetId"],d7=["collectionId","parent"],h7=["indexId","uid"],f7=["uid","sequenceNumber"],p7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g7=["indexId","uid","orderedDocumentKey"],m7=["userId","collectionPath","documentId"],_7=["userId","collectionPath","largestBatchId"],y7=["userId","collectionGroup","largestBatchId"],mk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],v7=[...mk,"documentOverlays"],_k=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yk=_k,I7=[...yk,"indexConfiguration","indexState","indexEntries"];class N0 extends lk{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function mr(t,e){const n=he(t);return Po.M(n.ae,e)}function vk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ik(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Xt{constructor(e,n){this.comparator=e,this.root=n||Tr.EMPTY}insert(e,n){return new Xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cy(this.root,e,this.comparator,!0)}}class Cy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Tr.RED,this.left=i??Tr.EMPTY,this.right=o??Tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Tr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1,Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ek(this.data.getIterator())}getIteratorFrom(e){return new Ek(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class Ek{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cd(t){return t.hasNext()?t.getNext():void 0}class Ei{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Ei([])}unionWith(e){let n=new qt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class wk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wk("Invalid base64 string: "+o):o}}(e);return new sr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const w7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(t){if(Ne(!!t),"string"==typeof t){let e=0;const n=w7.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ls(t){return"string"==typeof t?sr.fromBase64String(t):sr.fromUint8Array(t)}function Dy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ty(t){const e=t.mapValue.fields.__previous_value__;return Dy(e)?Ty(e):e}function vp(t){const e=Na(t.mapValue.fields.__local_write_time__.timestampValue);return new mn(e.seconds,e.nanos)}class C7{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}const ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},by={nullValue:"NULL_VALUE"};function Va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dy(t)?4:bk(t)?9007199254740991:10:De()}function us(t,e){if(t===e)return!0;const n=Va(t);if(n!==Va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vp(t).isEqual(vp(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Na(i.timestampValue),a=Na(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Ls(t.bytesValue).isEqual(Ls(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Mn(i.geoPointValue.latitude)===Mn(o.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Mn(i.integerValue)===Mn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Mn(i.doubleValue),a=Mn(o.doubleValue);return s===a?yp(s)===yp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return sd(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vk(s)!==vk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!us(s[u],a[u])))return!1;return!0}(t,e);default:return De()}var o}function Ip(t,e){return void 0!==(t.values||[]).find(n=>us(n,e))}function Fa(t,e){if(t===e)return 0;const n=Va(t),r=Va(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Mn(o.integerValue||o.doubleValue),u=Mn(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Ck(t.timestampValue,e.timestampValue);case 4:return Ck(vp(t),vp(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ls(o),u=Ls(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const h=Ze(a[l],u[l]);if(0!==h)return h}return Ze(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ze(Mn(o.latitude),Mn(s.latitude));return 0!==a?a:Ze(Mn(o.longitude),Mn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){const h=Fa(a[l],u[l]);if(h)return h}return Ze(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ka.mapValue&&s===ka.mapValue)return 0;if(o===ka.mapValue)return 1;if(s===ka.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){const m=Ze(u[g],h[g]);if(0!==m)return m;const y=Fa(a[u[g]],l[h[g]]);if(0!==y)return y}return Ze(u.length,h.length)}(t.mapValue,e.mapValue);default:throw De()}}function Ck(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ze(t,e);const n=Na(t),r=Na(e),i=Ze(n.seconds,r.seconds);return 0!==i?i:Ze(n.nanos,r.nanos)}function ld(t){return O0(t)}function O0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Na(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ls(t.bytesValue).toBase64():"referenceValue"in t?pe.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=O0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${O0(n.fields[s])}`;return i+"}"}(t.mapValue):De()}function zu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function k0(t){return!!t&&"integerValue"in t}function Ep(t){return!!t&&"arrayValue"in t}function Dk(t){return!!t&&"nullValue"in t}function Tk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sy(t){return!!t&&"mapValue"in t}function wp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function D7(t){return"nullValue"in t?by:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zu(Oa.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:De()}function T7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zu(Oa.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ka:De()}function Ak(t,e){const n=Fa(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Sk(t,e){const n=Fa(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wp(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=wp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new br(wp(this.value))}}function Rk(t){const e=[];return xa(t.fields,(n,r)=>{const i=new cn([n]);if(Sy(r)){const o=Rk(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ei(e)}class ln{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ln(e,0,ke.min(),ke.min(),ke.min(),br.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,ke.min(),ke.min(),br.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,ke.min(),ke.min(),br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class La{constructor(e,n){this.position=e,this.inclusive=n}}function Pk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?pe.comparator(pe.fromName(s.referenceValue),n.key):Fa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Mk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}class Cp{constructor(e,n="asc"){this.field=e,this.dir=n}}function b7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class xk{}class Et extends xk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new A7(e,n,r):"array-contains"===n?new P7(e,r):"in"===n?new Lk(e,r):"not-in"===n?new M7(e,r):"array-contains-any"===n?new x7(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new S7(e,r):new R7(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Fa(n,this.value)):null!==n&&Va(this.value)===Va(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends xk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ht(e,n)}matches(e){return dd(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dd(t){return"and"===t.op}function V0(t){return"or"===t.op}function F0(t){return Nk(t)&&dd(t)}function Nk(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function L0(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+ld(t.value);if(F0(t))return t.filters.map(e=>L0(e)).join(",");{const e=t.filters.map(n=>L0(n)).join(",");return`${t.op}(${e})`}}function Ok(t,e){return t instanceof Et?(r=t,(i=e)instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&us(r.value,i.value)):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&Ok(s,i.filters[a]),!0)}(t,e):void De();var r,i}function kk(t,e){const n=t.filters.concat(e);return Ht.create(n,t.op)}function Vk(t){return t instanceof Et?`${(n=t).field.canonicalString()} ${n.op} ${ld(n.value)}`:t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(Vk).join(" ,")+"}"}(t):"Filter";var n}class A7 extends Et{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class S7 extends Et{constructor(e,n){super(e,"in",n),this.keys=Fk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R7 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=Fk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Fk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class P7 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ep(n)&&Ip(n.arrayValue,this.value)}}class Lk extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ip(this.value.arrayValue,n)}}class M7 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ip(this.value.arrayValue,n)}}class x7 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ip(this.value.arrayValue,r))}}class N7{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function U0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new N7(t,e,n,r,i,o,s)}function qu(t){const e=he(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>L0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),_p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ld(r)).join(",")),e.ce=n}return e.ce}function Dp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ok(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mk(t.startAt,e.startAt)&&Mk(t.endAt,e.endAt)}function Ry(t){return pe.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Py(t,e){return t.filters.filter(n=>n instanceof Et&&n.field.isEqual(e))}function Uk(t,e,n){let r=by,i=!0;for(const o of Py(t,e)){let s=by,a=!0;switch(o.op){case"<":case"<=":s=D7(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=by}Ak({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Ak({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function Bk(t,e,n){let r=ka,i=!0;for(const o of Py(t,e)){let s=ka,a=!0;switch(o.op){case">=":case">":s=T7(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ka}Sk({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Sk({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Us{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function jk(t,e,n,r,i,o,s,a){return new Us(t,e,n,r,i,o,s,a)}function hd(t){return new Us(t)}function $k(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function B0(t){return null!==t.collectionGroup}function fd(t){const e=he(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qt(cn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Cp(o,r))}),n.has(cn.keyField().canonicalString())||e.le.push(new Cp(cn.keyField(),r))}return e.le}function ui(t){const e=he(t);return e.he||(e.he=function Hk(t,e){if("F"===t.limitType)return U0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Cp(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new La(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new La(t.startAt.position,t.startAt.inclusive):null;return U0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,fd(t))),e.he}function j0(t,e){const n=t.filters.concat([e]);return new Us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function My(t,e,n){return new Us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tp(t,e){return Dp(ui(t),ui(e))&&t.limitType===e.limitType}function zk(t){return`${qu(ui(t))}|lt:${t.limitType}`}function pd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Vk(i)).join(", ")}]`),_p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ld(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ld(i)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function bp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of fd(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const l=Pk(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,fd(r),i)||r.endAt&&!function(s,a,u){const l=Pk(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,fd(r),i)));var r,i}function qk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gk(t){return(e,n)=>{let r=!1;for(const i of fd(t)){const o=O7(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function O7(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return null!==u&&null!==l?Fa(u,l):De()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Ik(this.inner)}size(){return this.innerSize}}const k7=new Xt(pe.comparator);function wi(){return k7}const Wk=new Xt(pe.comparator);function Ap(...t){let e=Wk;for(const n of t)e=e.insert(n.key,n);return e}function Zk(t){let e=Wk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cs(){return Sp()}function Kk(){return Sp()}function Sp(){return new Bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const V7=new Xt(pe.comparator),F7=new qt(pe.comparator);function rt(...t){let e=F7;for(const n of t)e=e.add(n);return e}const L7=new qt(Ze);function $0(){return L7}function Qk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(e)?"-0":e}}function Yk(t){return{integerValue:""+t}}function Jk(t,e){return hk(e)?Yk(e):Qk(t,e)}class xy{constructor(){this._=void 0}}function U7(t,e,n){return t instanceof gd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Dy(o)&&(o=Ty(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Gu?eV(t,e):t instanceof Wu?tV(t,e):function(i,o){const s=Xk(i,o),a=nV(s)+nV(i.Ie);return k0(s)&&k0(i.Ie)?Yk(a):Qk(i.serializer,a)}(t,e)}function B7(t,e,n){return t instanceof Gu?eV(t,e):t instanceof Wu?tV(t,e):n}function Xk(t,e){return t instanceof md?k0(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class gd extends xy{}class Gu extends xy{constructor(e){super(),this.elements=e}}function eV(t,e){const n=rV(e);for(const r of t.elements)n.some(i=>us(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wu extends xy{constructor(e){super(),this.elements=e}}function tV(t,e){let n=rV(e);for(const r of t.elements)n=n.filter(i=>!us(i,r));return{arrayValue:{values:n}}}class md extends xy{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function nV(t){return Mn(t.integerValue||t.doubleValue)}function rV(t){return Ep(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Rp{constructor(e,n){this.field=e,this.transform=n}}class $7{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ny(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Oy{}function iV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new yd(t.key,_n.none()):new _d(t.key,t.data,_n.none());{const n=t.data,r=br.empty();let i=new qt(cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new js(t.key,r,new Ei(i.toArray()),_n.none())}}function H7(t,e,n){t instanceof _d?function(i,o,s){const a=i.value.clone(),u=aV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof js?function(i,o,s){if(!Ny(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=aV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(sV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pp(t,e,n,r){return t instanceof _d?function(o,s,a,u){if(!Ny(o.precondition,s))return a;const l=o.value.clone(),h=uV(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof js?function(o,s,a,u){if(!Ny(o.precondition,s))return a;const l=uV(o.fieldTransforms,u,s),h=s.data;return h.setAll(sV(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,Ny(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function z7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Xk(r.transform,i||null);null!=o&&(null===n&&(n=br.empty()),n.set(r.field,o))}return n||null}function oV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&sd(r,i,(o,s)=>function j7(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Gu&&i instanceof Gu||r instanceof Wu&&i instanceof Wu?sd(r.elements,i.elements,us):r instanceof md&&i instanceof md?us(r.Ie,i.Ie):r instanceof gd&&i instanceof gd);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class _d extends Oy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends Oy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aV(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,B7(s,a,n[i]))}return r}function uV(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,U7(o,s,e))}return r}class yd extends Oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H0 extends Oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class z0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&H7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Kk();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=iV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&sd(this.mutations,e.mutations,(n,r)=>oV(n,r))&&sd(this.baseMutations,e.baseMutations,(n,r)=>oV(n,r))}}class q0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=V7;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new q0(e,n,r,i)}}class G0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class G7{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yn,At;function cV(t){switch(t){default:return De();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function lV(t){if(void 0===t)return Wn("GRPC error has no .code"),B.UNKNOWN;switch(t){case Yn.OK:return B.OK;case Yn.CANCELLED:return B.CANCELLED;case Yn.UNKNOWN:return B.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return B.INTERNAL;case Yn.UNAVAILABLE:return B.UNAVAILABLE;case Yn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Yn.NOT_FOUND:return B.NOT_FOUND;case Yn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Yn.ABORTED:return B.ABORTED;case Yn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Yn.DATA_LOSS:return B.DATA_LOSS;default:return De()}}(At=Yn||(Yn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function dV(){return new TextEncoder}const W7=new rd([4294967295,4294967295],0);function hV(t){const e=dV().encode(t),n=new BW;return n.update(e),new Uint8Array(n.digest())}function fV(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new rd([n,r],0),new rd([i,o],0)]}class W0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mp(`Invalid padding: ${n}`);if(r<0)throw new Mp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Mp(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Mp(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=rd.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(rd.fromNumber(r)));return 1===i.compare(W7)&&(i=new rd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=hV(e),[r,i]=fV(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new W0(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=hV(e),[r,i]=fV(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Mp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Np.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xp(ke.min(),i,new Xt(Ze),wi(),rt())}}class Np{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Np(r,n,rt(),rt(),rt())}}class Vy{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class pV{constructor(e,n){this.targetId=e,this.fe=n}}class gV{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mV{constructor(){this.ge=0,this.pe=yV(),this.ye=sr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rt(),n=rt(),r=rt();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De()}}),new Np(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=yV()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Z7{constructor(e){this.Le=e,this.ke=new Map,this.qe=wi(),this.Qe=_V(),this.Ke=new Xt(Ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Ry(o))if(0===r){const s=new pe(o.path);this.We(n,s,ln.newNoDocument(s,ke.min()))}else Ne(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ls(r).toUint8Array()}catch(u){if(u instanceof wk)return Ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new W0(s,i,o)}catch(u){return Ii(u instanceof Mp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Ry(a.target)){const u=new pe(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,ln.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=rt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new xp(e,n,this.Ke,this.qe,r);return this.qe=wi(),this.Qe=_V(),this.Ke=new Xt(Ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new mV,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new qt(Ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mV),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _V(){return new Xt(pe.comparator)}function yV(){return new Xt(pe.comparator)}const K7={asc:"ASCENDING",desc:"DESCENDING"},Q7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y7={and:"AND",or:"OR"};class J7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z0(t,e){return t.useProto3Json||_p(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X7(t,e){return vd(t,e.toTimestamp())}function Zn(t){return Ne(!!t),ke.fromTimestamp(function(n){const r=Na(n);return new mn(r.seconds,r.nanos)}(t))}function K0(t,e){return(r=t,new bt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function IV(t){const e=bt.fromString(t);return Ne(RV(e)),e}function Op(t,e){return K0(t.databaseId,e.path)}function ls(t,e){const n=IV(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(wV(n))}function Q0(t,e){return K0(t.databaseId,e)}function EV(t){const e=IV(t);return 4===e.length?bt.emptyPath():wV(e)}function kp(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wV(t){return Ne(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function CV(t,e,n){return{name:Op(t,e),fields:n.value.mapValue.fields}}function DV(t,e,n){const r=ls(t,e.name),i=Zn(e.updateTime),o=e.createTime?Zn(e.createTime):ke.min(),s=new br({mapValue:{fields:e.fields}}),a=ln.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Vp(t,e){let n;if(e instanceof _d)n={update:CV(t,e.key,e.value)};else if(e instanceof yd)n={delete:Op(t,e.key)};else if(e instanceof js)n={update:CV(t,e.key,e.data),updateMask:aZ(e.fieldMask)};else{if(!(e instanceof H0))return De();n={verify:Op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof gd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof md)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw De()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:X7(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:De()),n;var o}function Y0(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?_n.updateTime(Zn(o.updateTime)):void 0!==o.exists?_n.exists(o.exists):_n.none():_n.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let u=null;"setToServerValue"in a?(Ne("REQUEST_TIME"===a.setToServerValue),u=new gd):"appendMissingElements"in a?u=new Gu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Wu(a.removeAllFromArray.values||[]):"increment"in a?u=new md(s,a.increment):De();const l=cn.fromServerFormat(a.fieldPath);return new Rp(l,u)}(t,i)):[];var o;if(e.update){const i=ls(t,e.update.name),o=new br({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Ei((e.updateMask.fieldPaths||[]).map(h=>cn.fromServerFormat(h)));return new js(i,o,s,n,r)}return new _d(i,o,n,r)}if(e.delete){const i=ls(t,e.delete);return new yd(i,n)}if(e.verify){const i=ls(t,e.verify);return new H0(i,n)}return De()}function TV(t,e){return{documents:[Q0(t,e.path)]}}function J0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Q0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Q0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return SV(Ht.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(l=>{return{field:Ua((g=l).field),direction:iZ(g.dir)};var g})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Z0(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function bV(t){let e=EV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){const m=AV(g);return m instanceof Ht&&F0(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new Cp(Id((D=m).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,_p(m)?null:m}(n.limit));let u=null;var g;n.startAt&&(u=new La((g=n.startAt).values||[],!!g.before));let l=null;return n.endAt&&(l=function(g){return new La(g.values||[],!g.before)}(n.endAt)),jk(e,i,s,o,a,"F",u,l)}function AV(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Id(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Id(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Id(n.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Id(n.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):void 0!==t.fieldFilter?Et.create(Id((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ht.create(n.compositeFilter.filters.map(r=>AV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De();var n}function iZ(t){return K7[t]}function oZ(t){return Q7[t]}function sZ(t){return Y7[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Id(t){return cn.fromServerFormat(t.fieldPath)}function SV(t){return t instanceof Et?function(n){if("=="===n.op){if(Tk(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(Dk(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Tk(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(Dk(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:oZ(n.op),value:n.value}}}(t):t instanceof Ht?function(n){const r=n.getFilters().map(i=>SV(i));return 1===r.length?r[0]:{compositeFilter:{op:sZ(n.op),filters:r}}}(t):De()}function aZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class $s{constructor(e,n,r,i,o=ke.min(),s=ke.min(),a=sr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PV{constructor(e){this.ut=e}}function MV(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Op(o=t.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:vd(o,s.version.toTimestamp()),createTime:vd(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zu(e.version)};else{if(!e.isUnknownDocument())return De();r.unknownDocument={path:n.path.toArray(),version:Zu(e.version)}}var o,s;return r}function Fy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ku(t){const e=new mn(t.seconds,t.nanoseconds);return ke.fromTimestamp(e)}function Qu(t,e){const n=(e.baseMutations||[]).map(o=>Y0(t.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>Y0(t.ut,o)),i=mn.fromMillis(e.localWriteTimeMs);return new z0(e.batchId,i,n,r)}function Fp(t){const e=Ku(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Ku(t.lastLimboFreeSnapshotVersion):ke.min();let r;return r=void 0!==t.query.documents?(Ne(1===(o=t.query).documents.length),ui(hd(EV(o.documents[0])))):function(o){return ui(bV(o))}(t.query),new $s(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,sr.fromBase64String(t.resumeToken));var o}function xV(t,e){const n=Zu(e.snapshotVersion),r=Zu(e.lastLimboFreeSnapshotVersion);let i;i=Ry(e.target)?TV(t.ut,e.target):J0(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qu(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function X0(t){const e=bV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?My(e,e.limit,"L"):e}function eD(t,e){return new G0(e.largestBatchId,Y0(t.ut,e.overlayMutation))}function NV(t,e){const n=e.path.lastSegment();return[t,$r(e.path.popLast()),n]}function OV(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Zu(r.readTime),documentKey:$r(r.documentKey.path),largestBatchId:r.largestBatchId}}class cZ{getBundleMetadata(e,n){return kV(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ku(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return kV(e).put({bundleId:(i=n).id,createTime:Zu(Zn(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return VV(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:X0(o.bundledQuery),readTime:Ku(o.readTime)};var o})}saveNamedQuery(e,n){return VV(e).put({name:(i=n).name,readTime:Zu(Zn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function kV(t){return mr(t,"bundles")}function VV(t){return mr(t,"namedQueries")}class Ly{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Ly(e,n.uid||"")}getOverlay(e,n){return Lp(e).get(NV(this.userId,n)).next(r=>r?eD(this.serializer,r):null)}getOverlays(e,n){const r=cs();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new G0(n,s);i.push(this.lt(e,a))}),O.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add($r(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Lp(e).H("collectionPathOverlayIndex",a))}),O.waitFor(o)}getOverlaysForCollection(e,n,r){const i=cs(),o=$r(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Lp(e).W("collectionPathOverlayIndex",s).next(a=>{for(const u of a){const l=eD(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=cs();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Lp(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,l,h)=>{const g=eD(this.serializer,l);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):h.done()}).next(()=>o)}lt(e,n){return Lp(e).put(function(i,o,s){const[a,u,l]=NV(o,s.mutation.key);return{userId:o,collectionPath:u,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Vp(i.ut,s.mutation)}}(this.serializer,this.userId,n))}}function Lp(t){return mr(t,"documentOverlays")}class Yu{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Mn(e.integerValue));else if("doubleValue"in e){const r=Mn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),yp(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ls(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?bk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):De()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),pe.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function lZ(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function FV(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=lZ(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Yu.St=new Yu;class dZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=FV(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=FV(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hZ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class fZ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Up{constructor(){this.Wt=new dZ,this.Gt=new hZ(this.Wt),this.zt=new fZ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ju{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ju(this.indexId,this.documentKey,this.arrayValue,r)}}function Ba(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=LV(t.arrayValue,e.arrayValue),0!==n?n:(n=LV(t.directionalValue,e.directionalValue),0!==n?n:pe.comparator(t.documentKey,e.documentKey)))}function LV(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class UV{constructor(e){this.Jt=new qt((n,r)=>cn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ne(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=R0(e);if(void 0!==n&&!this.tn(n))return!1;const r=ju(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[o];if(!this.nn(a,u)||!this.rn(this.Yt[s++],u))return!1}++o}for(;o<r.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],r[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new qt(cn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new $u(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new $u(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new $u(r.field,"asc"===r.dir?0:1)));return new ad(ad.UNKNOWN_ID,this.collectionId,n,ud.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function BV(t){var e,n;if(Ne(t instanceof Et||t instanceof Ht),t instanceof Et){if(t instanceof Lk){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>Et.create(t.field,"==",o)))||[];return Ht.create(i,"or")}return t}const r=t.filters.map(i=>BV(i));return Ht.create(r,t.op)}function pZ(t){if(0===t.getFilters().length)return[];const e=rD(BV(t));return Ne(jV(e)),tD(e)||nD(e)?[e]:e.getFilters()}function tD(t){return t instanceof Et}function nD(t){return t instanceof Ht&&F0(t)}function jV(t){return tD(t)||nD(t)||function(n){if(n instanceof Ht&&V0(n)){for(const r of n.getFilters())if(!tD(r)&&!nD(r))return!1;return!0}return!1}(t)}function rD(t){if(Ne(t instanceof Et||t instanceof Ht),t instanceof Et)return t;if(1===t.filters.length)return rD(t.filters[0]);const e=t.filters.map(r=>rD(r));let n=Ht.create(e,t.op);return n=Uy(n),jV(n)?n:(Ne(n instanceof Ht),Ne(dd(n)),Ne(n.filters.length>1),n.filters.reduce((r,i)=>iD(r,i)))}function iD(t,e){let n;return Ne(t instanceof Et||t instanceof Ht),Ne(e instanceof Et||e instanceof Ht),n=t instanceof Et?e instanceof Et?Ht.create([t,e],"and"):$V(t,e):e instanceof Et?$V(e,t):function(i,o){if(Ne(i.filters.length>0&&o.filters.length>0),dd(i)&&dd(o))return kk(i,o.getFilters());const s=V0(i)?i:o,a=V0(i)?o:i,u=s.filters.map(l=>iD(l,a));return Ht.create(u,"or")}(t,e),Uy(n)}function $V(t,e){if(dd(e))return kk(e,t.getFilters());{const n=e.filters.map(r=>iD(t,r));return Ht.create(n,"or")}}function Uy(t){if(Ne(t instanceof Et||t instanceof Ht),t instanceof Et)return t;const e=t.getFilters();if(1===e.length)return Uy(e[0]);if(Nk(t))return t;const n=e.map(i=>Uy(i)),r=[];return n.forEach(i=>{i instanceof Et?r.push(i):i instanceof Ht&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ht.create(r,t.op)}class gZ{constructor(){this.on=new oD}addToCollectionParentIndex(e,n){return this.on.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Bi.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class oD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qt(bt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(bt.comparator)).toArray()}}const By=new Uint8Array(0);class mZ{constructor(e,n){this.user=e,this.databaseId=n,this._n=new oD,this.an=new Bs(r=>qu(r),(r,i)=>Dp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:r,parent:$r(i)};return HV(e).put(o)}return O.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[sk(n),""],!1,!0);return HV(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(as(s.parent))}return r})}addFieldIndex(e,n){const r=Bp(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=wd(e);return o.next(a=>{s.put(OV(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Bp(e),i=wd(e),o=Ed(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Bp(e),r=Ed(e),i=wd(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return O.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new UV(r).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=Ed(e);let i=!0;const o=new Map;return O.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=rt();const a=[];return O.forEach(o,(u,l)=>{var z;ie("IndexedDbIndexManager",`Using index ${z=u,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(ue=>`${ue.fieldPath}:${ue.kind}`).join(",")}`} to execute ${qu(n)}`);const h=function(z,ue){const me=R0(ue);if(void 0===me)return null;for(const We of Py(z,me.fieldPath))switch(We.op){case"array-contains-any":return We.value.arrayValue.values||[];case"array-contains":return[We.value]}return null}(l,u),g=function(z,ue){const me=new Map;for(const We of ju(ue))for(const Lt of Py(z,We.fieldPath))switch(Lt.op){case"==":case"in":me.set(We.fieldPath.canonicalString(),Lt.value);break;case"not-in":case"!=":return me.set(We.fieldPath.canonicalString(),Lt.value),Array.from(me.values())}return null}(l,u),m=function(z,ue){const me=[];let We=!0;for(const Lt of ju(ue)){const Sr=0===Lt.kind?Uk(z,Lt.fieldPath,z.startAt):Bk(z,Lt.fieldPath,z.startAt);me.push(Sr.value),We&&(We=Sr.inclusive)}return new La(me,We)}(l,u),y=function(z,ue){const me=[];let We=!0;for(const Lt of ju(ue)){const Sr=0===Lt.kind?Bk(z,Lt.fieldPath,z.endAt):Uk(z,Lt.fieldPath,z.endAt);me.push(Sr.value),We&&(We=Sr.inclusive)}return new La(me,We)}(l,u),D=this.ln(u,l,m),S=this.ln(u,l,y),M=this.hn(u,l,g),U=this.Pn(u.indexId,h,D,m.inclusive,S,y.inclusive,M);return O.forEach(U,N=>r.j(N,n.limit).next(z=>{z.forEach(ue=>{const me=pe.fromSegments(ue.documentKey);s.has(me)||(s=s.add(me),a.push(me))})}))}).next(()=>a)}return O.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:pZ(Ht.create(e.filters,"and")).map(r=>U0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){const u=(null!=n?n.length:1)*Math.max(r.length,o.length),l=u/(null!=n?n.length:1),h=[];for(let g=0;g<u;++g){const m=n?this.In(n[g/l]):By,y=this.Tn(e,m,r[g%l],i),D=this.En(e,m,o[g%l],s),S=a.map(M=>this.Tn(e,m,M,!0));h.push(...this.createRange(y,D,S))}return h}Tn(e,n,r,i){const o=new Ju(e,pe.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){const o=new Ju(e,pe.empty(),n,r);return i?o.Ht():o}cn(e,n){const r=new UV(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.un(n);return O.forEach(i,o=>this.cn(e,o).next(s=>{s?0!==r&&s.fields.length<function(u){let l=new qt(cn.comparator),h=!1;for(const g of u.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:l=l.add(m.field));for(const g of u.orderBy)g.field.isKeyField()||(l=l.add(g.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Up;for(const i of ju(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.jt(i.kind);Yu.St.ht(o,s)}return r.Ut()}In(e){const n=new Up;return Yu.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Up;return Yu.St.ht(zu(this.databaseId,n),r.jt(function(o){const s=ju(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Up);let o=0;for(const s of ju(e)){const a=r[o++];for(const u of i)if(this.Rn(n,s.fieldPath)&&Ep(a))i=this.Vn(i,s,a);else{const l=u.jt(s.kind);Yu.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const u=new Up;u.seed(a.Ut()),Yu.St.ht(s,u.jt(n.kind)),o.push(u)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof Et&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Bp(e),i=wd(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return O.forEach(o,a=>i.get([a.indexId,this.uid]).next(u=>{s.push(function(h,g){const m=g?new ud(g.sequenceNumber,new Bi(Ku(g.readTime),new pe(as(g.documentKey)),g.largestBatchId)):ud.empty(),y=h.fields.map(([D,S])=>new $u(cn.fromServerFormat(D),S));return new ad(h.indexId,h.collectionGroup,y,m)}(a,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Ze(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Bp(e),o=wd(e);return this.fn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>O.forEach(a,u=>o.put(OV(u.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return O.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?O.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),O.forEach(a,u=>this.gn(e,i,u).next(l=>{const h=this.pn(o,u);return l.isEqual(h)?O.resolve():this.yn(e,o,u,l,h)}))))})}wn(e,n,r,i){return Ed(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Ed(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Ed(e);let o=new qt(Ba);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new Ju(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new qt(Ba);const i=this.dn(n,e);if(null==i)return r;const o=R0(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Ep(s))for(const a of s.arrayValue.values||[])r=r.add(new Ju(n.indexId,e.key,this.In(a),i))}else r=r.add(new Ju(n.indexId,e.key,By,i));return r}yn(e,n,r,i,o){ie("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(u,l,h,g,m){const y=u.getIterator(),D=l.getIterator();let S=cd(y),M=cd(D);for(;S||M;){let U=!1,N=!1;if(S&&M){const z=h(S,M);z<0?N=!0:z>0&&(U=!0)}else null!=S?N=!0:U=!0;U?(g(M),M=cd(D)):N?(m(S),S=cd(y)):(S=cd(y),M=cd(D))}}(i,o,Ba,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),O.waitFor(s)}fn(e){let n=1;return wd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Ba(s,a)).filter((s,a,u)=>!a||0!==Ba(s,u[a-1]));const i=[];i.push(e);for(const s of r){const a=Ba(s,e),u=Ba(s,n);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(s),i.push(s.Ht());else if(u>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,By,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,By,[]]))}return o}bn(e,n){return Ba(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(zV)}getMinOffset(e,n){return O.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||De())).next(zV)}}function HV(t){return mr(t,"collectionParents")}function Ed(t){return mr(t,"indexEntries")}function Bp(t){return mr(t,"indexConfiguration")}function wd(t){return mr(t,"indexState")}function zV(t){Ne(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;P0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bi(e.readTime,e.documentKey,n)}const qV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function GV(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.Y({range:s},(h,g,m)=>(a++,m.delete()));o.push(u.next(()=>{Ne(1===a)}));const l=[];for(const h of n.mutations){const g=gk(e,h.key.path,n.batchId);o.push(i.delete(g)),l.push(h.key)}return O.waitFor(o).next(()=>l)}function jy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw De();e=t.noDocument}return JSON.stringify(e).length}Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(41943040,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class $y{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){Ne(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new $y(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Cd(e),s=ja(e);return s.add({}).next(a=>{Ne("number"==typeof a);const u=new z0(a,n,r,i),l=function(y,D,S){const M=S.baseMutations.map(N=>Vp(y.ut,N)),U=S.mutations.map(N=>Vp(y.ut,N));return{userId:D,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:M,mutations:U}}(this.serializer,this.userId,u),h=[];let g=new qt((m,y)=>Ze(m.canonicalString(),y.canonicalString()));for(const m of i){const y=gk(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(s.put(l)),h.push(o.put(y,i7))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),O.waitFor(h).next(()=>u)})}lookupMutationBatch(e,n){return ja(e).get(n).next(r=>r?(Ne(r.userId===this.userId),Qu(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?O.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ja(e).Y({index:"userMutationsIndex",range:i},(s,a,u)=>{a.userId===this.userId&&(Ne(a.batchId>=r),o=Qu(this.serializer,a)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ja(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).W("userMutationsIndex",n).next(r=>r.map(i=>Qu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=wy(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Cd(e).Y({range:i},(s,a,u)=>{const[l,h,g]=s,m=as(h);if(l===this.userId&&n.path.isEqual(m))return ja(e).get(g).next(y=>{if(!y)throw De();Ne(y.userId===this.userId),o.push(Qu(this.serializer,y))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Ze);const i=[];return n.forEach(o=>{const s=wy(this.userId,o.path),a=IDBKeyRange.lowerBound(s),u=Cd(e).Y({range:a},(l,h,g)=>{const[m,y,D]=l,S=as(y);m===this.userId&&o.path.isEqual(S)?r=r.add(D):g.done()});i.push(u)}),O.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=wy(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new qt(Ze);return Cd(e).Y({range:s},(u,l,h)=>{const[g,m,y]=u,D=as(m);g===this.userId&&r.isPrefixOf(D)?D.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(ja(e).get(o).next(s=>{if(null===s)throw De();Ne(s.userId===this.userId),r.push(Qu(this.serializer,s))}))}),O.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return GV(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),O.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return O.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Cd(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const u=as(o[1]);i.push(u)}else a.done()}).next(()=>{Ne(0===i.length)})})}containsKey(e,n){return WV(e,this.userId,n)}Mn(e){return ZV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WV(t,e,n){const r=wy(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Cd(t).Y({range:o,J:!0},(a,u,l)=>{const[h,g,m]=a;h===e&&g===i&&(s=!0),l.done()}).next(()=>s)}function ja(t){return mr(t,"mutations")}function Cd(t){return mr(t,"documentMutations")}function ZV(t){return mr(t,"mutationQueues")}class Xu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Xu(0)}static Nn(){return new Xu(-1)}}class _Z{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Xu(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ke.fromTimestamp(new mn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Dd(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ne(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Dd(e).Y((s,a)=>{const u=Fp(a);u.sequenceNumber<=n&&null===r.get(u.targetId)&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>O.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Dd(e).Y((r,i)=>{const o=Fp(i);n(o)})}Bn(e){return KV(e).get("targetGlobalKey").next(n=>(Ne(null!==n),n))}Ln(e,n){return KV(e).put("targetGlobalKey",n)}kn(e,n){return Dd(e).put(xV(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=qu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Dd(e).Y({range:i,index:"queryTargetsIndex"},(s,a,u)=>{const l=Fp(a);Dp(n,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=$a(e);return n.forEach(s=>{const a=$r(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),O.waitFor(i)}removeMatchingKeys(e,n,r){const i=$a(e);return O.forEach(n,o=>{const s=$r(o.path);return O.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=$a(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=$a(e);let o=rt();return i.Y({range:r,J:!0},(s,a,u)=>{const l=as(s[1]),h=new pe(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=$r(n.path),i=IDBKeyRange.bound([r],[sk(r)],!1,!0);let o=0;return $a(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],u,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return Dd(e).get(n).next(r=>r?Fp(r):null)}}function Dd(t){return mr(t,"targets")}function KV(t){return mr(t,"targetGlobal")}function $a(t){return mr(t,"targetDocuments")}function QV([t,e],[n,r]){const i=Ze(t,n);return 0===i?Ze(e,r):i}class yZ{constructor(e){this.Qn=e,this.buffer=new qt(QV),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QV(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Q.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Ma(r)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Pa(r)}yield n.Gn(3e5)}))}}class vZ{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return O.resolve(ji._e);const r=new yZ(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(qV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qV):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,u,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),od()<=rs.in.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${g} documents in `+(l-u)+`ms\nTotal Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}class IZ{constructor(e,n){this.db=e,this.garbageCollector=function JV(t,e){return new vZ(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Hy(e,r)}removeReference(e,n,r){return Hy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Hy(e,n)}Xn(e,n){return function(i,o){let s=!1;return ZV(i).Z(a=>WV(i,a,o).next(u=>(u&&(s=!0),O.resolve(!u)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const u=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ke.min()),$a(e).delete([0,$r(s.path)])))});i.push(u)}}).next(()=>O.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Hy(e,n)}Zn(e,n){const r=$a(e);let i,o=ji._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:u,sequenceNumber:l})=>{0===s?(o!==ji._e&&n(new pe(as(i)),o),o=l,i=u):o=ji._e}).next(()=>{o!==ji._e&&n(new pe(as(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hy(t,e){return $a(t).put((i=t.currentSequenceNumber,{targetId:0,path:$r(e.path),sequenceNumber:i}));var i}class XV{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EZ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ec(e).put(r)}removeEntry(e,n,r){return ec(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Fy(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=ln.newInvalidDocument(n);return ec(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jp(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:ln.newInvalidDocument(n)};return ec(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jp(n))},(i,o)=>{r={document:this.tr(n,o),size:jy(o)}}).next(()=>r)}getEntries(e,n){let r=wi();return this.rr(e,n,(i,o)=>{const s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=wi(),i=new Xt(pe.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,jy(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return O.resolve();let i=new qt(rF);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(jp(i.first()),jp(i.last())),s=i.getIterator();let a=s.getNext();return ec(e).Y({index:"documentKeyIndex",range:o},(u,l,h)=>{const g=pe.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&rF(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.U(jp(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Fy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ec(e).W(IDBKeyRange.bound(a,u,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=wi();for(const g of l){const m=this.tr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(bp(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=wi();const s=nF(n,r),a=nF(n,Bi.max());return ec(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(u,l,h)=>{const g=this.tr(pe.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(g.key,g),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new wZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return tF(e).get("remoteDocumentGlobalKey").next(n=>(Ne(!!n),n))}er(e,n){return tF(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function uZ(t,e){let n;if(e.document)n=DV(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),i=Ku(e.noDocument.readTime);n=ln.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return De();{const r=pe.fromSegments(e.unknownDocument.path),i=Ku(e.unknownDocument.version);n=ln.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new mn(i[0],i[1]);return ke.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ke.min()))return r}return ln.newInvalidDocument(e)}}function eF(t){return new EZ(t)}class wZ extends XV{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Bs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new qt((o,s)=>Ze(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const u=MV(this._r.serializer,s);i=i.add(o.path.popLast());const l=jy(u);r+=l-a.size,n.push(this._r.addEntry(e,o,u))}else if(r-=a.size,this.trackRemovals){const u=MV(this._r.serializer,s.convertToNoDocument(ke.min()));n.push(this._r.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),O.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function tF(t){return mr(t,"remoteDocumentGlobal")}function ec(t){return mr(t,"remoteDocumentsV14")}function jp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nF(t,e){const n=e.documentKey.path.toArray();return[t,Fy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rF(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ze(n[o],r[o]),i)return i;return i=Ze(n.length,r.length),i||(i=Ze(n[n.length-2],r[r.length-2]),i||Ze(n[n.length-1],r[r.length-1]))}class CZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class iF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Pp(r.mutation,i,Ei.empty(),mn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ap();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=wi();const s=Sp(),a=Sp();return n.forEach((u,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof js)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Pp(h.mutation,l,h.mutation.getFieldMask(),mn.now())):s.set(l.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var g;return a.set(l,new CZ(h,null!==(g=s.get(l))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sp();let i=new Xt((s,a)=>s-a),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let h=r.get(u)||Ei.empty();h=a.applyToLocalView(l,h),r.set(u,h);const g=(i.get(a.batchId)||rt()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,h=u.value,g=Kk();h.forEach(m=>{if(!o.has(m)){const y=iV(n.get(m),r.get(m));null!==y&&g.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return pe.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):B0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(cs());let a=-1,u=o;return s.next(l=>O.forEach(l,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,rt())).next(h=>({batchId:a,changes:Zk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Ap();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ap();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{const l=(g=n,m=u.child(o),new Us(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,ln.newInvalidDocument(h)))});let a=Ap();return s.forEach((u,l)=>{const h=o.get(u);void 0!==h&&Pp(h.mutation,l,Ei.empty(),mn.now()),bp(n,l)&&(a=a.insert(u,l))}),a})}}class DZ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return O.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:Zn(i.createTime)}),O.resolve();var i}getNamedQuery(e,n){return O.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:X0(i.bundledQuery),readTime:Zn(i.readTime)}),O.resolve();var i}}class TZ{constructor(){this.overlays=new Xt(pe.comparator),this.lr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cs();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=cs(),o=n.length+1,s=new pe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xt((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=cs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=cs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new G0(n,r));let o=this.lr.get(n);void 0===o&&(o=rt(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class sD{constructor(){this.hr=new qt(_r.Pr),this.Ir=new qt(_r.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _r(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new pe(new bt([])),r=new _r(n,e),i=new _r(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new pe(new bt([])),r=new _r(n,e),i=new _r(n,e+1);let o=rt();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new _r(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return pe.comparator(e.key,n.key)||Ze(e.gr,n.gr)}static Tr(e,n){return Ze(e.gr,n.gr)||pe.comparator(e.key,n.key)}}class bZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new qt(_r.Pr)}checkEmpty(e){return O.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new z0(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new _r(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Ze);return n.forEach(i=>{const o=new _r(i,0),s=new _r(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),O.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const s=new _r(new pe(o),0);let a=new qt(Ze);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},s),O.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ne(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return O.forEach(n.mutations,i=>{const o=new _r(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new _r(n,0),i=this.yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return O.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class AZ{constructor(e){this.Cr=e,this.docs=new Xt(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=wi();const s=n.path,a=new pe(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||P0(uk(h),r)<=0||(i.has(h.key)||bp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){De()}vr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SZ(this)}getSize(e){return O.resolve(this.size)}}class SZ extends XV{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class RZ{constructor(e){this.persistence=e,this.Fr=new Bs(n=>qu(n),Dp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new sD,this.targetCount=0,this.Nr=Xu.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),O.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.kn(n),O.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Or.containsKey(n))}}class aD{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ji(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new RZ(this),this.indexManager=new gZ,this.remoteDocumentCache=new AZ(r=>this.referenceDelegate.Qr(r)),this.serializer=new PV(n),this.Kr=new DZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new bZ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new PZ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return O.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class PZ extends lk{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Gr=new sD,this.zr=null}static jr(e){return new zy(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,r=>{const i=pe.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return O.or([()=>O.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class MZ{constructor(e){this.serializer=e}N(e,n,r,i){const o=new Ey("createOrUpgrade",n);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pk,{unique:!0}),u.createObjectStore("documentMutations"),oF(e),function(u){u.createObjectStore("remoteDocuments")}(e));let s=O.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),oF(e)),s=s.next(()=>function(u){const l=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(u,l){return l.store("mutations").W().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pk,{unique:!0});const g=l.store("mutations"),m=h.map(y=>g.put(y));return O.waitFor(m)})}(e,o))),s=s.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(u){const l=u.createObjectStore("documentOverlays",{keyPath:m7});l.createIndex("collectionPathOverlayIndex",_7,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",y7,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:o7});l.createIndex("documentKeyIndex",s7),l.createIndex("collectionGroupIndex",a7)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:h7}).createIndex("sequenceNumberIndex",f7,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:p7}).createIndex("documentKeyIndex",g7,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=jy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>O.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>O.forEach(a,u=>{Ne(u.userId===o.userId);const l=Qu(this.serializer,u);return GV(e,o.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const u=new bt(s),l=[0,$r(u)];o.push(n.get(l).next(h=>h?O.resolve():n.put({targetId:0,path:$r(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>O.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:d7});const r=n.store("collectionParents"),i=new oD,o=s=>{if(i.add(s)){const a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:$r(u)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const u=new bt(s);return o(u.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,u],l)=>{const h=as(a);return o(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const o=Fp(i),s=xV(this.serializer,o);return n.put(s)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),u=(g=s,g.document?new pe(bt.fromString(g.document.name).popFirst(5)):g.noDocument?pe.fromSegments(g.noDocument.path):g.unknownDocument?pe.fromSegments(g.unknownDocument.path):De()).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var g;i.push(a.put(l))}).next(()=>O.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=eF(this.serializer),o=new aD(zy.jr,this.serializer.ut);return r.W().next(s=>{const a=new Map;return s.forEach(u=>{var l;let h=null!==(l=a.get(u.userId))&&void 0!==l?l:rt();Qu(this.serializer,u).keys().forEach(g=>h=h.add(g)),a.set(u.userId,h)}),O.forEach(a,(u,l)=>{const h=new gr(l),g=Ly.ct(this.serializer,h),m=o.getIndexManager(h),y=$y.ct(h,this.serializer,m,o.referenceDelegate);return new iF(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new N0(n,ji._e),u).next()})})}}function oF(t){t.createObjectStore("targetDocuments",{keyPath:c7}).createIndex("documentTargetsIndex",l7,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u7,{unique:!0}),t.createObjectStore("targetGlobal")}const uD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cD{constructor(e,n,r,i,o,s,a,u,l,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=g,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!cD.D())throw new te(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IZ(this,i),this.Ii=n+"main",this.serializer=new PV(u),this.Ti=new Po(this.Ii,this.ai,new MZ(this.serializer)),this.qr=new _Z(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eF(this.serializer),this.Kr=new cZ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Wn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(B.FAILED_PRECONDITION,uD);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ji(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,Q.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,Q.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Q.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ma(e))return ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return $p(e).get("owner").next(n=>O.resolve(this.wi(n)))}Si(e){return Gy(e).delete(this.clientId)}bi(){var e=this;return(0,Q.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=mr(r,"clientMetadata");return i.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(u=>-1===s.indexOf(u));return O.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?O.resolve(!0):$p(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new te(B.FAILED_PRECONDITION,uD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gy(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ie("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Q.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new N0(n,ji._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Gy(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return $y.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mZ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ly.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(u=this.ai)?I7:14===u?yk:13===u?_k:12===u?v7:11===u?mk:void De();var u;let s;return this.Ti.runTransaction(e,i,o,a=>(s=new N0(a,this.Lr?this.Lr.next():ji._e),"readwrite-primary"===n?this.fi(s).next(u=>!!u||this.gi(s)).next(u=>{if(!u)throw Wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new te(B.FAILED_PRECONDITION,ck);return r(s)}).next(u=>this.yi(s).next(()=>u)):this.Li(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return $p(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(B.FAILED_PRECONDITION,uD)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $p(e).put("owner",n)}static D(){return Po.D()}pi(e){const n=$p(e);return n.get("owner").next(r=>this.wi(r)?(ie("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):O.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(Wn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,Zt.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return ie("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Wn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $p(t){return mr(t,"owner")}function Gy(t){return mr(t,"clientMetadata")}function lD(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class dD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=rt(),i=rt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new dD(e,n.fromCache,r,i)}}class xZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sF{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new xZ;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(od()<=rs.in.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",pd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(od()<=rs.in.DEBUG&&ie("QueryEngine","Query:",pd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(od()<=rs.in.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",pd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):O.resolve())}zi(e,n){if($k(n))return O.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=My(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=rt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,s,u.readTime)?this.zi(e,My(n,null,"F")):this.Xi(e,l,n,u)}))})))}ji(e,n,r,i){return $k(n)||i.isEqual(ke.min())?O.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?O.resolve(null):(od()<=rs.in.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pd(n)),this.Xi(e,s,n,ak(i,-1)).next(a=>a))})}Yi(e,n){let r=new qt(Gk(e));return n.forEach((i,o)=>{bp(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return od()<=rs.in.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",pd(n)),this.Gi.getDocumentsMatchingQuery(e,n,Bi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class NZ{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Xt(Ze),this.ns=new Bs(o=>qu(o),Dp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iF(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function aF(t,e,n,r){return new NZ(t,e,n,r)}function uF(t,e){return hD.apply(this,arguments)}function hD(){return hD=(0,Q.Z)(function*(t,e){const n=he(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=rt();for(const l of i){s.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),hD.apply(this,arguments)}function cF(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function lF(t,e,n){let r=rt(),i=rt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=wi();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ke.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:s,cs:i}})}function VZ(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Td(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new $s(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function bd(t,e,n){return fD.apply(this,arguments)}function fD(){return fD=(0,Q.Z)(function*(t,e,n){const r=he(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ma(s))throw s;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),fD.apply(this,arguments)}function Wy(t,e,n){const r=he(t);let i=ke.min(),o=rt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){const g=he(u),m=g.ns.get(h);return void 0!==m?O.resolve(g.ts.get(m)):g.qr.getTargetData(l,h)}(r,s,ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:ke.min(),n?o:rt())).next(a=>(fF(r,qk(e),a),{documents:a,ls:o})))}function dF(t,e){const n=he(t),r=he(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function hF(t,e){const n=he(t),r=n.rs.get(e)||ke.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,ak(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fF(n,e,i),i))}function fF(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function pD(){return pD=(0,Q.Z)(function*(t,e,n,r){const i=he(t);let o=rt(),s=wi();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const g=e.Ps(l);g.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,g)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield Td(i,(h=r,ui(hd(bt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>lF(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.qr.addMatchingKeys(l,o,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),pD.apply(this,arguments)}function LZ(t,e){return gD.apply(this,arguments)}function gD(){return gD=(0,Q.Z)(function*(t,e,n=rt()){const r=yield Td(t,ui(X0(e.bundledQuery))),i=he(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Zn(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(o,e);const a=r.withResumeToken(sr.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(o,a).next(()=>i.qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(o,e))})}),gD.apply(this,arguments)}function pF(t,e){return`firestore_clients_${t}_${e}`}function gF(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function mD(t,e){return`firestore_targets_${t}_${e}`}class Zy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new te(i.error.code,i.error.message))),s?new Zy(e,n,i.state,o):(Wn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hp{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new te(r.error.code,r.error.message))),o?new Hp(e,r.state,i):(Wn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ky{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$0();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=hk(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new Ky(e,o):(Wn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class _D{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new _D(n.clientId,n.onlineState):(Wn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yD{constructor(){this.activeTargetIds=$0()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vD{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Xt(Ze),this.started=!1,this.ps=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=pF(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new yD),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Q.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const o=e.getItem(pF(e.persistenceKey,i));if(o){const s=Ky.Ts(i,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(mD(this.persistenceKey,e));if(r){const i=Hp.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mD(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ie("SharedClientState","READ",e,n),n}setItem(e,n){ie("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Wn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Q.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(s){let a=ji._e;if(null!=s)try{const u=JSON.parse(s);Ne("number"==typeof u),a=u}catch(u){Wn("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==ji._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Js(o)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new Zy(this.currentUser,e,n,r),o=gF(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Bs(e){const n=gF(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=mD(this.persistenceKey,e),o=new Hp(e,n,r);this.setItem(i,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return Ky.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return Zy.Ts(new gr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Hp.Ts(i,n)}Ms(e){return _D.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,Q.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(u=>{i.has(u)||s.push(u)}),i.forEach(u=>{o.has(u)||a.push(u)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=$0();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class mF{constructor(){this.eo=new yD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new yD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UZ{ro(e){}shutdown(){}}class _F{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qy=null;function ID(){return null===Qy?Qy=268435456+Math.round(2147483648*Math.random()):Qy++,"0x"+Qy.toString(16)}const BZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jZ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const zr="WebChannelConnection";class $Z extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=ID(),u=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,u,l,i).then(h=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ii("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+id,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${BZ[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=ID();return new Promise((s,a)=>{const u=new UW;u.setWithCredentials(!0),u.listenOnce(VW.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case A0.NO_ERROR:const h=u.getResponseJson();ie(zr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case A0.TIMEOUT:ie(zr,`RPC '${e}' ${o} timed out`),a(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case A0.HTTP_ERROR:const g=u.getStatus();if(ie(zr,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const D=function(M){const U=M.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(U)>=0?U:B.UNKNOWN}(y.status);a(new te(D,y.message))}else a(new te(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new te(B.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ie(zr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);ie(zr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(e,n,r){const i=ID(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=OW(),a=kW(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new LW({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");ie(zr,`Creating RPC '${e}' stream ${i}: ${h}`,u);const g=s.createWebChannel(h,u);let m=!1,y=!1;const D=new jZ({co:M=>{y?ie(zr,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(ie(zr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),ie(zr,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},lo:()=>g.close()}),S=(M,U,N)=>{M.listen(U,z=>{try{N(z)}catch(ue){setTimeout(()=>{throw ue},0)}})};return S(g,Iy.EventType.OPEN,()=>{y||ie(zr,`RPC '${e}' stream ${i} transport opened.`)}),S(g,Iy.EventType.CLOSE,()=>{y||(y=!0,ie(zr,`RPC '${e}' stream ${i} transport closed`),D.Ro())}),S(g,Iy.EventType.ERROR,M=>{y||(y=!0,Ii(zr,`RPC '${e}' stream ${i} transport errored:`,M),D.Ro(new te(B.UNAVAILABLE,"The operation could not be completed")))}),S(g,Iy.EventType.MESSAGE,M=>{var U;if(!y){const N=M.data[0];Ne(!!N);const ue=N.error||(null===(U=N[0])||void 0===U?void 0:U.error);if(ue){ie(zr,`RPC '${e}' stream ${i} received error:`,ue);const me=ue.status;let We=function(hg){const Pv=Yn[hg];if(void 0!==Pv)return lV(Pv)}(me),Lt=ue.message;void 0===We&&(We=B.INTERNAL,Lt="Unknown error status: "+me+" with message "+ue.message),y=!0,D.Ro(new te(We,Lt)),g.close()}else ie(zr,`RPC '${e}' stream ${i} received:`,N),D.Vo(N)}}),S(a,FW.STAT_EVENT,M=>{M.stat===tk.PROXY?ie(zr,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===tk.NOPROXY&&ie(zr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.Ao()},0),D}}function yF(){return typeof window<"u"?window:null}function Yy(){return typeof document<"u"?document:null}function zp(t){return new J7(t,!0)}class ED{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class vF{constructor(e,n,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new ED(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Q.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Q.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,Q.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Q.Z)(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HZ extends vF{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function tZ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:De(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ne(void 0===h||"string"==typeof h),sr.fromBase64String(h||"")):(Ne(void 0===h||h instanceof Uint8Array),sr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?B.UNKNOWN:lV(l.code);return new te(h,l.message||"")}(s);n=new gV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ls(t,r.document.name),o=Zn(r.document.updateTime),s=r.document.createTime?Zn(r.document.createTime):ke.min(),a=new br({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,a);n=new Vy(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ls(t,r.document),o=r.readTime?Zn(r.readTime):ke.min(),s=ln.newNoDocument(i,o);n=new Vy([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ls(t,r.document);n=new Vy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return De();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new G7(i,o);n=new pV(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?Zn(s.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=kp(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Ry(u)?{documents:TV(o,u)}:{query:J0(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vV(o,s.resumeToken);const l=Z0(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ke.min())>0){a.readTime=vd(o,s.snapshotVersion.toTimestamp());const l=Z0(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function rZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.e_(n)}}class zZ extends vF{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function nZ(t,e){return t&&t.length>0?(Ne(void 0!==e),t.map(n=>function(i,o){let s=Zn(i.updateTime?i.updateTime:o);return s.isEqual(ke.min())&&(s=Zn(o)),new $7(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.I_(r,n)}return Ne(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=kp(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vp(this.serializer,r))};this.e_(n)}}class qZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class WZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Wn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class ZZ{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,Q.Z)(function*(){var u;Ha(s)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Q.Z)(function*(h){const g=he(h);g.C_.add(4),yield Ad(g),g.M_.set("Unknown"),g.C_.delete(4),yield qp(g)}),function l(h){return u.apply(this,arguments)})(s))}))}),this.M_=new WZ(r,i)}}function qp(t){return CD.apply(this,arguments)}function CD(){return CD=(0,Q.Z)(function*(t){if(Ha(t))for(const e of t.v_)yield e(!0)}),CD.apply(this,arguments)}function Ad(t){return DD.apply(this,arguments)}function DD(){return DD=(0,Q.Z)(function*(t){for(const e of t.v_)yield e(!1)}),DD.apply(this,arguments)}function Jy(t,e){const n=he(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),AD(n)?bD(n):Rd(n).Ho()&&TD(n,e))}function Gp(t,e){const n=he(t),r=Rd(n);n.D_.delete(e),r.Ho()&&IF(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Ha(n)&&n.M_.set("Unknown"))}function TD(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rd(t).u_(e)}function IF(t,e){t.x_.Oe(e),Rd(t).c_(e)}function bD(t){t.x_=new Z7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Rd(t).start(),t.M_.g_()}function AD(t){return Ha(t)&&!Rd(t).jo()&&t.D_.size>0}function Ha(t){return 0===he(t).C_.size}function EF(t){t.x_=void 0}function KZ(t){return SD.apply(this,arguments)}function SD(){return SD=(0,Q.Z)(function*(t){t.D_.forEach((e,n)=>{TD(t,e)})}),SD.apply(this,arguments)}function QZ(t,e){return RD.apply(this,arguments)}function RD(){return RD=(0,Q.Z)(function*(t,e){EF(t),AD(t)?(t.M_.w_(e),bD(t)):t.M_.set("Unknown")}),RD.apply(this,arguments)}function YZ(t,e,n){return PD.apply(this,arguments)}function PD(){return PD=(0,Q.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof gV&&2===e.state&&e.cause)try{yield(r=(0,Q.Z)(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Xy(t,r)}else if(e instanceof Vy?t.x_.$e(e):e instanceof pV?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield cF(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const h=o.D_.get(u);if(!h)return;o.D_.set(u,h.withResumeToken(sr.EMPTY_BYTE_STRING,h.snapshotVersion)),IF(o,u);const g=new $s(h.target,u,l,h.sequenceNumber);TD(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield Xy(t,r)}var r}),PD.apply(this,arguments)}function Xy(t,e,n){return MD.apply(this,arguments)}function MD(){return MD=(0,Q.Z)(function*(t,e,n){if(!Ma(e))throw e;t.C_.add(1),yield Ad(t),t.M_.set("Offline"),n||(n=()=>cF(t.localStore)),t.asyncQueue.enqueueRetryable((0,Q.Z)(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield qp(t)}))}),MD.apply(this,arguments)}function wF(t,e){return e().catch(n=>Xy(t,n,e))}function Sd(t){return xD.apply(this,arguments)}function xD(){return xD=(0,Q.Z)(function*(t){const e=he(t),n=za(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;JZ(e);)try{const i=yield VZ(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,XZ(e,i)}catch(i){yield Xy(e,i)}CF(e)&&DF(e)}),xD.apply(this,arguments)}function JZ(t){return Ha(t)&&t.b_.length<10}function XZ(t,e){t.b_.push(e);const n=za(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function CF(t){return Ha(t)&&!za(t).jo()&&t.b_.length>0}function DF(t){za(t).start()}function eK(t){return ND.apply(this,arguments)}function ND(){return ND=(0,Q.Z)(function*(t){za(t).E_()}),ND.apply(this,arguments)}function tK(t){return OD.apply(this,arguments)}function OD(){return OD=(0,Q.Z)(function*(t){const e=za(t);for(const n of t.b_)e.P_(n.mutations)}),OD.apply(this,arguments)}function nK(t,e,n){return kD.apply(this,arguments)}function kD(){return kD=(0,Q.Z)(function*(t,e,n){const r=t.b_.shift(),i=q0.from(r,e,n);yield wF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Sd(t)}),kD.apply(this,arguments)}function rK(t,e){return VD.apply(this,arguments)}function VD(){return VD=(0,Q.Z)(function*(t,e){var n;e&&za(t).h_&&(yield(n=(0,Q.Z)(function*(i,o){if(cV(a=o.code)&&a!==B.ABORTED){const s=i.b_.shift();za(i).Yo(),yield wF(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Sd(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),CF(t)&&DF(t)}),VD.apply(this,arguments)}function TF(t,e){return FD.apply(this,arguments)}function FD(){return FD=(0,Q.Z)(function*(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=Ha(n);n.C_.add(3),yield Ad(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield qp(n)}),FD.apply(this,arguments)}function LD(t,e){return UD.apply(this,arguments)}function UD(){return UD=(0,Q.Z)(function*(t,e){const n=he(t);e?(n.C_.delete(2),yield qp(n)):e||(n.C_.add(2),yield Ad(n),n.M_.set("Unknown"))}),UD.apply(this,arguments)}function Rd(t){return t.O_||(t.O_=function(n,r,i){const o=he(n);return o.A_(),new HZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:KZ.bind(null,t),Io:QZ.bind(null,t),a_:YZ.bind(null,t)}),t.v_.push(function(){var e=(0,Q.Z)(function*(n){n?(t.O_.Yo(),AD(t)?bD(t):t.M_.set("Unknown")):(yield t.O_.stop(),EF(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function za(t){return t.N_||(t.N_=function(n,r,i){const o=he(n);return o.A_(),new zZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:eK.bind(null,t),Io:rK.bind(null,t),T_:tK.bind(null,t),I_:nK.bind(null,t)}),t.v_.push(function(){var e=(0,Q.Z)(function*(n){n?(t.N_.Yo(),yield Sd(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class BD{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new BD(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Ma(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}class Md{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Ap(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new Md(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Md)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Md;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bF{constructor(){this.B_=new Xt(pe.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xd{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xd(e,n,Md.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class iK{constructor(){this.k_=void 0,this.listeners=[]}}class oK{constructor(){this.queries=new Bs(e=>zk(e),Tp),this.onlineState="Unknown",this.q_=new Set}}function jD(t,e){return $D.apply(this,arguments)}function $D(){return $D=(0,Q.Z)(function*(t,e){const n=he(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new iK),i)try{o.k_=yield n.onListen(r)}catch(s){const a=Pd(s,`Initialization of query '${pd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&qD(n)}),$D.apply(this,arguments)}function HD(t,e){return zD.apply(this,arguments)}function zD(){return zD=(0,Q.Z)(function*(t,e){const n=he(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),zD.apply(this,arguments)}function sK(t,e){const n=he(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&qD(n)}function aK(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function qD(t){t.q_.forEach(e=>{e.next()})}class GD{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new xd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class uK{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class AF{constructor(e){this.serializer=e}hs(e){return ls(this.serializer,e)}Ps(e){return e.metadata.exists?DV(this.serializer,e.document,!1):ln.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Zn(e)}}class cK{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SF(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=bt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new AF(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.hs(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||rt()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,Q.Z)(function*(){const n=yield function FZ(t,e,n,r){return pD.apply(this,arguments)}(e.localStore,new AF(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield LZ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function SF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class RF{constructor(e){this.key=e}}class PF{constructor(e){this.key=e}}class MF{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=Gk(e),this.aa=new Md(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new bF,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),y=bp(this.query,g)?g:null,D=!!m&&this.mutatedKeys.has(m.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let M=!1;m&&y?m.data.isEqual(y.data)?D!==S&&(r.track({type:3,doc:y}),M=!0):this.ha(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this._a(y,u)>0||l&&this._a(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(m,y){const D=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return D(m)-D(y)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==o.length||u?{snapshot:new xd(this.query,e.aa,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new bF,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new PF(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new RF(r))}),n}da(e){this.ia=e.ls,this.oa=rt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return xd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class lK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dK{constructor(e){this.key=e,this.Ra=!1}}class hK{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Bs(a=>zk(a),Tp),this.fa=new Map,this.ga=new Set,this.pa=new Xt(pe.comparator),this.ya=new Map,this.wa=new sD,this.Sa={},this.ba=new Map,this.Da=Xu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function fK(t,e){return WD.apply(this,arguments)}function WD(){return WD=(0,Q.Z)(function*(t,e){const n=mT(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield Td(n.localStore,ui(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield ZD(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Jy(n.remoteStore,s)}return i}),WD.apply(this,arguments)}function ZD(t,e,n,r,i){return KD.apply(this,arguments)}function KD(){return KD=(0,Q.Z)(function*(t,e,n,r,i){t.va=(g,m,y)=>{return(D=(0,Q.Z)(function*(M,U,N,z){let ue=U.view.ca(N);ue.Zi&&(ue=yield Wy(M.localStore,U.query,!1).then(({documents:Lt})=>U.view.ca(Lt,ue)));const me=z&&z.targetChanges.get(U.targetId),We=U.view.applyChanges(ue,M.isPrimaryClient,me);return oT(M,U.targetId,We.Ta),We.snapshot}),function S(M,U,N,z){return D.apply(this,arguments)})(t,g,m,y);var D};const o=yield Wy(t.localStore,e,!0),s=new MF(e,o.ls),a=s.ca(o.documents),u=Np.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,u);oT(t,n,l.Ta);const h=new lK(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),KD.apply(this,arguments)}function pK(t,e){return QD.apply(this,arguments)}function QD(){return QD=(0,Q.Z)(function*(t,e){const n=he(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Tp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gp(n.remoteStore,r.targetId),Nd(n,r.targetId)}).catch(Pa))):(Nd(n,r.targetId),yield bd(n.localStore,r.targetId,!0))}),QD.apply(this,arguments)}function YD(){return YD=(0,Q.Z)(function*(t,e,n){const r=_T(t);try{const i=yield function(s,a){const u=he(s),l=mn.now(),h=a.reduce((y,D)=>y.add(D.key),rt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=wi(),S=rt();return u.ss.getEntries(y,h).next(M=>{D=M,D.forEach((U,N)=>{N.isValidDocument()||(S=S.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(M=>{g=M;const U=[];for(const N of a){const z=z7(N,g.get(N.key).overlayedDocument);null!=z&&U.push(new js(N.key,z,Rk(z.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,U,a)}).next(M=>{m=M;const U=M.applyToLocalDocumentSet(g,S);return u.documentOverlayCache.saveOverlays(y,M.batchId,U)})}).then(()=>({batchId:m.batchId,changes:Zk(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Sa[s.currentUser.toKey()];l||(l=new Xt(Ze)),l=l.insert(a,u),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Hs(r,i.changes),yield Sd(r.remoteStore)}catch(i){const o=Pd(i,"Failed to persist write");n.reject(o)}}),YD.apply(this,arguments)}function xF(t,e){return JD.apply(this,arguments)}function JD(){return JD=(0,Q.Z)(function*(t,e){const n=he(t);try{const r=yield function kZ(t,e){const n=he(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,g)));let y=m.withSequenceNumber(o.currentSequenceNumber);var S,M,U;null!==e.targetMismatches.get(g)?y=y.withResumeToken(sr.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(g,y),M=y,U=h,(0===(S=m).resumeToken.approximateByteSize()||M.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,y))});let u=wi(),l=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(lF(o,s,e.documentUpdates).next(h=>{u=h.us,l=h.cs})),!r.isEqual(ke.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(g=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ne(s.Ra):i.removedDocuments.size>0&&(Ne(s.Ra),s.Ra=!1))}),yield Hs(n,r,e)}catch(r){yield Pa(r)}}),JD.apply(this,arguments)}function NF(t,e,n){const r=he(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=he(s);u.onlineState=a;let l=!1;u.queries.forEach((h,g)=>{for(const m of g.listeners)m.Q_(a)&&(l=!0)}),l&&qD(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mK(t,e,n){return XD.apply(this,arguments)}function XD(){return XD=(0,Q.Z)(function*(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Xt(pe.comparator);s=s.insert(o,ln.newNoDocument(o,ke.min()));const a=rt().add(o),u=new xp(ke.min(),new Map,new Xt(Ze),s,a);yield xF(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),sT(r)}else yield bd(r.localStore,e,!1).then(()=>Nd(r,e,n)).catch(Pa)}),XD.apply(this,arguments)}function _K(t,e){return eT.apply(this,arguments)}function eT(){return eT=(0,Q.Z)(function*(t,e){const n=he(t),r=e.batch.batchId;try{const i=yield function OZ(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){const g=l.batch,m=g.keys();let y=O.resolve();return m.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(S=>{const M=l.docVersions.get(D);Ne(null!==M),S.version.compareTo(M)<0&&(g.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);iT(n,r,null),rT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hs(n,i)}catch(i){yield Pa(i)}}),eT.apply(this,arguments)}function yK(t,e,n){return tT.apply(this,arguments)}function tT(){return tT=(0,Q.Z)(function*(t,e,n){const r=he(t);try{const i=yield function(s,a){const u=he(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(g=>(Ne(null!==g),h=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);iT(r,e,n),rT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hs(r,i)}catch(i){yield Pa(i)}}),tT.apply(this,arguments)}function nT(){return nT=(0,Q.Z)(function*(t,e){const n=he(t);Ha(n.remoteStore)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=he(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Pd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),nT.apply(this,arguments)}function rT(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function iT(t,e,n){const r=he(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Nd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||OF(t,r)})}function OF(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Gp(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),sT(t))}function oT(t,e,n){for(const r of n)r instanceof RF?(t.wa.addReference(r.key,e),IK(t,r)):r instanceof PF?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||OF(t,r.key)):De()}function IK(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),sT(t))}function sT(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new pe(bt.fromString(e)),r=t.Da.next();t.ya.set(r,new dK(n)),t.pa=t.pa.insert(n,r),Jy(t.remoteStore,new $s(ui(hd(n.path)),r,"TargetPurposeLimboResolution",ji._e))}}function Hs(t,e,n){return aT.apply(this,arguments)}function aT(){return aT=(0,Q.Z)(function*(t,e,n){const r=he(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=dD.Qi(u.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,Q.Z)(function*(l,h){const g=he(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>O.forEach(h,y=>O.forEach(y.ki,D=>g.persistence.referenceDelegate.addReference(m,y.targetId,D)).next(()=>O.forEach(y.qi,D=>g.persistence.referenceDelegate.removeReference(m,y.targetId,D)))))}catch(m){if(!Ma(m))throw m;ie("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const D=g.ts.get(y),M=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);g.ts=g.ts.insert(y,M)}}}),function u(l,h){return a.apply(this,arguments)})(r.localStore,o))}),aT.apply(this,arguments)}function EK(t,e){return uT.apply(this,arguments)}function uT(){return uT=(0,Q.Z)(function*(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield uF(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new te(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hs(n,r._s)}var o}),uT.apply(this,arguments)}function wK(t,e){const n=he(t),r=n.ya.get(e);if(r&&r.Ra)return rt().add(r.key);{let i=rt();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function CK(t,e){return cT.apply(this,arguments)}function cT(){return cT=(0,Q.Z)(function*(t,e){const n=he(t),r=yield Wy(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&oT(n,e.targetId,i.Ta),i}),cT.apply(this,arguments)}function DK(t,e){return lT.apply(this,arguments)}function lT(){return lT=(0,Q.Z)(function*(t,e){const n=he(t);return hF(n.localStore,e).then(r=>Hs(n,r))}),lT.apply(this,arguments)}function TK(t,e,n,r){return dT.apply(this,arguments)}function dT(){return dT=(0,Q.Z)(function*(t,e,n,r){const i=he(t),o=yield function(a,u){const l=he(a),h=he(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.Cn(g,u).next(m=>m?l.localDocuments.getDocuments(g,m):O.resolve(null)))}(i.localStore,e);var u;null!==o?("pending"===n?yield Sd(i.remoteStore):"acknowledged"===n||"rejected"===n?(iT(i,e,r||null),rT(i,e),u=e,he(he(i.localStore).mutationQueue).Fn(u)):De(),yield Hs(i,o)):ie("SyncEngine","Cannot apply mutation batch with id: "+e)}),dT.apply(this,arguments)}function hT(){return hT=(0,Q.Z)(function*(t,e){const n=he(t);if(mT(n),_T(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield kF(n,r.toArray());n.Ca=!0,yield LD(n.remoteStore,!0);for(const o of i)Jy(n.remoteStore,o)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Nd(n,s),bd(n.localStore,s,!0))),Gp(n.remoteStore,s)}),yield i,yield kF(n,r),function(s){const a=he(s);a.ya.forEach((u,l)=>{Gp(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new Xt(pe.comparator)}(n),n.Ca=!1,yield LD(n.remoteStore,!1)}}),hT.apply(this,arguments)}function kF(t,e,n){return fT.apply(this,arguments)}function fT(){return fT=(0,Q.Z)(function*(t,e,n){const r=he(t),i=[],o=[];for(const s of e){let a;const u=r.fa.get(s);if(u&&0!==u.length){a=yield Td(r.localStore,ui(u[0]));for(const l of u){const h=r.ma.get(l),g=yield CK(r,h);g.snapshot&&o.push(g.snapshot)}}else{const l=yield dF(r.localStore,s);a=yield Td(r.localStore,l),yield ZD(r,VF(l),s,!1,a.resumeToken)}i.push(a)}return r.Va.a_(o),i}),fT.apply(this,arguments)}function VF(t){return jk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function AK(t){return n=he(t).localStore,he(he(n).persistence).Bi();var n}function SK(t,e,n,r){return pT.apply(this,arguments)}function pT(){return pT=(0,Q.Z)(function*(t,e,n,r){const i=he(t);if(i.Ca)return void ie("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield hF(i.localStore,qk(o[0])),a=xp.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,sr.EMPTY_BYTE_STRING);yield Hs(i,s,a);break}case"rejected":yield bd(i.localStore,e,!0),Nd(i,e,r);break;default:De()}}),pT.apply(this,arguments)}function RK(t,e,n){return gT.apply(this,arguments)}function gT(){return gT=(0,Q.Z)(function*(t,e,n){const r=mT(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){ie("SyncEngine","Adding an already active target "+i);continue}const o=yield dF(r.localStore,i),s=yield Td(r.localStore,o);yield ZD(r,VF(o),s.targetId,!1,s.resumeToken),Jy(r.remoteStore,s)}for(const i of n)r.fa.has(i)&&(yield bd(r.localStore,i,!1).then(()=>{Gp(r.remoteStore,i),Nd(r,i)}).catch(Pa))}}),gT.apply(this,arguments)}function mT(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mK.bind(null,e),e.Va.a_=sK.bind(null,e.eventManager),e.Va.Fa=aK.bind(null,e.eventManager),e}function _T(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_K.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yK.bind(null,e),e}class Wp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Q.Z)(function*(){n.serializer=zp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aF(this.persistence,new sF,e.initialUser,this.serializer)}createPersistence(e){return new aD(zy.jr,this.serializer)}createSharedClientState(e){return new mF}terminate(){var e=this;return(0,Q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yT extends Wp{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield _T(r.xa.syncEngine),yield Sd(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return aF(this.persistence,new sF,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new YV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new n7(n,this.persistence);return new t7(e.asyncQueue,r)}createPersistence(e){const n=lD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new cD(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,yF(),Yy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new mF}}class FF extends yT{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof vD&&(r.sharedClientState.syncEngine={Ys:TK.bind(null,i),Zs:SK.bind(null,i),Xs:RK.bind(null,i),Bi:AK.bind(null,i),Js:DK.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var o=(0,Q.Z)(function*(s){yield function bK(t,e){return hT.apply(this,arguments)}(r.xa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=yF();if(!vD.D(n))throw new te(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=lD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vD(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Od{initialize(e,n){var r=this;return(0,Q.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>NF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=EK.bind(null,r.syncEngine),yield LD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oK}createDatastore(e){const n=zp(e.databaseInfo.databaseId),r=new $Z(e.databaseInfo);return new qZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>NF(this.syncEngine,n,0),a=_F.D()?new _F:new UZ,new ZZ(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){const g=new hK(i,o,s,a,u,l);return h&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Q.Z)(function*(r){const i=he(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Ad(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function LF(t,e=10240){let n=0;return{read:()=>(0,Q.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Q.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ev{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class xK{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new or,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Q.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Q.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Q.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const o=yield e.Ka(i);return new uK(JSON.parse(o),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Q.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,Q.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Q.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class NK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Q.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new te(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Q.Z)(function*(s,a){const u=he(s),l=kp(u.serializer)+"/documents",h={documents:a.map(D=>Op(u.serializer,D))},g=yield u.Co("BatchGetDocuments",l,h,a.length),m=new Map;g.forEach(D=>{const S=function eZ(t,e){return"found"in e?function(r,i){Ne(!!i.found);const o=ls(r,i.found.name),s=Zn(i.found.updateTime),a=i.found.createTime?Zn(i.found.createTime):ke.min(),u=new br({mapValue:{fields:i.found.fields}});return ln.newFoundDocument(o,s,a,u)}(t,e):"missing"in e?function(r,i){Ne(!!i.missing),Ne(!!i.readTime);const o=ls(r,i.missing),s=Zn(i.readTime);return ln.newNoDocument(o,s)}(t,e):De()}(u.serializer,D);m.set(S.key.toString(),S)});const y=[];return a.forEach(D=>{const S=m.get(D.toString());Ne(!!S),y.push(S)}),y}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=pe.fromPath(i);e.mutations.push(new H0(o,e.precondition(o)))}),yield(r=(0,Q.Z)(function*(o,s){const a=he(o),u=kp(a.serializer)+"/documents",l={writes:s.map(h=>Vp(a.serializer,h))};yield a.wo("Commit",u,l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw De();n=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ke.min())?_n.exists(!1):_n.updateTime(n):_n.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ke.min()))throw new te(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(n)}return _n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class OK{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Wa=r.maxAttempts,this.zo=new ED(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Q.Z)(function*(){const n=new NK(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.ja(o)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!_p(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!cV(n)}return!1}}class kK{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=ok.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,Q.Z)(function*(a){ie("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,Q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Pd(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function tv(t,e){return vT.apply(this,arguments)}function vT(){return vT=(0,Q.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Q.Z)(function*(o){r.isEqual(o)||(yield uF(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),vT.apply(this,arguments)}function IT(t,e){return ET.apply(this,arguments)}function ET(){return ET=(0,Q.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield wT(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>TF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>TF(e.remoteStore,o)),t._onlineComponents=e}),ET.apply(this,arguments)}function UF(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function wT(t){return CT.apply(this,arguments)}function CT(){return CT=(0,Q.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!UF(n))throw n;Ii("Error using user provided cache. Falling back to memory cache: "+n),yield tv(t,new Wp)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield tv(t,new Wp);return t._offlineComponents}),CT.apply(this,arguments)}function nv(t){return DT.apply(this,arguments)}function DT(){return DT=(0,Q.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield IT(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield IT(t,new Od))),t._onlineComponents}),DT.apply(this,arguments)}function BF(t){return wT(t).then(e=>e.persistence)}function kd(t){return wT(t).then(e=>e.localStore)}function jF(t){return nv(t).then(e=>e.remoteStore)}function TT(t){return nv(t).then(e=>e.syncEngine)}function Vd(t){return bT.apply(this,arguments)}function bT(){return bT=(0,Q.Z)(function*(t){const e=yield nv(t),n=e.eventManager;return n.onListen=fK.bind(null,e.syncEngine),n.onUnlisten=pK.bind(null,e.syncEngine),n}),bT.apply(this,arguments)}function HF(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(o,s,a,u,l){const h=new ev({next:m=>{s.enqueueAndForget(()=>HD(o,g));const y=m.docs.has(a);!y&&m.fromCache?l.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&"server"===u.source?l.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new GD(hd(a.path),h,{includeMetadataChanges:!0,J_:!0});return jD(o,g)}(yield Vd(t),t.asyncQueue,e,n,r)})),r.promise}function zF(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(o,s,a,u,l){const h=new ev({next:m=>{s.enqueueAndForget(()=>HD(o,g)),m.fromCache&&"server"===u.source?l.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new GD(a,h,{includeMetadataChanges:!0,J_:!0});return jD(o,g)}(yield Vd(t),t.asyncQueue,e,n,r)})),r.promise}function qF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const GF=new Map;function AT(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t,e,n,r){if(!0===e&&!0===r)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZF(t){if(!pe.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KF(t){if(pe.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":De()}function pt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rv(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function QF(t,e){if(e<=0)throw new te(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class YF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new HW;switch(r.type){case"firstParty":return new WW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GF.get(n);r&&(ie("ComponentProvider","Removing Datastore"),GF.delete(n),r.terminate())}(this),Promise.resolve()}}class Ar{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ar(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class ds extends Ar{constructor(e,n,r){super(e,n,hd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new pe(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function XF(t,e,...n){if(t=(0,Zt.m9)(t),AT("collection","path",e),t instanceof Zp){const r=bt.fromString(e,...n);return KF(r),new ds(t,null,r)}{if(!(t instanceof dn||t instanceof ds))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return KF(r),new ds(t.firestore,null,r)}}function iv(t,e,...n){if(t=(0,Zt.m9)(t),1===arguments.length&&(e=ok.newId()),AT("doc","path",e),t instanceof Zp){const r=bt.fromString(e,...n);return ZF(r),new dn(t,null,new pe(r))}{if(!(t instanceof dn||t instanceof ds))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return ZF(r),new dn(t.firestore,t instanceof ds?t.converter:null,new pe(r))}}function eL(t,e){return t=(0,Zt.m9)(t),e=(0,Zt.m9)(e),(t instanceof dn||t instanceof ds)&&(e instanceof dn||e instanceof ds)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ST(t,e){return t=(0,Zt.m9)(t),e=(0,Zt.m9)(e),t instanceof Ar&&e instanceof Ar&&t.firestore===e.firestore&&Tp(t._query,e._query)&&t.converter===e.converter}class WK{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new ED(this,"async_queue_retry"),this.iu=()=>{const n=Yy();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Yy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Yy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new or;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Q.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ma(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Wn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=BD.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&De()}verifyOperationInProgress(){}uu(){var e=this;return(0,Q.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function RT(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class ZK{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class en extends Zp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WK,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tL(this),this._firestoreClient.terminate()}}function xn(t){return t._firestoreClient||tL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tL(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new C7(t._databaseId,u,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qF(h.experimentalLongPollingOptions),h.useFetchStreams));var u,h;t._firestoreClient=new kK(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function nL(t,e,n){const r=new or;return t.asyncQueue.enqueue((0,Q.Z)(function*(){try{yield tv(t,n),yield IT(t,e),r.resolve()}catch(i){const o=i;if(!UF(o))throw o;Ii("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function rL(t){if(t._initialized||t._terminated)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hs(sr.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hs(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zs{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tc{constructor(e){this._methodName=e}}class ov{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}const oQ=/^__.*__$/;class sQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new _d(e,this.data,n,this.fieldTransforms)}}class iL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class sv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new sv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return cv(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(oL(this.Iu)&&oQ.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class aQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zp(e)}pu(e,n,r,i=!1){return new sv({Iu:e,methodName:n,gu:r,path:cn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nc(t){const e=t._freezeSettings(),n=zp(t._databaseId);return new aQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function av(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);NT("Data must be an object, but it was:",s,r);const a=uL(r,s);let u,l;if(o.merge)u=new Ei(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const g of o.mergeFields){const m=Yp(e,g,n);if(!s.contains(m))throw new te(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);lL(h,m)||h.push(m)}u=new Ei(h),l=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=s.fieldTransforms;return new sQ(new br(a),u,l)}class Qp extends tc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qp}}function sL(t,e,n){return new sv({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class PT extends tc{_toFieldTransform(e){return new Rp(e.path,new gd)}isEqual(e){return e instanceof PT}}class uQ extends tc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=sL(this,e,!0),r=this.yu.map(o=>rc(o,n)),i=new Gu(r);return new Rp(e.path,i)}isEqual(e){return this===e}}class cQ extends tc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=sL(this,e,!0),r=this.yu.map(o=>rc(o,n)),i=new Wu(r);return new Rp(e.path,i)}isEqual(e){return this===e}}class lQ extends tc{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new md(e.serializer,Jk(e.serializer,this.wu));return new Rp(e.path,n)}isEqual(e){return this===e}}function MT(t,e,n,r){const i=t.pu(1,e,n);NT("Data must be an object, but it was:",i,r);const o=[],s=br.empty();xa(r,(u,l)=>{const h=uv(e,u,n);l=(0,Zt.m9)(l);const g=i.Ru(h);if(l instanceof Qp)o.push(h);else{const m=rc(l,g);null!=m&&(o.push(h),s.set(h,m))}});const a=new Ei(o);return new iL(s,a,i.fieldTransforms)}function xT(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Yp(e,r,n)],u=[i];if(o.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Yp(e,o[m])),u.push(o[m+1]);const l=[],h=br.empty();for(let m=a.length-1;m>=0;--m)if(!lL(l,a[m])){const y=a[m];let D=u[m];D=(0,Zt.m9)(D);const S=s.Ru(y);if(D instanceof Qp)l.push(y);else{const M=rc(D,S);null!=M&&(l.push(y),h.set(y,M))}}const g=new Ei(l);return new iL(h,g,s.fieldTransforms)}function aL(t,e,n,r=!1){return rc(n,t.pu(r?4:3,e))}function rc(t,e){if(cL(t=(0,Zt.m9)(t)))return NT("Unsupported field value:",e,t),uL(t,e);if(t instanceof tc)return function(r,i){if(!oL(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=rc(a,i.Vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,Zt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Jk(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=mn.fromDate(r);return{timestampValue:vd(i.serializer,o)}}if(r instanceof mn){const o=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(i.serializer,o)}}if(r instanceof ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hs)return{bytesValue:vV(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:K0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${rv(r)}`)}(t,e)}function uL(t,e){const n={};return Ik(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(t,(r,i)=>{const o=rc(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function cL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof ov||t instanceof hs||t instanceof dn||t instanceof tc)}function NT(t,e,n){if(!cL(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=rv(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Yp(t,e,n){if((e=(0,Zt.m9)(e))instanceof zs)return e._internalPath;if("string"==typeof e)return uv(t,e);throw cv("Field path arguments must be of type string or ",t,!1,void 0,n)}const dQ=new RegExp("[~\\*/\\[\\]]");function uv(t,e,n){if(e.search(dQ)>=0)throw cv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zs(...e.split("."))._internalPath}catch{throw cv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cv(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new te(B.INVALID_ARGUMENT,a+t+u)}function lL(t,e){return t.some(n=>n.isEqual(e))}class Jp{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class hQ extends Jp{data(){return super.data()}}function lv(t,e){return"string"==typeof e?uv(t,e):e instanceof zs?e._internalPath:e._delegate._internalPath}function dL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OT{}class Xp extends OT{}function qa(t,e,...n){let r=[];e instanceof OT&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof Fd).length,a=o.filter(u=>u instanceof eg).length;if(s>1||s>0&&a>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class eg extends Xp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new eg(e,n,r)}_apply(e){const n=this._parse(e);return gL(e._query,n),new Ar(e.firestore,e.converter,j0(e._query,n))}_parse(e){const n=nc(e.firestore);return function(o,s,a,u,l,h,g){let m;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){pL(g,h);const y=[];for(const D of g)y.push(fL(u,o,D));m={arrayValue:{values:y}}}else m=fL(u,o,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||pL(g,h),m=aL(a,"where",g,"in"===h||"not-in"===h);return Et.create(l,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fd extends OT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)gL(s,u),s=j0(s,u)}(e._query,n),new Ar(e.firestore,e.converter,j0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kT extends Xp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kT(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cp(o,s)}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Us(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class dv extends Xp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dv(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,My(e._query,this._limit,this._limitType))}}class hv extends Xp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hv(e,n,r)}_apply(e){const n=hL(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,(o=n,new Us((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class fv extends Xp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new fv(e,n,r)}_apply(e){const n=hL(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,(o=n,new Us((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function hL(t,e,n,r){if(n[0]=(0,Zt.m9)(n[0]),n[0]instanceof Jp)return function(o,s,a,u,l){if(!u)throw new te(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of fd(o))if(g.field.isKeyField())h.push(zu(s,u.key));else{const m=u.data.field(g.field);if(Dy(m))throw new te(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new te(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(m)}return new La(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=nc(t.firestore);return function(s,a,u,l,h,g){const m=s.explicitOrderBy;if(h.length>m.length)throw new te(B.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let D=0;D<h.length;D++){const S=h[D];if(m[D].field.isKeyField()){if("string"!=typeof S)throw new te(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof S}`);if(!B0(s)&&-1!==S.indexOf("/"))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${S}' contains a slash.`);const M=s.path.child(bt.fromString(S));if(!pe.isDocumentKey(M))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const U=new pe(M);y.push(zu(a,U))}else{const M=aL(u,l,S);y.push(M)}}return new La(y,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function fL(t,e,n){if("string"==typeof(n=(0,Zt.m9)(n))){if(""===n)throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B0(e)&&-1!==n.indexOf("/"))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!pe.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zu(t,new pe(r))}if(n instanceof dn)return zu(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rv(n)}.`)}function pL(t,e){if(!Array.isArray(t)||0===t.length)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new te(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VT{convertValue(e,n="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ov(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ty(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vp(e));default:return null}}convertTimestamp(e){const n=Na(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);Ne(RV(r));const i=new Oa(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function pv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class EQ extends VT{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends Jp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tg extends qs{data(e={}){return super.data(e)}}class Ga{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tg(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:CQ(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}function _L(t,e){return t instanceof qs&&e instanceof qs?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ga&&e instanceof Ga&&t._firestore===e._firestore&&ST(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Wa extends VT{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function yL(t,e,n){t=pt(t,dn);const r=pt(t.firestore,en),i=pv(t.converter,e,n);return Ld(r,[av(nc(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,_n.none())])}function vL(t,e,n,...r){t=pt(t,dn);const i=pt(t.firestore,en),o=nc(i);let s;return s="string"==typeof(e=(0,Zt.m9)(e))||e instanceof zs?xT(o,"updateDoc",t._key,e,n,r):MT(o,"updateDoc",t._key,e),Ld(i,[s.toMutation(t._key,_n.exists(!0))])}function IL(t,...e){var n,r,i;t=(0,Zt.m9)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||RT(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(RT(e[s])){const g=e[s];e[s]=null===(n=g.next)||void 0===n?void 0:n.bind(g),e[s+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[s+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let u,l,h;if(t instanceof dn)l=pt(t.firestore,en),h=hd(t._key.path),u={next:g=>{e[s]&&e[s](FT(l,t,g))},error:e[s+1],complete:e[s+2]};else{const g=pt(t,Ar);l=pt(g.firestore,en),h=g._query;const m=new Wa(l);u={next:y=>{e[s]&&e[s](new Ga(l,m,g,y))},error:e[s+1],complete:e[s+2]},dL(t._query)}return function(m,y,D,S){const M=new ev(S),U=new GD(y,M,D);return m.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return jD(yield Vd(m),U)})),()=>{M.Na(),m.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return HD(yield Vd(m),U)}))}}(xn(l),h,a,u)}function Ld(t,e){return function(r,i){const o=new or;return r.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function gK(t,e,n){return YD.apply(this,arguments)}(yield TT(r),i,o)})),o.promise}(xn(t),e)}function FT(t,e,n){const r=n.docs.get(e._key),i=new Wa(t);return new qs(t,i,e._key,r,new ic(n.hasPendingWrites,n.fromCache),e.converter)}const jQ={maxAttempts:5};class EL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,n,r){this._verifyNotCommitted();const i=Za(e,this._firestore),o=pv(i.converter,n,r),s=av(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,_n.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Za(e,this._firestore);let s;return s="string"==typeof(n=(0,Zt.m9)(n))||n instanceof zs?xT(this._dataReader,"WriteBatch.update",o._key,n,r,i):MT(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Za(e,this._firestore);return this._mutations=this._mutations.concat(new yd(n._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Za(t,e){if((t=(0,Zt.m9)(t)).firestore!==e)throw new te(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class $Q extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=nc(n)}get(n){const r=Za(n,this._firestore),i=new EQ(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return De();const s=o[0];if(s.isFoundDocument())return new Jp(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Jp(this._firestore,i,r._key,null,r.converter);throw De()})}set(n,r,i){const o=Za(n,this._firestore),s=pv(o.converter,r,i),a=av(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Za(n,this._firestore);let a;return a="string"==typeof(r=(0,Zt.m9)(r))||r instanceof zs?xT(this._dataReader,"Transaction.update",s._key,r,i,o):MT(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Za(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Za(e,this._firestore),r=new Wa(this._firestore);return super.get(e).then(i=>new qs(this._firestore,r,n._key,i._document,new ic(!1,!1),n.converter))}}function UT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new te("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function TL(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function bL(){if(!function E7(){return typeof atob<"u"}())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){id=Fi.SDK_VERSION,(0,Fi._registerComponent)(new UN.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new en(new qW(r.getProvider("auth-internal")),new ZW(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Fi.registerVersion)(nk,"4.3.2",e),(0,Fi.registerVersion)(nk,"4.3.2","esm2017")}();class ng{constructor(e){this._delegate=e}static fromBase64String(e){return bL(),new ng(hs.fromBase64String(e))}static fromUint8Array(e){return TL(),new ng(hs.fromUint8Array(e))}toBase64(){return bL(),this._delegate.toBase64()}toUint8Array(){return TL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BT(t){return function JQ(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class XQ{enableIndexedDbPersistence(e,n){return function QK(t,e){rL(t=pt(t,en));const n=xn(t);if(n._uninitializedComponentsProvider)throw new te(B.FAILED_PRECONDITION,"SDK cache is already specified.");Ii("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Od;return nL(n,i,new yT(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function YK(t){rL(t=pt(t,en));const e=xn(t);if(e._uninitializedComponentsProvider)throw new te(B.FAILED_PRECONDITION,"SDK cache is already specified.");Ii("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Od;return nL(e,r,new FF(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function JK(t){if(t._initialized&&!t._terminated)throw new te(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new or;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{yield(n=(0,Q.Z)(function*(i){if(!Po.D())return Promise.resolve();const o=i+"main";yield Po.delete(o)}),function r(i){return n.apply(this,arguments)})(lD(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class AL{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ii("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function JF(t,e,n,r={}){var i;const o=(t=pt(t,Zp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=gr.MOCK_USER;else{a=(0,Zt.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gr(l)}t._authCredentials=new zW(new rk(a,u))}}(this._delegate,e,n,r)}enableNetwork(){return function eQ(t){return function VK(t){return t.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield BF(t),n=yield jF(t);return e.setNetworkEnabled(!0),function(i){const o=he(i);return o.C_.delete(0),qp(o)}(n)}))}(xn(t=pt(t,en)))}(this._delegate)}disableNetwork(){return function tQ(t){return function FK(t){return t.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield BF(t),n=yield jF(t);return e.setNetworkEnabled(!1),(r=(0,Q.Z)(function*(o){const s=he(o);s.C_.add(0),yield Ad(s),s.M_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(xn(t=pt(t,en)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,WF("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function XK(t){return function(n){const r=new or;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function vK(t,e){return nT.apply(this,arguments)}(yield TT(n),r)})),r.promise}(xn(t=pt(t,en)))}(this._delegate)}onSnapshotsInSync(e){return function xQ(t,e){return function BK(t,e){const n=new ev(e);return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return i=yield Vd(t),o=n,he(i).q_.add(o),void o.next();var i,o})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return i=yield Vd(t),o=n,void he(i).q_.delete(o);var i,o}))}}(xn(t=pt(t,en)),RT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ud(this,XF(this._delegate,e))}catch(n){throw ci(n,"collection()","Firestore.collection()")}}doc(e){try{return new mo(this,iv(this._delegate,e))}catch(n){throw ci(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new li(this,function GK(t,e){if(t=pt(t,Zp),AT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(t,null,(r=e,new Us(bt.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw ci(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function HQ(t,e,n){t=pt(t,en);const r=Object.assign(Object.assign({},jQ),n);return function(o){if(o.maxAttempts<1)throw new te(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const u=new or;return o.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){const l=yield function $F(t){return nv(t).then(e=>e.datastore)}(o);new OK(o.asyncQueue,l,a,s,u).run()})),u.promise}(xn(t),i=>e(new $Q(t,i)),r)}(this._delegate,n=>e(new SL(this,n)))}batch(){return xn(this._delegate),new RL(new EL(this._delegate,e=>Ld(this._delegate,e)))}loadBundle(e){return function nQ(t,e){const n=xn(t=pt(t,en)),r=new ZK;return function jK(t,e,n,r){const i=function(s,a){let u;return u="string"==typeof s?dV().encode(s):s,h=function(h,g){if(h instanceof Uint8Array)return LF(h,g);if(h instanceof ArrayBuffer)return LF(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new xK(h,a);var h}(n,zp(e));t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){!function PK(t,e,n){const r=he(t);var i;(i=(0,Q.Z)(function*(s,a,u){try{const l=yield a.getMetadata();if(yield function(D,S){const M=he(D),U=Zn(S.createTime);return M.persistence.runTransaction("hasNewerBundle","readonly",N=>M.Kr.getBundleMetadata(N,S.id)).then(N=>!!N&&N.createTime.compareTo(U)>=0)}(s.localStore,l))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(D=l).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);u._updateProgress(SF(l));const h=new cK(l,s.localStore,a.serializer);let g=yield a.Ma();for(;g;){const y=yield h.ea(g);y&&u._updateProgress(y),g=yield a.Ma()}const m=yield h.complete();return yield Hs(s,m.ra,void 0),yield function(D,S){const M=he(D);return M.persistence.runTransaction("Save bundle","readwrite",U=>M.Kr.saveBundleMetadata(U,S))}(s.localStore,l),u._completeWith(m.progress),Promise.resolve(m.na)}catch(l){return Ii("SyncEngine",`Loading bundle failed with ${l}`),u._failWith(l),Promise.resolve(new Set)}var D}),function o(s,a,u){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield TT(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function rQ(t,e){return function $K(t,e){return t.asyncQueue.enqueue((0,Q.Z)(function*(){return function(r,i){const o=he(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield kd(t),e)}))}(xn(t=pt(t,en)),e).then(n=>n?new Ar(t,null,n.query):null)}(this._delegate,e).then(n=>n?new li(this,n):null)}}class mv extends VT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ng(new hs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return mo.forKey(n,this.firestore,null)}}class SL{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new mv(e)}get(e){const n=sc(e);return this._delegate.get(n).then(r=>new rg(this._firestore,new qs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=sc(e);return r?(UT("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=sc(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=sc(e);return this._delegate.delete(n),this}}class RL{constructor(e){this._delegate=e}set(e,n,r){const i=sc(e);return r?(UT("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=sc(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=sc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class oc{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new tg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ig(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=oc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new oc(e,new mv(e),n),i.set(n,o)),o}}oc.INSTANCES=new WeakMap;class mo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mv(e)}static forPath(e,n,r){if(e.length%2!=0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new mo(n,new dn(n._delegate,r,new pe(e)))}static forKey(e,n,r){return new mo(n,new dn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ud(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ud(this.firestore,XF(this._delegate,e))}catch(n){throw ci(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Zt.m9)(e))instanceof dn&&eL(this._delegate,e)}set(e,n){n=UT("DocumentReference.set",n);try{return n?yL(this._delegate,e,n):yL(this._delegate,e)}catch(r){throw ci(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?vL(this._delegate,e):vL(this._delegate,e,n,...r)}catch(i){throw ci(i,"updateDoc()","DocumentReference.update()")}}delete(){return function PQ(t){return Ld(pt(t.firestore,en),[new yd(t._key,_n.none())])}(this._delegate)}onSnapshot(...e){const n=PL(e),r=ML(e,i=>new rg(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return IL(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function TQ(t){t=pt(t,dn);const e=pt(t.firestore,en),n=xn(e),r=new Wa(e);return function LK(t,e){const n=new or;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(o,s,a){try{const u=yield function(h,g){const m=he(h);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(o,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new te(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const l=Pd(u,`Failed to get document '${s} from cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield kd(t),e,n);var r})),n.promise}(n,t._key).then(i=>new qs(e,r,t._key,i,new ic(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function bQ(t){t=pt(t,dn);const e=pt(t.firestore,en);return HF(xn(e),t._key,{source:"server"}).then(n=>FT(e,t,n))}(this._delegate):function DQ(t){t=pt(t,dn);const e=pt(t.firestore,en);return HF(xn(e),t._key).then(n=>FT(e,t,n))}(this._delegate),n.then(r=>new rg(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new mo(this.firestore,this._delegate.withConverter(e?oc.getInstance(this.firestore,e):null))}}function ci(t,e,n){return t.message=t.message.replace(e,n),t}function PL(t){for(const e of t)if("object"==typeof e&&!BT(e))return e;return{}}function ML(t,e){var n,r;let i;return i=BT(t[0])?t[0]:BT(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class rg{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new mo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return _L(this._delegate,e._delegate)}}class ig extends rg{data(e){const n=this._delegate.data(e);return function $W(t,e){t||De()}(void 0!==n),n}}class li{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mv(e)}where(e,n,r){try{return new li(this.firestore,qa(this._delegate,function fQ(t,e,n){const r=e,i=lv("where",t);return eg._create(i,r,n)}(e,n,r)))}catch(i){throw ci(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new li(this.firestore,qa(this._delegate,function pQ(t,e="asc"){const n=e,r=lv("orderBy",t);return kT._create(r,n)}(e,n)))}catch(r){throw ci(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new li(this.firestore,qa(this._delegate,function gQ(t){return QF("limit",t),dv._create("limit",t,"F")}(e)))}catch(n){throw ci(n,"limit()","Query.limit()")}}limitToLast(e){try{return new li(this.firestore,qa(this._delegate,function mQ(t){return QF("limitToLast",t),dv._create("limitToLast",t,"L")}(e)))}catch(n){throw ci(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new li(this.firestore,qa(this._delegate,function _Q(...t){return hv._create("startAt",t,!0)}(...e)))}catch(n){throw ci(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new li(this.firestore,qa(this._delegate,function yQ(...t){return hv._create("startAfter",t,!1)}(...e)))}catch(n){throw ci(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new li(this.firestore,qa(this._delegate,function vQ(...t){return fv._create("endBefore",t,!1)}(...e)))}catch(n){throw ci(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new li(this.firestore,qa(this._delegate,function IQ(...t){return fv._create("endAt",t,!0)}(...e)))}catch(n){throw ci(n,"endAt()","Query.endAt()")}}isEqual(e){return ST(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function SQ(t){t=pt(t,Ar);const e=pt(t.firestore,en),n=xn(e),r=new Wa(e);return function UK(t,e){const n=new or;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(o,s,a){try{const u=yield Wy(o,s,!0),l=new MF(s,u.ls),h=l.ca(u.documents),g=l.applyChanges(h,!1);a.resolve(g.snapshot)}catch(u){const l=Pd(u,`Failed to execute query '${s} against cache`);a.reject(l)}}),function i(o,s,a){return r.apply(this,arguments)})(yield kd(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Ga(e,r,t,i))}(this._delegate):"server"===e?.source?function RQ(t){t=pt(t,Ar);const e=pt(t.firestore,en),n=xn(e),r=new Wa(e);return zF(n,t._query,{source:"server"}).then(i=>new Ga(e,r,t,i))}(this._delegate):function AQ(t){t=pt(t,Ar);const e=pt(t.firestore,en),n=xn(e),r=new Wa(e);return dL(t._query),zF(n,t._query).then(i=>new Ga(e,r,t,i))}(this._delegate),n.then(r=>new jT(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=PL(e),r=ML(e,i=>new jT(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return IL(this._delegate,n,r)}withConverter(e){return new li(this.firestore,this._delegate.withConverter(e?oc.getInstance(this.firestore,e):null))}}class tY{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ig(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jT{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new li(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ig(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new tY(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ig(this._firestore,r))})}isEqual(e){return _L(this._delegate,e._delegate)}}class Ud extends li{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new mo(this.firestore,e):null}doc(e){try{return new mo(this.firestore,void 0===e?iv(this._delegate):iv(this._delegate,e))}catch(n){throw ci(n,"doc()","CollectionReference.doc()")}}add(e){return function MQ(t,e){const n=pt(t.firestore,en),r=iv(t),i=pv(t.converter,e);return Ld(n,[av(nc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new mo(this.firestore,n))}isEqual(e){return eL(this._delegate,e._delegate)}withConverter(e){return new Ud(this.firestore,this._delegate.withConverter(e?oc.getInstance(this.firestore,e):null))}}function sc(t){return pt(t,dn)}class $T{constructor(...e){this._delegate=new zs(...e)}static documentId(){return new $T(cn.keyField().canonicalString())}isEqual(e){return(e=(0,Zt.m9)(e))instanceof zs&&this._delegate._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._delegate=e}static serverTimestamp(){const e=function qQ(){return new PT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ac(e)}static delete(){const e=function zQ(){return new Qp("deleteField")}();return e._methodName="FieldValue.delete",new ac(e)}static arrayUnion(...e){const n=function GQ(...t){return new uQ("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new ac(n)}static arrayRemove(...e){const n=function WQ(...t){return new cQ("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new ac(n)}static increment(e){const n=function ZQ(t){return new lQ("increment",t)}(e);return n._methodName="FieldValue.increment",new ac(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nY={Firestore:AL,GeoPoint:ov,Timestamp:mn,Blob:ng,Transaction:SL,WriteBatch:RL,DocumentReference:mo,DocumentSnapshot:rg,Query:li,QueryDocumentSnapshot:ig,QuerySnapshot:jT,CollectionReference:Ud,FieldPath:$T,FieldValue:ac,setLogLevel:function eY(t){!function jW(t){Ra.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function xL(t,e){return function oY(t,e=CN){return new Xe(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function HT(t,e){return xL(t,e).pipe(ge(n=>({payload:n,type:"query"})))}!function iY(t){(function rY(t,e){t.INTERNAL.registerComponent(new UN.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},nY)))})(t,(e,n)=>new AL(e,n,new XQ)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(ba.Z);class NL{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=UL(r,n);return new VL(i,o,this.afs)}snapshotChanges(){return function sY(t,e){return xL(t,e).pipe(b_(void 0),LC(),ge(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Li)}valueChanges(e={}){return this.snapshotChanges().pipe(ge(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return I(this.ref.get(e)).pipe(Li)}}function _v(t,e){return HT(t,e).pipe(b_(void 0),LC(),ge(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const l=o.find(g=>g.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function OL(t,e,n){return _v(t,n).pipe(S_((r,i)=>function aY(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function uY(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return zT(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return zT(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zT(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),ze(),ge(r=>r.map(i=>({type:i.type,payload:i}))))}function zT(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function kL(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class VL{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=_v(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(ge(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(b_(void 0),LC(),bo(([r,i])=>i.length>0||!r),ge(([,r])=>r),Li)}auditTrail(e){return this.stateChanges(e).pipe(S_((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=kL(e);return OL(this.query,n,this.afs.schedulers.outsideAngular).pipe(Li)}valueChanges(e={}){return HT(this.query,this.afs.schedulers.outsideAngular).pipe(ge(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Li)}get(e){return I(this.query.get(e)).pipe(Li)}add(e){return this.ref.add(e)}doc(e){return new NL(this.ref.doc(e),this.afs)}}class cY{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?_v(this.query,this.afs.schedulers.outsideAngular).pipe(ge(n=>n.filter(r=>e.indexOf(r.type)>-1)),bo(n=>n.length>0),Li):_v(this.query,this.afs.schedulers.outsideAngular).pipe(Li)}auditTrail(e){return this.stateChanges(e).pipe(S_((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=kL(e);return OL(this.query,n,this.afs.schedulers.outsideAngular).pipe(Li)}valueChanges(e={}){return HT(this.query,this.afs.schedulers.outsideAngular).pipe(ge(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Li)}get(e){return I(this.query.get(e)).pipe(Li)}}const FL=new Ee("angularfire2.enableFirestorePersistence"),LL=new Ee("angularfire2.firestore.persistenceSettings"),lY=new Ee("angularfire2.firestore.settings"),dY=new Ee("angularfire2.firestore.use-emulator");function UL(t,e=(n=>n)){return{query:e(t),ref:t}}let qT=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,o,s,a,u,l,h,g,m,y,D,S,M,U,N){this.schedulers=u;const z=VC(n,a,r),ue=h;g&&LN(z,a,m,D,S,M,y,U),[this.firestore,this.persistenceEnabled$]=SN(`${z.name}.firestore`,"AngularFirestore",z.name,()=>{const me=a.runOutsideAngular(()=>z.firestore());if(o&&me.settings(o),ue&&me.useEmulator(...ue),i&&!E_(s)){const We=()=>{try{return I(me.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Lt){return typeof console<"u"&&console.warn(Lt),b(!1)}};return[me,a.runOutsideAngular(We)]}return[me,b(!1)]},[o,ue,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:o,query:s}=UL(i,r),a=this.schedulers.ngZone.run(()=>o);return new VL(a,s,this)}collectionGroup(n,r){const i=r||(s=>s),o=this.firestore.collectionGroup(n);return new cY(i(o),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new NL(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(ce(Gf),ce(W_,8),ce(FL,8),ce(lY,8),ce(Go),ce(Tt),ce(G_),ce(LL,8),ce(dY,8),ce(FC,8),ce(xN,8),ce(NN,8),ce(ON,8),ce(kN,8),ce(VN,8),ce(FN,8),ce(kC,8))};static \u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),hY=(()=>{class t{constructor(){ba.Z.registerVersion("angularfire",Zl.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:FL,useValue:!0},{provide:LL,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bn({type:t});static \u0275inj=Kn({providers:[qT]})}return t})(),uc=(()=>{class t{constructor(n){this.db=n,this.dbPath="/title-content",this.homeRef=n.collection(this.dbPath)}getAll(){return this.homeRef}update(n,r){console.log(`data: ${JSON.stringify(r)}`);const i=this.homeRef.doc(n).update({...r});return console.log(i),i}static#e=this.\u0275fac=function(r){return new(r||t)(ce(qT))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jL(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof e||"[object String]"===e?new Date(t):new Date(NaN)}Math.pow(10,8);let cc=(()=>{class t{constructor(){this.storage=window.localStorage}set(n,r){return!!this.storage&&(this.storage.setItem(n,JSON.stringify(r)),!0)}get(n){const r=this.storage?.getItem(n);if(r){const i=JSON.parse(r).updatedAt;return"title-content"===n&&i&&function yY(t,e,n){const r=function mY(t,e){return jL(t).getTime()-jL(e).getTime()}(t,e)/6e4;return function _Y(t){return t?Math[t]:Math.trunc}(n?.roundingMethod)(r)}(new Date,new Date(i))>=10?(console.log("resetou localstorage"),null):JSON.parse(r)}return null}remove(n){return!!this.storage&&(this.storage.removeItem(n),!0)}clear(){return!!this.storage&&(this.storage.clear(),!0)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mo=(()=>{class t{constructor(n,r,i,o){this.afs=n,this.afAuth=r,this.router=i,this.ngZone=o,this.isLoggedInObservable=new v(!1),this.isLogged=this.isLoggedInObservable.asObservable(),this.afAuth.authState.subscribe(s=>{s?(console.log("entrou set user"),console.log(s),this.userData=s,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),this.isLoggedInObservable.next(!0)):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")),this.isLoggedInObservable.next(!1))})}login(n,r){return console.log("entrou login"),this.afAuth.signInWithEmailAndPassword(n,r).then(i=>{this.userData=i.user,this.afAuth.authState.subscribe(o=>{console.log("entrou login1"),o&&(console.log("entrou login2"),this.router.navigate([""]),this.isLoggedInObservable.next(!0))})}).catch(i=>{console.log("entrou login3"),window.alert(i.message)})}signUp(n,r){return this.afAuth.createUserWithEmailAndPassword(n,r).then(i=>{this.sendVerificationMail(),this.userData=i.user,this.isLoggedInObservable.next(!0)}).catch(i=>{window.alert(i.message)})}sendVerificationMail(){return this.afAuth.currentUser.then(n=>n.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}forgotPassword(n){return this.afAuth.sendPasswordResetEmail(n).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}signOut(){return console.log("entrou signOut"),this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate([""]),this.isLoggedInObservable.next(!1)})}static#e=this.\u0275fac=function(r){return new(r||t)(ce(qT),ce(FC),ce(vi),ce(Tt))};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$L=(()=>{class t{get nativeWindow(){return window}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Pe({token:t,factory:t.\u0275fac}),t})(),og=(()=>{class t{constructor(n,r,i){this.element=n,this._window=r,this._zone=i,this.onlyGrow=!1,this.useImportant=!1,this.resized=new Cn,this.autosize=!0,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound())}set minRows(n){this._minRows=+n,this.textAreaEl&&(this.textAreaEl.rows=this._minRows)}set _autosize(n){this.autosize="boolean"!=typeof n||n}onInput(n){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(n){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function IY(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(n=!1){if(this.autosize&&!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const r=this.textAreaEl.value;if(!1===n&&r===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=r,this._oldWidth=this.textAreaEl.offsetWidth;const i=this.textAreaEl.cloneNode(!0),o=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=r,o.appendChild(i),i.style["overflow-y"]="hidden",i.style.height="auto";let s=i.scrollHeight,a=this._window.nativeWindow.getComputedStyle(i,null);s+=parseInt(a.getPropertyValue("border-top-width")),s+=parseInt(a.getPropertyValue("border-bottom-width")),"content-box"===a.getPropertyValue("box-sizing")&&(s-=parseInt(a.getPropertyValue("padding-top")),s-=parseInt(a.getPropertyValue("padding-bottom")));const u=this.textAreaEl.offsetHeight;if(!1===this.onlyGrow||s>u){const h=this._getLineHeight(),g=s/h;if(this._minRows&&this._minRows>=g)s=this._minRows*h;else if(this.maxRows&&this.maxRows<=g){const D=this.maxRows*h;s=this.onlyGrow?Math.max(D,u):D,this.textAreaEl.style["overflow-y"]="auto"}else this.textAreaEl.style["overflow-y"]="hidden";this.textAreaEl.style.setProperty("height",s+"px",this.useImportant?"important":""),this.resized.emit(s)}o.removeChild(i)}}_getLineHeight(){let n=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(n)&&this._window.nativeWindow.getComputedStyle){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl);n=parseInt(r.lineHeight,10)}if(isNaN(n)){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");n=Math.floor(1.5*parseInt(r.replace("px",""),10))}return n}}return t.\u0275fac=function(n){return new(n||t)(G(mi),G($L),G(Tt))},t.\u0275dir=Be({type:t,selectors:[["","autosize",""]],hostBindings:function(n,r){1&n&&et("input",function(o){return r.onInput(o.target)})},inputs:{minRows:"minRows",_autosize:["autosize","_autosize"],maxRows:"maxRows",onlyGrow:"onlyGrow",useImportant:"useImportant"},outputs:{resized:"resized"},features:[ei]}),t})(),EY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Bn({type:t}),t.\u0275inj=Kn({providers:[$L],imports:[[]]}),t})(),HL=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ts),G(mi))};static#t=this.\u0275dir=Be({type:t})}return t})(),lc=(()=>{class t extends HL{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Er(t)))(i||t)}}();static#t=this.\u0275dir=Be({type:t,features:[Bt]})}return t})();const fs=new Ee("NgValueAccessor"),DY={provide:fs,useExisting:k(()=>xo),multi:!0},bY=new Ee("CompositionEventMode");let xo=(()=>{class t extends HL{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TY(){const t=Ea()?Ea().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ts),G(mi),G(bY,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&et("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[gn([DY]),Bt]})}return t})();function Ka(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function qL(t){return null!=t&&"number"==typeof t.length}const qr=new Ee("NgValidators"),Qa=new Ee("NgAsyncValidators"),AY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class GT{static min(e){return function GL(t){return e=>{if(Ka(e.value)||Ka(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function WL(t){return e=>{if(Ka(e.value)||Ka(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function ZL(t){return Ka(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function KL(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function QL(t){return Ka(t.value)||AY.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function YL(t){return e=>Ka(e.value)||!qL(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function JL(t){return e=>qL(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function XL(t){if(!t)return yv;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ka(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return o2(e)}static composeAsync(e){return s2(e)}}function yv(t){return null}function e2(t){return null!=t}function t2(t){return df(t)?I(t):t}function n2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function r2(t,e){return e.map(n=>n(t))}function i2(t){return t.map(e=>function SY(t){return!t.validate}(e)?e:n=>e.validate(n))}function o2(t){if(!t)return null;const e=t.filter(e2);return 0==e.length?null:function(n){return n2(r2(n,e))}}function WT(t){return null!=t?o2(i2(t)):null}function s2(t){if(!t)return null;const e=t.filter(e2);return 0==e.length?null:function(n){return function wY(...t){const e=Zi(t),{args:n,keys:r}=d1(t),i=new Xe(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let h=0;h<s;h++){let g=!1;_t(n[h]).subscribe(fe(o,m=>{g||(g=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?f1(r,a):a),o.complete())}))}});return e?i.pipe(h1(e)):i}(r2(n,e).map(t2)).pipe(ge(n2))}}function ZT(t){return null!=t?s2(i2(t)):null}function a2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function u2(t){return t._rawValidators}function c2(t){return t._rawAsyncValidators}function KT(t){return t?Array.isArray(t)?t:[t]:[]}function vv(t,e){return Array.isArray(t)?t.includes(e):t===e}function l2(t,e){const n=KT(e);return KT(t).forEach(i=>{vv(n,i)||n.push(i)}),n}function d2(t,e){return KT(e).filter(n=>!vv(t,n))}class h2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class di extends h2{get formDirective(){return null}get path(){return null}}class Ya extends h2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class f2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gs=(()=>{class t extends f2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ya,2))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Zm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bt]})}return t})(),p2=(()=>{class t extends f2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(di,10))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Zm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bt]})}return t})();const sg="VALID",Ev="INVALID",Bd="PENDING",ag="DISABLED";function JT(t){return(wv(t)?t.validators:t)||null}function XT(t,e){return(wv(e)?e.asyncValidators:t)||null}function wv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function m2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function _2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new q(1002,"")})}class Cv{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sg}get invalid(){return this.status===Ev}get pending(){return this.status==Bd}get disabled(){return this.status===ag}get enabled(){return this.status!==ag}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(l2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(l2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(d2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(d2(e,this._rawAsyncValidators))}hasValidator(e){return vv(this._rawValidators,e)}hasAsyncValidator(e){return vv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ag,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sg||this.status===Bd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ag:sg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bd,this._hasOwnPendingAsyncValidator=!0;const n=t2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Cn,this.statusChanges=new Cn}_calculateStatus(){return this._allControlsDisabled()?ag:this.errors?Ev:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bd)?Bd:this._anyControlsHaveStatus(Ev)?Ev:sg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function xY(t){return Array.isArray(t)?WT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function NY(t){return Array.isArray(t)?ZT(t):t||null}(this._rawAsyncValidators)}}class jd extends Cv{constructor(e,n,r){super(JT(n),XT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){_2(this,0,e),Object.keys(e).forEach(r=>{m2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class y2 extends jd{}const dc=new Ee("CallSetDisabledState",{providedIn:"root",factory:()=>ug}),ug="always";function Dv(t,e){return[...e.path,t]}function cg(t,e,n=ug){eb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function kY(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&v2(t,e)})}(t,e),function FY(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function VY(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&v2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function OY(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Tv(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Av(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bv(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function eb(t,e){const n=u2(t);null!==e.validator?t.setValidators(a2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=c2(t);null!==e.asyncValidator?t.setAsyncValidators(a2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();bv(e._rawValidators,i),bv(e._rawAsyncValidators,i)}function Av(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=u2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=c2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return bv(e._rawValidators,r),bv(e._rawAsyncValidators,r),n}function v2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function rb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===xo?n=o:function BY(t){return Object.getPrototypeOf(t.constructor)===lc}(o)?r=o:i=o}),i||r||n||null}function w2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function C2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const hc=class extends Cv{constructor(e=null,n,r){super(JT(n),XT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=C2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){w2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){w2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){C2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},qY={provide:Ya,useExisting:k(()=>Ws)},b2=(()=>Promise.resolve())();let Ws=(()=>{class t extends Ya{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new hc,this._registered=!1,this.name="",this.update=new Cn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=rb(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nb(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){b2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Fl(r);b2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Dv(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(G(di,9),G(qr,10),G(Qa,10),G(fs,10),G(s_,8),G(dc,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gn([qY]),Bt,ei]})}return t})(),A2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),R2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({})}return t})();const ob=new Ee("NgModelWithFormControlWarning"),YY={provide:di,useExisting:k(()=>Sv)};let Sv=(()=>{class t extends di{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Cn,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Av(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return cg(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Tv(n.control||null,n,!1),function jY(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function E2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Tv(r||null,n),(t=>t instanceof hc)(i)&&(cg(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function I2(t,e){eb(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function LY(t,e){return Av(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eb(this.form,this),this._oldForm&&Av(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(G(qr,10),G(Qa,10),G(dc,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&et("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gn([YY]),Bt,ei]})}return t})();const eJ={provide:Ya,useExisting:k(()=>ub)};let ub=(()=>{class t extends Ya{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Cn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=rb(0,o)}ngOnChanges(n){this._added||this._setUpControl(),nb(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Dv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(G(di,13),G(qr,10),G(Qa,10),G(fs,10),G(ob,8))};static#n=this.\u0275dir=Be({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gn([eJ]),Bt,ei]})}return t})(),q2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({imports:[R2]})}return t})();class G2 extends Cv{constructor(e,n,r){super(JT(n),XT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){_2(this,0,e),e.forEach((r,i)=>{m2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function W2(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let gJ=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return W2(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new jd(i,o)}record(n,r=null){const i=this._reduceControls(n);return new y2(i,r)}control(n,r,i){let o={};return this.useNonNullable?(W2(r)?o=r:(o.validators=r,o.asyncValidators=i),new hc(n,{...o,nonNullable:!0})):new hc(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new G2(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof hc||n instanceof Cv?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Pe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mJ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:dc,useValue:n.callSetDisabledState??ug}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({imports:[q2]})}return t})(),_J=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ob,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:dc,useValue:n.callSetDisabledState??ug}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({imports:[q2]})}return t})();function yJ(t,e){if(1&t&&(K(0,"div",18)(1,"h5"),le(2),W()()),2&t){const n=Me();ae(2),ki(n.homeData.homeInfoTitle)}}function vJ(t,e){if(1&t){const n=an();K(0,"div",18)(1,"h5")(2,"input",19),et("ngModelChange",function(i){return Dt(n),Rt(Me().homeData.homeInfoTitle=i)}),W()()()}if(2&t){const n=Me();ae(2),de("ngModel",n.homeData.homeInfoTitle)}}function IJ(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ae(1),Jo(" ",n.homeData.homeInfoContent," ")}}function EJ(t,e){if(1&t){const n=an();K(0,"div")(1,"textarea",20),et("ngModelChange",function(i){return Dt(n),Rt(Me().homeData.homeInfoContent=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.homeData.homeInfoContent)}}function wJ(t,e){if(1&t&&(K(0,"p"),le(1),W()),2&t){const n=Me();ae(1),ki(n.homeData.hintContent)}}function CJ(t,e){if(1&t){const n=an();K(0,"p")(1,"textarea",20),et("ngModelChange",function(i){return Dt(n),Rt(Me().homeData.hintContent=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.homeData.hintContent)}}function DJ(t,e){if(1&t){const n=an();K(0,"div",21)(1,"button",22),et("click",function(){return Dt(n),Rt(Me().onSave())}),le(2,"Save"),W()()}}let TJ=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.localStorageService=r,this.authService=i,this.titleContentId="",this.homeData={homeInfoTitle:"",homeInfoContent:"",hintTitle:"",hintContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("isLoggedIn: "+this.isLoggedIn),console.log("entrou ngOnInit home");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - home"),this.homeData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(ge(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.homeData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.homeData,id:this.titleContentId,updatedAt:new Date})})}onSave(){this.titleContentId&&(console.log("entrou"),console.log(this.titleContentId),console.log(this.homeData),this.titleContentService.update(this.titleContentId,this.homeData).then(()=>{this.localStorageService.set("title-content",{...this.homeData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(uc),G(cc),G(Mo))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-home"]],decls:43,vars:22,consts:[[1,"section","odd"],["class","title",4,"ngIf"],[4,"ngIf"],["routerLink","company",1,"right-link"],[1,"row","even"],[1,"image-parent","col-12","col-sm-12","col-md-4","col-lg-4","col-xl-4"],[1,"image","stores"],["routerLink","stores"],[1,"image","prices"],["routerLink","prices"],[1,"image","contact"],["routerLink","contact"],[1,"row","section","odd"],[1,"round-box","col-12"],["src","assets/icons/lightbulb-fill.svg"],[1,"row","col-12"],["routerLink","hints",1,"right-link"],["class","row odd save-button",4,"ngIf"],[1,"title"],["type","text",3,"ngModel","ngModelChange"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0),Ge(1,yJ,3,1,"div",1),rr(2,"async"),Ge(3,vJ,3,1,"div",1),rr(4,"async"),Dn(5,"hr"),Ge(6,IJ,2,1,"div",2),rr(7,"async"),Ge(8,EJ,2,1,"div",2),rr(9,"async"),K(10,"div")(11,"a",3),le(12,"Mais detalhes"),W()()(),K(13,"div",4)(14,"div",5)(15,"div",6)(16,"a",7)(17,"h5"),le(18,"Lojas"),W()()()(),K(19,"div",5)(20,"div",8)(21,"a",9)(22,"h5"),le(23,"Pre\xe7os"),W()()()(),K(24,"div",5)(25,"div",10)(26,"a",11)(27,"h5"),le(28,"Contato"),W()()()()(),K(29,"div",12)(30,"div",13)(31,"h5"),le(32),Dn(33,"img",14),W(),Ge(34,wJ,2,1,"p",2),rr(35,"async"),Ge(36,CJ,2,1,"p",2),rr(37,"async"),K(38,"div",15)(39,"a",16),le(40,"Mais detalhes"),W()()()(),Ge(41,DJ,3,0,"div",17),rr(42,"async")),2&r&&(ae(1),de("ngIf",!ir(2,8,i.isLoggedIn)),ae(2),de("ngIf",ir(4,10,i.isLoggedIn)),ae(3),de("ngIf",!ir(7,12,i.isLoggedIn)),ae(2),de("ngIf",ir(9,14,i.isLoggedIn)),ae(24),Jo("",i.homeData.hintTitle," "),ae(2),de("ngIf",!ir(35,16,i.isLoggedIn)),ae(2),de("ngIf",ir(37,18,i.isLoggedIn)),ae(5),de("ngIf",ir(42,20,i.isLoggedIn)))},dependencies:[og,xo,Gs,Ws,Xo,ns,Tf],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}.even[_ngcontent-%COMP%]{background-color:#c1e0f5}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}.right-link[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-top:10px}a[_ngcontent-%COMP%]{color:#fff}.round-box[_ngcontent-%COMP%]{border:solid 1px;border-radius:30px;border-color:#d3d3d3;padding:18px;color:404040}.round-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:baseline;width:1.8%}.round-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:0}.image[_ngcontent-%COMP%]{padding-top:210px;padding-bottom:210px;text-shadow:rgb(0,0,0) 3px 0px 0px,rgb(0,0,0) 2.83487px .981584px 0px,rgb(0,0,0) 2.35766px 1.85511px 0px,rgb(0,0,0) 1.62091px 2.52441px 0px,rgb(0,0,0) .705713px 2.91581px 0px,rgb(0,0,0) -.287171px 2.98622px 0px,rgb(0,0,0) -1.24844px 2.72789px 0px,rgb(0,0,0) -2.07227px 2.16926px 0px,rgb(0,0,0) -2.66798px 1.37182px 0px,rgb(0,0,0) -2.96998px .42336px 0px,rgb(0,0,0) -2.94502px -.571704px 0px,rgb(0,0,0) -2.59586px -1.50383px 0px,rgb(0,0,0) -1.96093px -2.27041px 0px,rgb(0,0,0) -1.11013px -2.78704px 0px,rgb(0,0,0) -.137119px -2.99686px 0px,rgb(0,0,0) .850987px -2.87677px 0px,rgb(0,0,0) 1.74541px -2.43999px 0px,rgb(0,0,0) 2.44769px -1.73459px 0px,rgb(0,0,0) 2.88051px -.838247px 0px;color:#fff}.image[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:33px}.round-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:24px}.image-parent[_ngcontent-%COMP%]{padding:0;overflow:hidden}.stores[_ngcontent-%COMP%], .prices[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center;display:flex;justify-content:center;width:100%;height:auto;transition:all .5s}.image-parent[_ngcontent-%COMP%]:hover   .stores[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .stores[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .prices[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .prices[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .contact[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .contact[_ngcontent-%COMP%]{transform:scale(1.2)}.stores[_ngcontent-%COMP%]:before, .prices[_ngcontent-%COMP%]:before, .contact[_ngcontent-%COMP%]:before{display:none;height:100%;width:100%;position:absolute;top:0;left:0;background-color:#34495e4d}.image-parent[_ngcontent-%COMP%]:hover   .stores[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .stores[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .prices[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .prices[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .contact[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .contact[_ngcontent-%COMP%]:before{display:block}.stores[_ngcontent-%COMP%]{background-image:url(home-stores2.f9505cc536690d58.jpg)}.prices[_ngcontent-%COMP%]{background-image:url(home-prices.23609724cbd0d3bc.jpg)}.contact[_ngcontent-%COMP%]{background-image:url(home-contact2.933d47879aeb6737.jpg)}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:center;outline:0;border-width:0 0 0px}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}"]})}return t})();function bJ(t,e){if(1&t&&(K(0,"div",4)(1,"h5"),le(2),W()()),2&t){const n=Me();ae(2),ki(n.companyData.companyTitle)}}function AJ(t,e){if(1&t){const n=an();K(0,"div",4)(1,"h5")(2,"input",5),et("ngModelChange",function(i){return Dt(n),Rt(Me().companyData.companyTitle=i)}),W()()()}if(2&t){const n=Me();ae(2),de("ngModel",n.companyData.companyTitle)}}function SJ(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ae(1),Jo(" ",n.companyData.companyContent," ")}}function RJ(t,e){if(1&t){const n=an();K(0,"div")(1,"textarea",6),et("ngModelChange",function(i){return Dt(n),Rt(Me().companyData.companyContent=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.companyData.companyContent)}}function PJ(t,e){if(1&t){const n=an();K(0,"div",7)(1,"button",8),et("click",function(){return Dt(n),Rt(Me().onSave())}),le(2,"Save"),W()()}}let MJ=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.authService=r,this.localStorageService=i,this.titleContentServiceId="",this.companyData={companyTitle:"",companyContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData"),this.companyData=n,this.titleContentServiceId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(ge(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.companyData=r[0],this.titleContentServiceId=r[0].id,this.localStorageService.set("title-content",{...this.companyData,id:this.titleContentServiceId,updatedAt:new Date})})}onSave(){this.titleContentServiceId&&(console.log("entrou"),console.log(this.titleContentServiceId),console.log(this.companyData),this.titleContentService.update(this.titleContentServiceId,this.companyData).then(()=>{this.localStorageService.set("title-content",{...this.companyData,id:this.titleContentServiceId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(uc),G(Mo),G(cc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-company"]],decls:12,vars:15,consts:[[1,"section","odd"],["class","title",4,"ngIf"],[4,"ngIf"],["class","row odd save-button",4,"ngIf"],[1,"title"],["type","text",3,"ngModel","ngModelChange"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0),Ge(1,bJ,3,1,"div",1),rr(2,"async"),Ge(3,AJ,3,1,"div",1),rr(4,"async"),Dn(5,"hr"),Ge(6,SJ,2,1,"div",2),rr(7,"async"),Ge(8,RJ,2,1,"div",2),rr(9,"async"),W(),Ge(10,PJ,3,0,"div",3),rr(11,"async")),2&r&&(ae(1),de("ngIf",!ir(2,5,i.isLoggedIn)),ae(2),de("ngIf",ir(4,7,i.isLoggedIn)),ae(3),de("ngIf",!ir(7,9,i.isLoggedIn)),ae(2),de("ngIf",ir(9,11,i.isLoggedIn)),ae(2),de("ngIf",ir(11,13,i.isLoggedIn)))},dependencies:[og,xo,Gs,Ws,Xo,Tf],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}.right-link[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-top:10px}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:center;outline:0;border-width:0 0 0px}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}"]})}return t})();function xJ(t,e){if(1&t&&(K(0,"tr")(1,"td"),le(2),W(),K(3,"td"),le(4),W(),K(5,"td"),le(6),W()()),2&t){const n=e.index,r=Me(2);ae(2),ki(r.storesData.storesNeighborhoodsContent[n]),ae(2),ki(r.storesData.storesAddressesContent[n]),ae(2),ki(r.storesData.storesPhonesContent[n])}}function NJ(t,e){if(1&t&&(K(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),le(4,"Bairro"),W(),K(5,"th",6),le(6,"Endere\xe7o"),W(),K(7,"th",6),le(8,"Telefone"),W()()(),K(9,"tbody"),Ge(10,xJ,7,3,"tr",7),W()()),2&t){const n=Me();ae(10),de("ngForOf",n.storesData.storesNeighborhoodsContent)}}function OJ(t,e){if(1&t){const n=an();K(0,"tr")(1,"td")(2,"input",9),et("ngModelChange",function(i){const s=Dt(n).index;return Rt(Me(2).storesData.storesNeighborhoodsContent[s]=i)}),W()(),K(3,"td")(4,"input",9),et("ngModelChange",function(i){const s=Dt(n).index;return Rt(Me(2).storesData.storesAddressesContent[s]=i)}),W()(),K(5,"td")(6,"input",9),et("ngModelChange",function(i){const s=Dt(n).index;return Rt(Me(2).storesData.storesPhonesContent[s]=i)}),W()(),K(7,"td")(8,"button",10),et("click",function(){const o=Dt(n).index;return Rt(Me(2).deleteTableElement(o))}),le(9,"Deletar"),W()()()}if(2&t){const n=e.index,r=Me(2);ae(2),de("ngModel",r.storesData.storesNeighborhoodsContent[n]),ae(2),de("ngModel",r.storesData.storesAddressesContent[n]),ae(2),de("ngModel",r.storesData.storesPhonesContent[n])}}function kJ(t,e){if(1&t&&(K(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),le(4,"Bairro"),W(),K(5,"th",6),le(6,"Endere\xe7o"),W(),K(7,"th",6),le(8,"Telefone"),W(),Dn(9,"th",6),W()(),K(10,"tbody"),Ge(11,OJ,10,3,"tr",8),W()()),2&t){const n=Me();ae(11),de("ngForOf",n.storesData.storesNeighborhoodsContent)("ngForTrackBy",n.trackByIndex)}}function VJ(t,e){if(1&t){const n=an();K(0,"button",10),et("click",function(){return Dt(n),Rt(Me().addTableElement())}),le(1,"+"),W()}}function FJ(t,e){if(1&t){const n=an();K(0,"div",11)(1,"button",12),et("click",function(){return Dt(n),Rt(Me().onSave())}),le(2,"Save"),W()()}}let LJ=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.localStorageService=r,this.authService=i,this.titleContentId="",this.storesData={storesAddressesContent:[""],storesNeighborhoodsContent:[""],storesPhonesContent:[""]},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou ngOnInit stores");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - stores"),this.storesData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(ge(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.storesData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.storesData,id:this.titleContentId,updatedAt:new Date})})}onSave(){this.titleContentId&&(console.log("entrou"),console.log(this.titleContentId),console.log(this.storesData),this.titleContentService.update(this.titleContentId,this.storesData).then(()=>{console.log(this.storesData.storesAddressesContent[0]),this.localStorageService.set("title-content",{...this.storesData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}deleteTableElement(n){this.storesData.storesNeighborhoodsContent.splice(n,1),this.storesData.storesAddressesContent.splice(n,1),this.storesData.storesPhonesContent.splice(n,1)}addTableElement(){this.storesData.storesNeighborhoodsContent.push(""),this.storesData.storesAddressesContent.push(""),this.storesData.storesPhonesContent.push("")}trackByIndex(n){return n}static#e=this.\u0275fac=function(r){return new(r||t)(G(uc),G(cc),G(Mo))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-stores"]],decls:9,vars:4,consts:[[1,"section","odd"],[1,"title"],["class","table table-striped table-bordered",4,"ngIf"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],["class","row odd save-button",4,"ngIf"],[1,"table","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","text",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1)(2,"h5"),le(3,"Lojas"),W()(),Dn(4,"hr"),Ge(5,NJ,11,1,"table",2),Ge(6,kJ,12,2,"table",2),Ge(7,VJ,2,0,"button",3),W(),Ge(8,FJ,3,0,"div",4)),2&r&&(ae(5),de("ngIf",!i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn))},dependencies:[xo,Gs,Ws,Ww,Xo],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:left;outline:0;border-width:0 0 0px;background-color:transparent}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px;background-color:transparent}"]})}return t})();function UJ(t,e){if(1&t&&(K(0,"p"),le(1),W()),2&t){const n=Me();ae(1),ki(n.pageData.pricesHintContent)}}function BJ(t,e){if(1&t){const n=an();K(0,"p")(1,"textarea",21),et("ngModelChange",function(i){return Dt(n),Rt(Me().pageData.pricesHintContent=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.pageData.pricesHintContent)}}function jJ(t,e){if(1&t){const n=an();K(0,"div",22)(1,"button",23),et("click",function(){return Dt(n),Rt(Me().onSave())}),le(2,"Save"),W()()}}function $J(t,e){1&t&&Dn(0,"div",24)}const HJ=function(){return{type:"kilo"}},zJ=function(){return{type:"female"}},qJ=function(){return{type:"male"}},GJ=function(){return{type:"children"}},WJ=function(){return{type:"couch"}},ZJ=function(){return{type:"rug"}},KJ=function(){return{type:"curtain"}},QJ=function(){return{type:"bed"}},YJ=function(){return{type:"trussardi"}},JJ=function(){return{type:"others"}};let XJ=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.authService=r,this.localStorageService=i,this.titleContentId="",this.pageData={pricesHintContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou ngOnInit home");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - prices1"),this.pageData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(ge(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.pageData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date})})}onSave(){this.titleContentId&&(console.log("entrou"),console.log(this.titleContentId),console.log(this.pageData),this.titleContentService.update(this.titleContentId,this.pageData).then(()=>{this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(uc),G(Mo),G(cc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-prices"]],decls:65,vars:24,consts:[[1,"section","odd"],[1,"title"],[1,"row","top-hint","odd"],[1,"round-box","col-12"],["src","assets/icons/lightbulb-fill.svg"],[4,"ngIf"],[1,"row","even"],[1,"image-parent","col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"image","kilo"],["routerLink","details",3,"queryParams"],[1,"image","female"],[1,"image","male"],[1,"image","children"],[1,"image","couch"],[1,"image","rug"],[1,"image","curtain"],[1,"image","bed"],[1,"image","trussardi"],[1,"image","others"],["class","row odd save-button",4,"ngIf"],["class","row odd empty",4,"ngIf"],["rows","1",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"row","odd","empty"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1)(2,"h5"),le(3,"Tabela De Pre\xe7os"),W()(),Dn(4,"hr"),W(),K(5,"div",2)(6,"div",3)(7,"h5"),le(8,"Dicas "),Dn(9,"img",4),W(),Ge(10,UJ,2,1,"p",5),Ge(11,BJ,2,1,"p",5),W()(),K(12,"div",6)(13,"div",7)(14,"div",8)(15,"a",9)(16,"h5"),le(17,"Quilo"),W()()()(),K(18,"div",7)(19,"div",10)(20,"a",9)(21,"h5"),le(22,"Feminino"),W()()()(),K(23,"div",7)(24,"div",11)(25,"a",9)(26,"h5"),le(27,"Masculino"),W()()()(),K(28,"div",7)(29,"div",12)(30,"a",9)(31,"h5"),le(32,"Infantil"),W()()()(),K(33,"div",7)(34,"div",13)(35,"a",9)(36,"h5"),le(37,"Estofado"),W()()()(),K(38,"div",7)(39,"div",14)(40,"a",9)(41,"h5"),le(42,"Tapete"),W()()()(),K(43,"div",7)(44,"div",15)(45,"a",9)(46,"h5"),le(47,"Cortina"),W()()()(),K(48,"div",7)(49,"div",16)(50,"a",9)(51,"h5"),le(52,"Cama/Mesa"),W()()()(),K(53,"div",7)(54,"div",17)(55,"a",9)(56,"h5"),le(57,"Trussardi"),W()()()(),K(58,"div",7)(59,"div",18)(60,"a",9)(61,"h5"),le(62,"Diversos"),W()()()()(),Ge(63,jJ,3,0,"div",19),Ge(64,$J,1,0,"div",20)),2&r&&(ae(10),de("ngIf",!i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(4),de("queryParams",Ur(14,HJ)),ae(5),de("queryParams",Ur(15,zJ)),ae(5),de("queryParams",Ur(16,qJ)),ae(5),de("queryParams",Ur(17,GJ)),ae(5),de("queryParams",Ur(18,WJ)),ae(5),de("queryParams",Ur(19,ZJ)),ae(5),de("queryParams",Ur(20,KJ)),ae(5),de("queryParams",Ur(21,QJ)),ae(5),de("queryParams",Ur(22,YJ)),ae(5),de("queryParams",Ur(23,JJ)),ae(3),de("ngIf",i.isLoggedIn),ae(1),de("ngIf",!i.isLoggedIn))},dependencies:[xo,Gs,Ws,Xo,ns],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px 3px;color:#404040}.top-hint[_ngcontent-%COMP%]{white-space:pre-line;padding:50px 90px 150px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}.empty[_ngcontent-%COMP%]{padding-bottom:150px}.even[_ngcontent-%COMP%]{background-color:#c1e0f5}.round-box[_ngcontent-%COMP%]{border:solid 1px;border-radius:30px;border-color:#d3d3d3;padding:18px;color:404040}.round-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:24px}.round-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:baseline;width:1.8%}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}p[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:0}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.image[_ngcontent-%COMP%]{padding-top:210px;padding-bottom:210px;text-shadow:rgb(0,0,0) 3px 0px 0px,rgb(0,0,0) 2.83487px .981584px 0px,rgb(0,0,0) 2.35766px 1.85511px 0px,rgb(0,0,0) 1.62091px 2.52441px 0px,rgb(0,0,0) .705713px 2.91581px 0px,rgb(0,0,0) -.287171px 2.98622px 0px,rgb(0,0,0) -1.24844px 2.72789px 0px,rgb(0,0,0) -2.07227px 2.16926px 0px,rgb(0,0,0) -2.66798px 1.37182px 0px,rgb(0,0,0) -2.96998px .42336px 0px,rgb(0,0,0) -2.94502px -.571704px 0px,rgb(0,0,0) -2.59586px -1.50383px 0px,rgb(0,0,0) -1.96093px -2.27041px 0px,rgb(0,0,0) -1.11013px -2.78704px 0px,rgb(0,0,0) -.137119px -2.99686px 0px,rgb(0,0,0) .850987px -2.87677px 0px,rgb(0,0,0) 1.74541px -2.43999px 0px,rgb(0,0,0) 2.44769px -1.73459px 0px,rgb(0,0,0) 2.88051px -.838247px 0px;color:#fff}.image[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:33px}.image-parent[_ngcontent-%COMP%]{padding:0;overflow:hidden}.couch[_ngcontent-%COMP%], .rug[_ngcontent-%COMP%], .curtain[_ngcontent-%COMP%], .bed[_ngcontent-%COMP%], .trussardi[_ngcontent-%COMP%], .others[_ngcontent-%COMP%], .kilo[_ngcontent-%COMP%], .female[_ngcontent-%COMP%], .male[_ngcontent-%COMP%], .children[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center;display:flex;justify-content:center;width:100%;height:auto;transition:all .5s}.image-parent[_ngcontent-%COMP%]:hover   .couch[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .couch[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .rug[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .rug[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .curtain[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .curtain[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .bed[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .bed[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .trussardi[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .trussardi[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .others[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .others[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .kilo[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .kilo[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .female[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .female[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .male[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .male[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .children[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .children[_ngcontent-%COMP%]{transform:scale(1.2)}.couch[_ngcontent-%COMP%]:before, .rug[_ngcontent-%COMP%]:before, .curtain[_ngcontent-%COMP%]:before, .bed[_ngcontent-%COMP%]:before, .trussardi[_ngcontent-%COMP%]:before, .others[_ngcontent-%COMP%]:before, .kilo[_ngcontent-%COMP%]:before, .female[_ngcontent-%COMP%]:before, .children[_ngcontent-%COMP%]:before, .male[_ngcontent-%COMP%]:before{display:none;height:100%;width:100%;position:absolute;top:0;left:0;background-color:#34495e4d}.image-parent[_ngcontent-%COMP%]:hover   .couch[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .couch[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .rug[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .rug[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .curtain[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .curtain[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .bed[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .bed[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .trussardi[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .trussardi[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .others[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .others[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .kilo[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .kilo[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .female[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .female[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .male[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .male[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .children[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .children[_ngcontent-%COMP%]:before{display:block}.couch[_ngcontent-%COMP%]{background-image:url(prices-couch.1e53024d4ca4c4fa.jpg)}.rug[_ngcontent-%COMP%]{background-image:url(prices-rug.6b36a5b78d203271.jpg)}.curtain[_ngcontent-%COMP%]{background-image:url(prices-curtain.ed66bd4b31f88be8.jpg)}.bed[_ngcontent-%COMP%]{background-image:url(prices-bed.313393361146656f.jpg)}.trussardi[_ngcontent-%COMP%]{background-image:url(prices-trussardi.12ef3d8b61f1b2ca.jpg)}.others[_ngcontent-%COMP%]{background-image:url(prices-others.69bdb52add79c958.jpg)}.kilo[_ngcontent-%COMP%]{background-image:url(prices-kilo.2e1e9de871a7078b.jpg)}.female[_ngcontent-%COMP%]{background-image:url(prices-women.f19a8da3392014de.jpg)}.male[_ngcontent-%COMP%]{background-image:url(prices-men.3410cf3e434b996b.jpg)}.children[_ngcontent-%COMP%]{background-image:url(prices-childen.a28f2a593def3ab2.jpg)}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}"]})}return t})(),eX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-contact"]],decls:2,vars:0,template:function(r,i){1&r&&(K(0,"p"),le(1,"contact works!"),W())}})}return t})();function tX(t,e){1&t&&(K(0,"div"),le(1,"Email \xe9 obrigat\xf3rio"),W())}function nX(t,e){1&t&&(K(0,"div"),le(1,"Email inv\xe1lido"),W())}function rX(t,e){if(1&t&&(K(0,"div",12),Ge(1,tX,2,0,"div",13),Ge(2,nX,2,0,"div",13),W()),2&t){const n=Me();ae(1),de("ngIf",n.f.email.errors.required),ae(1),de("ngIf",n.f.email.errors.email)}}function iX(t,e){1&t&&(K(0,"div"),le(1,"Senha \xe9 obrigat\xf3rio"),W())}function oX(t,e){if(1&t&&(K(0,"div",12),Ge(1,iX,2,0,"div",13),W()),2&t){const n=Me();ae(1),de("ngIf",n.f.password.errors.required)}}const Z2=function(t){return{"is-invalid":t}};let sX=(()=>{class t{constructor(n,r){this.authService=n,this.formBuilder=r,this.form=new jd({email:new hc(""),password:new hc("")}),this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({email:["",[GT.required,GT.email]],password:["",[GT.required]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,!this.form.invalid&&this.authService.login(this.form.get("email")?.value,this.form.get("password")?.value)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Mo),G(gJ))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-sign-in"]],decls:21,vars:9,consts:[[1,"container-fluid"],[3,"formGroup","ngSubmit"],[1,"form-group","padding-bottom"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"center","padding-bottom"],[1,"small","mt-2","pt-1","mb-0"],["routerLink","/forgot-password",1,"link-danger"],[1,"form-group","center"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(r,i){1&r&&(K(0,"section")(1,"div",0)(2,"form",1),et("ngSubmit",function(){return i.onSubmit()}),K(3,"div",2)(4,"label"),le(5,"Email"),W(),Dn(6,"input",3),Ge(7,rX,3,2,"div",4),W(),K(8,"div",5)(9,"label"),le(10,"Senha"),W(),Dn(11,"input",6),Ge(12,oX,2,1,"div",4),W(),K(13,"div",7)(14,"p",8),le(15,"Esqueceu a senha ? "),K(16,"a",9),le(17,"Enviar email de redefini\xe7\xe3o"),W()()(),K(18,"div",10)(19,"button",11),le(20,"Entrar"),W()()()()()),2&r&&(ae(2),de("formGroup",i.form),ae(4),de("ngClass",ow(5,Z2,i.submitted&&i.f.email.errors)),ae(1),de("ngIf",i.submitted&&i.f.email.errors),ae(4),de("ngClass",ow(7,Z2,i.submitted&&i.f.password.errors)),ae(1),de("ngIf",i.submitted&&i.f.password.errors))},dependencies:[A2,xo,Gs,p2,Fx,Xo,ns,Sv,ub],styles:[".container-fluid[_ngcontent-%COMP%], .center[_ngcontent-%COMP%]{display:flex;justify-content:center}form[_ngcontent-%COMP%]{border:solid 1px;border-radius:30px;border-color:#d3d3d3;padding:50px;margin:100px;color:404040}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:20px}"]})}return t})(),aX=(()=>{class t{constructor(n){this.authService=n}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(G(Mo))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"]],template:function(r,i){if(1&r){const o=an();K(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),le(4,"Reset Password"),W(),K(5,"p",3),le(6,"Please enter your email address to request a password reset."),W(),K(7,"div",4),Dn(8,"input",5,6),W(),K(10,"div",4)(11,"input",7),et("click",function(){Dt(o);const a=function ER(t){return la(function Zg(){return Ue.lFrame.contextLView}(),ct+t)}(9);return Rt(i.authService.forgotPassword(a.value))}),W()()(),K(12,"div",8)(13,"span"),le(14,"Go back to ? "),K(15,"span",9),le(16,"Log In"),W()()()()()}},dependencies:[ns]})}return t})();var Ot=function(t){return t.KILO="kilo",t.FEMALE="female",t.MALE="male",t.CHILDREN="children",t.CHOUCH="couch",t.RUG="rug",t.CURTAIN="curtain",t.BED="bed",t.TROUSSARDI="trussardi",t.OTHERS="others",t}(Ot||{});function uX(t,e){if(1&t&&(K(0,"tr")(1,"td"),le(2),W(),K(3,"td"),le(4),W()()),2&t){const n=e.index,r=Me(2);ae(2),ki(r.pricesItens[n]),ae(2),ki(r.pricesValues[n])}}function cX(t,e){if(1&t&&(K(0,"table",10)(1,"thead")(2,"tr")(3,"th",11),le(4,"Artigo"),W(),K(5,"th",11),le(6,"Pre\xe7o"),W()()(),K(7,"tbody"),Ge(8,uX,5,2,"tr",12),W()()),2&t){const n=Me();ae(8),de("ngForOf",n.pricesItens)}}function lX(t,e){if(1&t){const n=an();K(0,"tr")(1,"td")(2,"input",14),et("ngModelChange",function(i){const s=Dt(n).index;return Rt(Me(2).pricesItens[s]=i)}),W()(),K(3,"td")(4,"input",14),et("ngModelChange",function(i){const s=Dt(n).index;return Rt(Me(2).pricesValues[s]=i)}),W()(),K(5,"td")(6,"button",15),et("click",function(){const o=Dt(n).index;return Rt(Me(2).deleteTableElement(o))}),le(7,"Deletar"),W()()()}if(2&t){const n=e.index,r=Me(2);ae(2),de("ngModel",r.pricesItens[n]),ae(2),de("ngModel",r.pricesValues[n])}}function dX(t,e){if(1&t&&(K(0,"table",10)(1,"thead")(2,"tr")(3,"th",11),le(4,"Bairro"),W(),K(5,"th",11),le(6,"Endere\xe7o"),W(),Dn(7,"th",11),W()(),K(8,"tbody"),Ge(9,lX,8,2,"tr",13),W()()),2&t){const n=Me();ae(9),de("ngForOf",n.pricesItens)("ngForTrackBy",n.trackByIndex)}}function hX(t,e){if(1&t){const n=an();K(0,"button",15),et("click",function(){return Dt(n),Rt(Me().addTableElement())}),le(1,"+"),W()}}function fX(t,e){if(1&t&&(K(0,"p"),le(1),W()),2&t){const n=Me();ae(1),ki(n.notes)}}function pX(t,e){if(1&t){const n=an();K(0,"p")(1,"textarea",16),et("ngModelChange",function(i){return Dt(n),Rt(Me().notes=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.notes)}}function gX(t,e){if(1&t){const n=an();K(0,"div",17)(1,"button",18),et("click",function(){return Dt(n),Rt(Me().onSave())}),le(2,"Save"),W()()}}let mX=(()=>{class t{constructor(n,r,i,o){this.titleContentService=n,this.authService=r,this.activatedRoute=i,this.localStorageService=o,this.titleContentId="",this.pageData={pricesKiloItens:[],pricesKiloValues:[],pricesKiloNotes:"",pricesFemaleItens:[],pricesFemaleValues:[],pricesFemaleNotes:"",pricesMaleItens:[],pricesMaleValues:[],pricesMaleNotes:"",pricesChildrenItens:[],pricesChildrenValues:[],pricesChildrenNotes:"",pricesCouchItens:[],pricesCouchValues:[],pricesCouchNotes:"",pricesRugItens:[],pricesRugValues:[],pricesRugNotes:"",pricesCurtainItens:[],pricesCurtainValues:[],pricesCurtainNotes:"",pricesBedItens:[],pricesBedValues:[],pricesBedNotes:"",pricesTrussardiItens:[],pricesTrussardiValues:[],pricesTrussardiNotes:"",pricesOthersItens:[],pricesOthersValues:[],pricesOthersNotes:""},this.pricesItens=[],this.pricesValues=[],this.isLoggedIn=this.authService.isLogged,this.type="",this.typeName="",this.notes="sdasdasdsd"}ngOnInit(){console.log("entrou ngOnInit price-details"),this.activatedRoute.queryParamMap.subscribe(r=>this.type=r.get("type")),this.setTypeName();const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - prices1"),this.pageData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(ge(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.pageData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date})}),this.setPrices()}onSave(){this.titleContentId&&(this.setPageData(),console.log("entrou"),console.log(this.titleContentId),console.log(this.pageData),this.titleContentService.update(this.titleContentId,this.pageData).then(()=>{this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}deleteTableElement(n){this.pricesItens.splice(n,1)}addTableElement(){this.pricesItens.push("")}trackByIndex(n){return n}setTypeName(){switch(this.type){case Ot.KILO:this.typeName="Quilo";break;case Ot.FEMALE:this.typeName="Feminino";break;case Ot.MALE:this.typeName="Masculino";break;case Ot.CHILDREN:this.typeName="Infantil";break;case Ot.CHOUCH:this.typeName="Estofado";break;case Ot.RUG:this.typeName="Tapete";break;case Ot.CURTAIN:this.typeName="Cortina";break;case Ot.BED:this.typeName="Cama/Mesa";break;case Ot.TROUSSARDI:this.typeName="Trussardi";break;case Ot.OTHERS:this.typeName="Diversos"}}setPrices(){switch(this.type){case Ot.KILO:this.pricesItens=this.pageData.pricesKiloItens,this.pricesValues=this.pageData.pricesKiloValues,this.notes=this.pageData.pricesKiloNotes;break;case Ot.FEMALE:this.pricesItens=this.pageData.pricesFemaleItens,this.pricesValues=this.pageData.pricesFemaleValues,this.notes=this.pageData.pricesFemaleNotes;break;case Ot.MALE:this.pricesItens=this.pageData.pricesMaleItens,this.pricesValues=this.pageData.pricesMaleValues,this.notes=this.pageData.pricesMaleNotes;break;case Ot.CHILDREN:this.pricesItens=this.pageData.pricesChildrenItens,this.pricesValues=this.pageData.pricesChildrenValues,this.notes=this.pageData.pricesChildrenNotes;break;case Ot.CHOUCH:this.pricesItens=this.pageData.pricesCouchItens,this.pricesValues=this.pageData.pricesCouchValues,this.notes=this.pageData.pricesCouchNotes;break;case Ot.RUG:this.pricesItens=this.pageData.pricesRugItens,this.pricesValues=this.pageData.pricesRugValues,this.notes=this.pageData.pricesRugNotes;break;case Ot.CURTAIN:this.pricesItens=this.pageData.pricesCurtainItens,this.pricesValues=this.pageData.pricesCurtainValues,this.notes=this.pageData.pricesCurtainNotes;break;case Ot.BED:this.pricesItens=this.pageData.pricesBedItens,this.pricesValues=this.pageData.pricesBedValues,this.notes=this.pageData.pricesBedNotes;break;case Ot.TROUSSARDI:this.pricesItens=this.pageData.pricesTrussardiItens,this.pricesValues=this.pageData.pricesTrussardiValues,this.notes=this.pageData.pricesTrussardiNotes;break;case Ot.OTHERS:this.pricesItens=this.pageData.pricesOthersItens,this.pricesValues=this.pageData.pricesOthersValues,this.notes=this.pageData.pricesOthersNotes}}setPageData(){switch(this.type){case Ot.KILO:this.pageData.pricesKiloItens=this.pricesItens,this.pageData.pricesKiloValues=this.pricesValues,this.pageData.pricesKiloNotes=this.notes;break;case Ot.FEMALE:this.pageData.pricesFemaleItens=this.pricesItens,this.pageData.pricesFemaleValues=this.pricesValues,this.pageData.pricesFemaleNotes=this.notes;break;case Ot.MALE:this.pageData.pricesMaleItens=this.pricesItens,this.pageData.pricesMaleValues=this.pricesValues,this.pageData.pricesMaleNotes=this.notes;break;case Ot.CHILDREN:this.pageData.pricesChildrenItens=this.pricesItens,this.pageData.pricesChildrenValues=this.pricesValues,this.pageData.pricesChildrenNotes=this.notes;break;case Ot.CHOUCH:this.pageData.pricesCouchItens=this.pricesItens,this.pageData.pricesCouchValues=this.pricesValues,this.pageData.pricesCouchNotes=this.notes;break;case Ot.RUG:this.pageData.pricesRugItens=this.pricesItens,this.pageData.pricesRugValues=this.pricesValues,this.pageData.pricesRugNotes=this.notes;break;case Ot.CURTAIN:this.pageData.pricesCurtainItens=this.pricesItens,this.pageData.pricesCurtainValues=this.pricesValues,this.pageData.pricesCurtainNotes=this.notes;break;case Ot.BED:this.pageData.pricesBedItens=this.pricesItens,this.pageData.pricesBedValues=this.pricesValues,this.pageData.pricesBedNotes=this.notes;break;case Ot.TROUSSARDI:this.pageData.pricesTrussardiItens=this.pricesItens,this.pageData.pricesTrussardiValues=this.pricesValues,this.pageData.pricesTrussardiNotes=this.notes;break;case Ot.OTHERS:this.pageData.pricesOthersItens=this.pricesItens,this.pageData.pricesOthersValues=this.pricesValues,this.pageData.pricesOthersNotes=this.notes}}static#e=this.\u0275fac=function(r){return new(r||t)(G(uc),G(Mo),G(ku),G(cc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-prices"]],decls:15,vars:7,consts:[[1,"section","odd"],["routerLink","/prices"],["src","assets/icons/arrow-return.svg","height","30","width","30","priority",""],[1,"title"],["class","table table-striped table-bordered",4,"ngIf"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],[1,"row","odd","prices-notes"],[1,"round-box","col-12"],[4,"ngIf"],["class","row odd save-button",4,"ngIf"],[1,"table","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","text",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"a",1),Dn(2,"img",2),W(),K(3,"div",3)(4,"h5"),le(5),W()(),Dn(6,"hr"),Ge(7,cX,9,1,"table",4),Ge(8,dX,10,2,"table",4),Ge(9,hX,2,0,"button",5),W(),K(10,"div",6)(11,"div",7),Ge(12,fX,2,1,"p",8),Ge(13,pX,2,1,"p",8),W()(),Ge(14,gX,3,0,"div",9)),2&r&&(ae(5),Jo("Pre\xe7os - ",i.typeName,""),ae(2),de("ngIf",!i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(3),de("ngIf",!i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn))},dependencies:[og,xo,Gs,Ws,Ww,Xo,ns],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px 10px;color:#404040}.prices-notes[_ngcontent-%COMP%]{white-space:pre-line;padding:0 90px 150px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:left;outline:0;border-width:0 0 0px;background-color:transparent}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px;background-color:transparent}"]})}return t})();function _X(t,e){if(1&t&&(K(0,"div",6)(1,"h5"),le(2),W()()),2&t){const n=Me();ae(2),ki(n.hintsData.hintsTitle)}}function yX(t,e){if(1&t){const n=an();K(0,"div",6)(1,"h5")(2,"input",7),et("ngModelChange",function(i){return Dt(n),Rt(Me().hintsData.hintsTitle=i)}),W()()()}if(2&t){const n=Me();ae(2),de("ngModel",n.hintsData.hintsTitle)}}function vX(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ae(1),Jo(" ",n.hintsData.hintsContent," ")}}function IX(t,e){if(1&t){const n=an();K(0,"div")(1,"textarea",8),et("ngModelChange",function(i){return Dt(n),Rt(Me().hintsData.hintsContent=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.hintsData.hintsContent)}}function EX(t,e){if(1&t){const n=an();K(0,"div",9)(1,"button",10),et("click",function(){return Dt(n),Rt(Me().onSave())}),le(2,"Save"),W()()}}const wX=[{path:"",component:TJ},{path:"login",component:sX},{path:"forgot-password",component:aX},{path:"company",component:MJ},{path:"stores",component:LJ},{path:"prices",component:XJ},{path:"prices/details",component:mX},{path:"contact",component:eX},{path:"hints",component:(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.authService=r,this.localStorageService=i,this.titleContentServiceId="",this.hintsData={hintsTitle:"",hintsContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou hints");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData"),this.hintsData=n,this.titleContentServiceId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(ge(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.hintsData=r[0],this.titleContentServiceId=r[0].id,this.localStorageService.set("title-content",{...this.hintsData,id:this.titleContentServiceId,updatedAt:new Date})})}onSave(){this.titleContentServiceId&&(console.log("entrou"),console.log(this.titleContentServiceId),console.log(this.hintsData),this.titleContentService.update(this.titleContentServiceId,this.hintsData).then(()=>{this.localStorageService.set("title-content",{...this.hintsData,id:this.titleContentServiceId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(uc),G(Mo),G(cc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-hints"]],decls:9,vars:5,consts:[[1,"section","odd"],["class","title",4,"ngIf"],[4,"ngIf"],[1,"center"],["src","assets\\icones_etiqueta.gif"],["class","row odd save-button",4,"ngIf"],[1,"title"],["type","text",3,"ngModel","ngModelChange"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0),Ge(1,_X,3,1,"div",1),Ge(2,yX,3,1,"div",1),Dn(3,"hr"),Ge(4,vX,2,1,"div",2),Ge(5,IX,2,1,"div",2),K(6,"div",3),Dn(7,"img",4),W()(),Ge(8,EX,3,0,"div",5)),2&r&&(ae(1),de("ngIf",!i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(2),de("ngIf",!i.isLoggedIn),ae(1),de("ngIf",i.isLoggedIn),ae(3),de("ngIf",i.isLoggedIn))},dependencies:[og,xo,Gs,Ws,Xo],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}.right-link[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-top:10px}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:center;outline:0;border-width:0 0 0px}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}"]})}return t})()}];let CX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Bn({type:t});static#n=this.\u0275inj=Kn({imports:[vN.forRoot(wX),vN]})}return t})();function DX(t,e){if(1&t){const n=an();K(0,"div",17)(1,"button",18),et("click",function(){return Dt(n),Rt(Me().logout())}),le(2,"Logout"),W()()}}const dg=function(){return{exact:!0}};let TX=(()=>{class t{constructor(n){this.authService=n,this.isLoggedIn=this.authService.isLogged}logout(){var n=this;return(0,Q.Z)(function*(){yield n.authService.signOut()})()}static#e=this.\u0275fac=function(r){return new(r||t)(G(Mo))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-navbar"]],decls:30,vars:13,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],[1,"container"],[1,"logo","col-12"],["routerLink","",1,"navbar-brand"],["src","assets\\cbc-logo.png","width","240","height","150"],["class","logout-button",4,"ngIf"],[1,"slogan","col-12"],[1,"navbar-div","col-12"],["id","navbarNav",1,"nav","nav-pills","nav-fill"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","company","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","stores","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","prices","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","contact","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],[1,"logout-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),Dn(5,"img",5),W(),Ge(6,DX,3,0,"div",6),rr(7,"async"),W(),K(8,"div",7),le(9," SUA ROUPA, TAPETE E CORTINA DE CARA LIMPA "),W(),K(10,"div",7),le(11," \u2014 DESDE 1993 \u2014 "),W(),K(12,"div",8)(13,"div",9)(14,"ul",10)(15,"li",11)(16,"a",12),le(17,"IN\xcdCIO"),W()(),K(18,"li",11)(19,"a",13),le(20,"EMPRESA"),W()(),K(21,"li",11)(22,"a",14),le(23,"LOJAS"),W()(),K(24,"li",11)(25,"a",15),le(26,"PRE\xc7OS"),W()(),K(27,"li",11)(28,"a",16),le(29,"CONTATO"),W()()()()()()()()),2&r&&(ae(6),de("ngIf",ir(7,6,i.isLoggedIn)),ae(10),de("routerLinkActiveOptions",Ur(8,dg)),ae(3),de("routerLinkActiveOptions",Ur(9,dg)),ae(3),de("routerLinkActiveOptions",Ur(10,dg)),ae(3),de("routerLinkActiveOptions",Ur(11,dg)),ae(3),de("routerLinkActiveOptions",Ur(12,dg)))},dependencies:[Xo,ns,dN,Tf],styles:["nav[_ngcontent-%COMP%]{color:#fff}.container-fluid[_ngcontent-%COMP%]{background-image:url(teste4.35bb2f59446bbb95.jpg);background-size:cover}.container[_ngcontent-%COMP%]{padding:5px}.logo[_ngcontent-%COMP%]{display:flex;justify-content:left;padding-bottom:40px}.logout-button[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px}.slogan[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:larger;font-style:italic;text-shadow:rgb(0,0,0) 3px 0px 0px,rgb(0,0,0) 2.83487px .981584px 0px,rgb(0,0,0) 2.35766px 1.85511px 0px,rgb(0,0,0) 1.62091px 2.52441px 0px,rgb(0,0,0) .705713px 2.91581px 0px,rgb(0,0,0) -.287171px 2.98622px 0px,rgb(0,0,0) -1.24844px 2.72789px 0px,rgb(0,0,0) -2.07227px 2.16926px 0px,rgb(0,0,0) -2.66798px 1.37182px 0px,rgb(0,0,0) -2.96998px .42336px 0px,rgb(0,0,0) -2.94502px -.571704px 0px,rgb(0,0,0) -2.59586px -1.50383px 0px,rgb(0,0,0) -1.96093px -2.27041px 0px,rgb(0,0,0) -1.11013px -2.78704px 0px,rgb(0,0,0) -.137119px -2.99686px 0px,rgb(0,0,0) .850987px -2.87677px 0px,rgb(0,0,0) 1.74541px -2.43999px 0px,rgb(0,0,0) 2.44769px -1.73459px 0px,rgb(0,0,0) 2.88051px -.838247px 0px}.navbar-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-self:center;padding-top:80px;padding-bottom:50px}.nav[_ngcontent-%COMP%]{display:inline-block;position:sticky;top:0;z-index:10;text-shadow:-1px 0 black,0 1px black,1px 0 black,0 -1px black}.bg-body-tertiary[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.nav-item[_ngcontent-%COMP%]{font-weight:700;padding-left:20px;padding-right:20px}.nav-link.active-link[_ngcontent-%COMP%]{background-color:var(--red)}.nav-link[_ngcontent-%COMP%]{color:#fff;border-radius:50px;padding:15px!important}.nav-link[_ngcontent-%COMP%]:hover{text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover{background-color:var(--red);color:#fff;border-radius:50px}"]})}return t})();function bX(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ae(1),Jo(" ",n.footerData.footerScheduleContent," ")}}function AX(t,e){if(1&t){const n=an();K(0,"div")(1,"textarea",8),et("ngModelChange",function(i){return Dt(n),Rt(Me().footerData.footerScheduleContent=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.footerData.footerScheduleContent)}}function SX(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ae(1),Jo(" ",n.footerData.footerContactPhonesContent," ")}}function RX(t,e){if(1&t){const n=an();K(0,"div")(1,"textarea",8),et("ngModelChange",function(i){return Dt(n),Rt(Me().footerData.footerContactPhonesContent=i)}),W()()}if(2&t){const n=Me();ae(1),de("ngModel",n.footerData.footerContactPhonesContent)}}function PX(t,e){if(1&t){const n=an();K(0,"div",9)(1,"button",10),et("click",function(){return Dt(n),Rt(Me().onSave())}),le(2,"Save"),W()()}}let MX=(()=>{class t{constructor(n,r,i,o){this.titleContentService=n,this.router=r,this.localStorageService=i,this.authService=o,this.titleContentServiceId="",this.footerData={footerScheduleContent:"",footerContactPhonesContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou footer"),console.log(this.router.url);const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData"),this.footerData=n,this.titleContentServiceId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(ge(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.footerData=r[0],this.titleContentServiceId=r[0].id,this.localStorageService.set("title-content",{...this.footerData,id:this.titleContentServiceId,updatedAt:new Date})})}onSave(){this.titleContentServiceId&&(console.log("entrou"),console.log(this.titleContentServiceId),console.log(this.footerData),this.titleContentService.update(this.titleContentServiceId,this.footerData).then(()=>{this.localStorageService.set("title-content",{...this.footerData,id:this.titleContentServiceId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(uc),G(vi),G(cc),G(Mo))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-footer"]],decls:25,vars:15,consts:[[1,"footer"],[1,"row","informacoes","topo-secao"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","sobre"],[1,"row","titulo"],[4,"ngIf"],[1,"row","col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","contact"],["routerLink","contact"],["class","row odd save-button",4,"ngIf"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),le(5,"Funcionamento"),W()(),Ge(6,bX,2,1,"div",4),rr(7,"async"),Ge(8,AX,2,1,"div",4),rr(9,"async"),W(),K(10,"div",5)(11,"div",3)(12,"h5"),le(13,"Contato"),W()(),K(14,"div"),le(15," Entre em contato com a CBC Lavanderia nos telefones: "),Ge(16,SX,2,1,"div",4),rr(17,"async"),Ge(18,RX,2,1,"div",4),rr(19,"async"),le(20," ou "),K(21,"a",6),le(22," atrav\xe9s de nosso formul\xe1rio de contato. "),W()()(),Ge(23,PX,3,0,"div",7),rr(24,"async"),W()()),2&r&&(ae(6),de("ngIf",!ir(7,5,i.isLoggedIn)),ae(2),de("ngIf",ir(9,7,i.isLoggedIn)),ae(8),de("ngIf",!ir(17,9,i.isLoggedIn)),ae(2),de("ngIf",ir(19,11,i.isLoggedIn)),ae(5),de("ngIf",ir(24,13,i.isLoggedIn)))},dependencies:[og,xo,Gs,Ws,Xo,ns,Tf],styles:[".footer[_ngcontent-%COMP%]{padding:20px 90px;color:#fff}.sobre[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:40px}a[_ngcontent-%COMP%]{color:#d3d3d3}h5[_ngcontent-%COMP%]{font-weight:700}textarea[_ngcontent-%COMP%]{width:100%;background-color:inherit;border:none;color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}"]})}return t})(),xX=(()=>{class t{constructor(){this.title="cbc-lavanderia-frontend"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[[2,"background-color","var(--blue)"],[2,"background-color","#F4F4F4"]],template:function(r,i){1&r&&(K(0,"div",0),Dn(1,"app-navbar"),W(),K(2,"div",1),Dn(3,"router-outlet"),W(),K(4,"div",0),Dn(5,"app-footer"),W())},dependencies:[TC,TX,MX]})}return t})();const hb={production:!1,firebase:{apiKey:"AIzaSyBnXaoP3LNtjqG9f3ZUOKiNa_CJ-jsxr4o",authDomain:"cbc-lavanderia-frontend-3c55a.firebaseapp.com",projectId:"cbc-lavanderia-frontend-3c55a",storageBucket:"cbc-lavanderia-frontend-3c55a.appspot.com",messagingSenderId:"35118893524",appId:"1:35118893524:web:5b9cc17803cfdaff36ee41",measurementId:"G-JK6P0LY9DM"}};class Rv{constructor(e){return e}}class K2{constructor(){return(0,Fi.getApps)()}}const fb=new Ee("angularfire2._apps"),OX={provide:Rv,useFactory:function NX(t){return t&&1===t.length?t[0]:new Rv((0,Fi.getApp)())},deps:[[new qo,fb]]},kX={provide:K2,deps:[[new qo,fb]]};function VX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Rv(r)}}let FX=(()=>{class t{constructor(n){(0,Fi.registerVersion)("angularfire",Zl.full,"core"),(0,Fi.registerVersion)("angularfire",Zl.full,"app"),(0,Fi.registerVersion)("angular",gE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(ce(Go))};static \u0275mod=Bn({type:t});static \u0275inj=Kn({providers:[OX,kX]})}return t})();function LX(t,...e){return{ngModule:FX,providers:[{provide:fb,useFactory:VX(t),multi:!0,deps:[Tt,ri,G_,...e]}]}}const UX=bN(Fi.initializeApp,!0);var BX=Fe(560);class pb{constructor(e){return e}}const gb=new Ee("angularfire2.auth-instances");function HX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new pb(r)}}const zX={provide:class jX{constructor(){return DN("auth")}},deps:[[new qo,gb]]},qX={provide:pb,useFactory:function $X(t,e){const n=function m8(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}("auth",t,e);return n&&new pb(n)},deps:[[new qo,gb],Rv]};let GX=(()=>{class t{constructor(){(0,Fi.registerVersion)("angularfire",Zl.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bn({type:t});static \u0275inj=Kn({providers:[qX,zX]})}return t})();function WX(t,...e){return{ngModule:GX,providers:[{provide:gb,useFactory:HX(t),multi:!0,deps:[Tt,ri,G_,K2,[new qo,kC],...e]}]}}const ZX=bN(BX.o,!0);let KX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Bn({type:t,bootstrap:[xX]});static#n=this.\u0275inj=Kn({providers:[Mo,{provide:Gf,useValue:hb.firebase}],imports:[EY,mJ,S6,CX,_J,R8.initializeApp(hb.firebase),LX(()=>UX(hb.firebase)),WX(()=>ZX()),hY]})}return t})();b6().bootstrapModule(KX).catch(t=>console.error(t))},106:($i,Nn,Fe)=>{Fe.d(Nn,{Z:()=>On});var C=Fe(58),H=Fe(537),x=Fe(534),Se=Fe(879);class wt{constructor($e,He){this._delegate=$e,this.firebase=He,(0,x._addComponent)($e,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService($e,He=x._DEFAULT_ENTRY_NAME){var kn;this._delegate.checkDestroyed();const hn=this._delegate.container.getProvider($e);return!hn.isInitialized()&&"EXPLICIT"===(null===(kn=hn.getComponent())||void 0===kn?void 0:kn.instantiationMode)&&hn.initialize(),hn.getImmediate({identifier:He})}_removeServiceInstance($e,He=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(He)}_addComponent($e){(0,x._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,x._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const yn=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function gt(){const lt=function zt(lt){const $e={},He={__esModule:!0,initializeApp:function at(tt,re={}){const ht=x.initializeApp(tt,re);if((0,C.r3)($e,ht.name))return $e[ht.name];const Gt=new lt(ht,He);return $e[ht.name]=Gt,Gt},app:hn,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Gr(tt){const re=tt.name,ht=re.replace("-compat","");if(x._registerComponent(tt)&&"PUBLIC"===tt.type){const Gt=(fn=hn())=>{if("function"!=typeof fn[ht])throw yn.create("invalid-app-argument",{appName:re});return fn[ht]()};void 0!==tt.serviceProps&&(0,C.ZB)(Gt,tt.serviceProps),He[ht]=Gt,lt.prototype[ht]=function(...fn){return this._getService.bind(this,re).apply(this,tt.multipleInstances?fn:[])}}return"PUBLIC"===tt.type?He[ht]:null},removeApp:function kn(tt){delete $e[tt]},useAsService:function Tn(tt,re){return"serverAuth"===re?null:re},modularAPIs:x}};function hn(tt){if(!(0,C.r3)($e,tt=tt||x._DEFAULT_ENTRY_NAME))throw yn.create("no-app",{appName:tt});return $e[tt]}return He.default=He,Object.defineProperty(He,"apps",{get:function Pt(){return Object.keys($e).map(tt=>$e[tt])}}),hn.App=lt,He}(wt);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:gt,extendNamespace:function $e(He){(0,C.ZB)(lt,He)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),lt}(),oe=new Se.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const On=Y;!function Ct(lt){(0,x.registerVersion)("@firebase/app-compat","0.2.22",lt)}()},534:($i,Nn,Fe)=>{Fe.r(Nn),Fe.d(Nn,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Wi,_DEFAULT_ENTRY_NAME:()=>bi,_addComponent:()=>Kr,_addOrOverwriteComponent:()=>Qr,_apps:()=>ar,_clearComponents:()=>In,_components:()=>Zr,_getProvider:()=>Mt,_registerComponent:()=>Xn,_removeServiceInstance:()=>Yr,deleteApp:()=>bn,getApp:()=>Si,getApps:()=>Ln,initializeApp:()=>Zi,onLog:()=>Zs,registerVersion:()=>Jr,setLogLevel:()=>No});var C=Fe(861),H=Fe(537),x=Fe(879),Se=Fe(58);const wt=(k,R)=>R.some(se=>k instanceof se);let tn,yn;const Y=new WeakMap,oe=new WeakMap,Ae=new WeakMap,Ke=new WeakMap,Ct=new WeakMap;let $e={get(k,R,se){if(k instanceof IDBTransaction){if("done"===R)return oe.get(k);if("objectStoreNames"===R)return k.objectStoreNames||Ae.get(k);if("store"===R)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return at(k[R])},set:(k,R,se)=>(k[R]=se,!0),has:(k,R)=>k instanceof IDBTransaction&&("done"===R||"store"===R)||R in k};function hn(k){return"function"==typeof k?function kn(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gt(){return yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...R){return k.apply(Pt(this),R),at(Y.get(this))}:function(...R){return at(k.apply(Pt(this),R))}:function(R,...se){const Re=k.call(Pt(this),R,...se);return Ae.set(Re,R.sort?R.sort():[R]),at(Re)}}(k):(k instanceof IDBTransaction&&function lt(k){if(oe.has(k))return;const R=new Promise((se,Re)=>{const Qe=()=>{k.removeEventListener("complete",it),k.removeEventListener("error",q),k.removeEventListener("abort",q)},it=()=>{se(),Qe()},q=()=>{Re(k.error||new DOMException("AbortError","AbortError")),Qe()};k.addEventListener("complete",it),k.addEventListener("error",q),k.addEventListener("abort",q)});oe.set(k,R)}(k),wt(k,function zt(){return tn||(tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,$e):k)}function at(k){if(k instanceof IDBRequest)return function On(k){const R=new Promise((se,Re)=>{const Qe=()=>{k.removeEventListener("success",it),k.removeEventListener("error",q)},it=()=>{se(at(k.result)),Qe()},q=()=>{Re(k.error),Qe()};k.addEventListener("success",it),k.addEventListener("error",q)});return R.then(se=>{se instanceof IDBCursor&&Y.set(se,k)}).catch(()=>{}),Ct.set(R,k),R}(k);if(Ke.has(k))return Ke.get(k);const R=hn(k);return R!==k&&(Ke.set(k,R),Ct.set(R,k)),R}const Pt=k=>Ct.get(k),tt=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],ht=new Map;function Gt(k,R){if(!(k instanceof IDBDatabase)||R in k||"string"!=typeof R)return;if(ht.get(R))return ht.get(R);const se=R.replace(/FromIndex$/,""),Re=R!==se,Qe=re.includes(se);if(!(se in(Re?IDBIndex:IDBObjectStore).prototype)||!Qe&&!tt.includes(se))return;const it=function(){var q=(0,C.Z)(function*(An,...be){const ut=this.transaction(An,Qe?"readwrite":"readonly");let ms=ut.store;return Re&&(ms=ms.index(be.shift())),(yield Promise.all([ms[se](...be),Qe&&ut.done]))[0]});return function(be){return q.apply(this,arguments)}}();return ht.set(R,it),it}!function He(k){$e=k($e)}(k=>({...k,get:(R,se,Re)=>Gt(R,se)||k.get(R,se,Re),has:(R,se)=>!!Gt(R,se)||k.has(R,se)}));class fn{constructor(R){this.container=R}getPlatformInfoString(){return this.container.getProviders().map(se=>{if(function vn(k){const R=k.getComponent();return"VERSION"===R?.type}(se)){const Re=se.getImmediate();return`${Re.library}/${Re.version}`}return null}).filter(se=>se).join(" ")}}const Ci="@firebase/app",Xe=new x.Yd("@firebase/app"),bi="[DEFAULT]",Ai={[Ci]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ar=new Map,Zr=new Map;function Kr(k,R){try{k.container.addComponent(R)}catch(se){Xe.debug(`Component ${R.name} failed to register with FirebaseApp ${k.name}`,se)}}function Qr(k,R){k.container.addOrOverwriteComponent(R)}function Xn(k){const R=k.name;if(Zr.has(R))return Xe.debug(`There were multiple attempts to register component ${R}.`),!1;Zr.set(R,k);for(const se of ar.values())Kr(se,k);return!0}function Mt(k,R){const se=k.container.getProvider("heartbeat").getImmediate({optional:!0});return se&&se.triggerHeartbeat(),k.container.getProvider(R)}function Yr(k,R,se=bi){Mt(k,R).clearInstance(se)}function In(){Zr.clear()}const rn=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class En{constructor(R,se,Re){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},se),this._name=se.name,this._automaticDataCollectionEnabled=se.automaticDataCollectionEnabled,this._container=Re,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const Wi="10.5.2";function Zi(k,R={}){let se=k;"object"!=typeof R&&(R={name:R});const Re=Object.assign({name:bi,automaticDataCollectionEnabled:!1},R),Qe=Re.name;if("string"!=typeof Qe||!Qe)throw rn.create("bad-app-name",{appName:String(Qe)});if(se||(se=(0,Se.aH)()),!se)throw rn.create("no-options");const it=ar.get(Qe);if(it){if((0,Se.vZ)(se,it.options)&&(0,Se.vZ)(Re,it.config))return it;throw rn.create("duplicate-app",{appName:Qe})}const q=new H.H0(Qe);for(const be of Zr.values())q.addComponent(be);const An=new En(se,Re,q);return ar.set(Qe,An),An}function Si(k=bi){const R=ar.get(k);if(!R&&k===bi&&(0,Se.aH)())return Zi();if(!R)throw rn.create("no-app",{appName:k});return R}function Ln(){return Array.from(ar.values())}function bn(k){return ur.apply(this,arguments)}function ur(){return(ur=(0,C.Z)(function*(k){const R=k.name;ar.has(R)&&(ar.delete(R),yield Promise.all(k.container.getProviders().map(se=>se.delete())),k.isDeleted=!0)})).apply(this,arguments)}function Jr(k,R,se){var Re;let Qe=null!==(Re=Ai[k])&&void 0!==Re?Re:k;se&&(Qe+=`-${se}`);const it=Qe.match(/\s|\//),q=R.match(/\s|\//);if(it||q){const An=[`Unable to register library "${Qe}" with version "${R}":`];return it&&An.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),it&&q&&An.push("and"),q&&An.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void Xe.warn(An.join(" "))}Xn(new H.wA(`${Qe}-version`,()=>({library:Qe,version:R}),"VERSION"))}function Zs(k,R){if(null!==k&&"function"!=typeof k)throw rn.create("invalid-log-argument");(0,x.Am)(k,R)}function No(k){(0,x.Ub)(k)}const ps="firebase-heartbeat-database",Ki=1,A="firebase-heartbeat-store";let T=null;function I(){return T||(T=function Gr(k,R,{blocked:se,upgrade:Re,blocking:Qe,terminated:it}={}){const q=indexedDB.open(k,R),An=at(q);return Re&&q.addEventListener("upgradeneeded",be=>{Re(at(q.result),be.oldVersion,be.newVersion,at(q.transaction),be)}),se&&q.addEventListener("blocked",be=>se(be.oldVersion,be.newVersion,be)),An.then(be=>{it&&be.addEventListener("close",()=>it()),Qe&&be.addEventListener("versionchange",ut=>Qe(ut.oldVersion,ut.newVersion,ut))}).catch(()=>{}),An}(ps,Ki,{upgrade:(k,R)=>{0===R&&k.createObjectStore(A)}}).catch(k=>{throw rn.create("idb-open",{originalErrorMessage:k.message})})),T}function v(){return(v=(0,C.Z)(function*(k){try{return yield(yield I()).transaction(A).objectStore(A).get(Ie(k))}catch(R){if(R instanceof Se.ZR)Xe.warn(R.message);else{const se=rn.create("idb-get",{originalErrorMessage:R?.message});Xe.warn(se.message)}}})).apply(this,arguments)}function b(k,R){return Z.apply(this,arguments)}function Z(){return(Z=(0,C.Z)(function*(k,R){try{const Re=(yield I()).transaction(A,"readwrite");yield Re.objectStore(A).put(R,Ie(k)),yield Re.done}catch(se){if(se instanceof Se.ZR)Xe.warn(se.message);else{const Re=rn.create("idb-set",{originalErrorMessage:se?.message});Xe.warn(Re.message)}}})).apply(this,arguments)}function Ie(k){return`${k.name}!${k.options.appId}`}class St{constructor(R){this.container=R,this._heartbeatsCache=null;const se=this.container.getProvider("app").getImmediate();this._storage=new xe(se),this._heartbeatsCachePromise=this._storage.read().then(Re=>(this._heartbeatsCache=Re,Re))}triggerHeartbeat(){var R=this;return(0,C.Z)(function*(){const Re=R.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qe=_e();if(null===R._heartbeatsCache&&(R._heartbeatsCache=yield R._heartbeatsCachePromise),R._heartbeatsCache.lastSentHeartbeatDate!==Qe&&!R._heartbeatsCache.heartbeats.some(it=>it.date===Qe))return R._heartbeatsCache.heartbeats.push({date:Qe,agent:Re}),R._heartbeatsCache.heartbeats=R._heartbeatsCache.heartbeats.filter(it=>{const q=new Date(it.date).valueOf();return Date.now()-q<=2592e6}),R._storage.overwrite(R._heartbeatsCache)})()}getHeartbeatsHeader(){var R=this;return(0,C.Z)(function*(){if(null===R._heartbeatsCache&&(yield R._heartbeatsCachePromise),null===R._heartbeatsCache||0===R._heartbeatsCache.heartbeats.length)return"";const se=_e(),{heartbeatsToSend:Re,unsentEntries:Qe}=function kt(k,R=1024){const se=[];let Re=k.slice();for(const Qe of k){const it=se.find(q=>q.agent===Qe.agent);if(it){if(it.dates.push(Qe.date),Un(se)>R){it.dates.pop();break}}else if(se.push({agent:Qe.agent,dates:[Qe.date]}),Un(se)>R){se.pop();break}Re=Re.slice(1)}return{heartbeatsToSend:se,unsentEntries:Re}}(R._heartbeatsCache.heartbeats),it=(0,Se.L)(JSON.stringify({version:2,heartbeats:Re}));return R._heartbeatsCache.lastSentHeartbeatDate=se,Qe.length>0?(R._heartbeatsCache.heartbeats=Qe,yield R._storage.overwrite(R._heartbeatsCache)):(R._heartbeatsCache.heartbeats=[],R._storage.overwrite(R._heartbeatsCache)),it})()}}function _e(){return(new Date).toISOString().substring(0,10)}class xe{constructor(R){this.app=R,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var R=this;return(0,C.Z)(function*(){return(yield R._canUseIndexedDBPromise)&&(yield function w(k){return v.apply(this,arguments)}(R.app))||{heartbeats:[]}})()}overwrite(R){var se=this;return(0,C.Z)(function*(){var Re;if(yield se._canUseIndexedDBPromise){const it=yield se.read();return b(se.app,{lastSentHeartbeatDate:null!==(Re=R.lastSentHeartbeatDate)&&void 0!==Re?Re:it.lastSentHeartbeatDate,heartbeats:R.heartbeats})}})()}add(R){var se=this;return(0,C.Z)(function*(){var Re;if(yield se._canUseIndexedDBPromise){const it=yield se.read();return b(se.app,{lastSentHeartbeatDate:null!==(Re=R.lastSentHeartbeatDate)&&void 0!==Re?Re:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...R.heartbeats]})}})()}}function Un(k){return(0,Se.L)(JSON.stringify({version:2,heartbeats:k})).length}!function gs(k){Xn(new H.wA("platform-logger",R=>new fn(R),"PRIVATE")),Xn(new H.wA("heartbeat",R=>new St(R),"PRIVATE")),Jr(Ci,"0.9.22",k),Jr(Ci,"0.9.22","esm2017"),Jr("fire-js","")}("")},537:($i,Nn,Fe)=>{Fe.d(Nn,{H0:()=>zt,wA:()=>x});var C=Fe(861),H=Fe(58);class x{constructor(Y,oe,Ae){this.name=Y,this.instanceFactory=oe,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const Se="[DEFAULT]";class wt{constructor(Y,oe){this.name=Y,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const oe=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(oe)){const Ae=new H.BH;if(this.instancesDeferred.set(oe,Ae),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:oe});Ke&&Ae.resolve(Ke)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(Y){var oe;const Ae=this.normalizeInstanceIdentifier(Y?.identifier),Ke=null!==(oe=Y?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Ct){if(Ke)return null;throw Ct}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function yn(gt){return"EAGER"===gt.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[oe,Ae]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(oe);try{const Ct=this.getOrInitializeService({instanceIdentifier:Ke});Ae.resolve(Ct)}catch{}}}}clearInstance(Y=Se){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,C.Z)(function*(){const oe=Array.from(Y.instances.values());yield Promise.all([...oe.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...oe.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=Se){return this.instances.has(Y)}getOptions(Y=Se){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:oe={}}=Y,Ae=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:Ae,options:oe});for(const[Ct,On]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Ct)&&On.resolve(Ke);return Ke}onInit(Y,oe){var Ae;const Ke=this.normalizeInstanceIdentifier(oe),Ct=null!==(Ae=this.onInitCallbacks.get(Ke))&&void 0!==Ae?Ae:new Set;Ct.add(Y),this.onInitCallbacks.set(Ke,Ct);const On=this.instances.get(Ke);return On&&Y(On,Ke),()=>{Ct.delete(Y)}}invokeOnInitCallbacks(Y,oe){const Ae=this.onInitCallbacks.get(oe);if(Ae)for(const Ke of Ae)try{Ke(Y,oe)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:oe={}}){let Ae=this.instances.get(Y);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(gt=Y,gt===Se?void 0:gt),options:oe}),this.instances.set(Y,Ae),this.instancesOptions.set(Y,oe),this.invokeOnInitCallbacks(Ae,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Ae)}catch{}var gt;return Ae||null}normalizeInstanceIdentifier(Y=Se){return this.component?this.component.multipleInstances?Y:Se:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zt{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const oe=this.getProvider(Y.name);if(oe.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);oe.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const oe=new wt(Y,this);return this.providers.set(Y,oe),oe}getProviders(){return Array.from(this.providers.values())}}},879:($i,Nn,Fe)=>{Fe.d(Nn,{Am:()=>gt,Ub:()=>zt,Yd:()=>yn,in:()=>H});const C=[];var H=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(H||{});const x={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},Se=H.INFO,wt={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},tn=(Y,oe,...Ae)=>{if(oe<Y.logLevel)return;const Ke=(new Date).toISOString(),Ct=wt[oe];if(!Ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Ct](`[${Ke}]  ${Y.name}:`,...Ae)};class yn{constructor(oe){this.name=oe,this._logLevel=Se,this._logHandler=tn,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in H))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?x[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...oe),this._logHandler(this,H.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...oe),this._logHandler(this,H.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,H.INFO,...oe),this._logHandler(this,H.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,H.WARN,...oe),this._logHandler(this,H.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...oe),this._logHandler(this,H.ERROR,...oe)}}function zt(Y){C.forEach(oe=>{oe.setLogLevel(Y)})}function gt(Y,oe){for(const Ae of C){let Ke=null;oe&&oe.level&&(Ke=x[oe.level]),Ae.userLogHandler=null===Y?null:(Ct,On,...lt)=>{const $e=lt.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");On>=(Ke??Ct.logLevel)&&Y({level:H[On].toLowerCase(),message:$e,args:lt,type:Ct.name})}}}},365:($i,Nn,Fe)=>{Fe.r(Nn);var C=Fe(861),H=Fe(106),x=Fe(560),Se=Fe(58),yn=(Fe(534),Fe(879),Fe(537));function zt(){return window}function oe(){return oe=(0,C.Z)(function*(I,w,v){var b;const{BuildInfo:Z}=zt();(0,x.at)(w.sessionId,"AuthEvent did not contain a session ID");const Ie=yield function He(I){return kn.apply(this,arguments)}(w.sessionId),Ce={};return(0,x.au)()?Ce.ibi=Z.packageName:(0,x.av)()?Ce.apn=Z.packageName:(0,x.aw)(I,"operation-not-supported-in-this-environment"),Z.displayName&&(Ce.appDisplayName=Z.displayName),Ce.sessionId=Ie,(0,x.ax)(I,v,w.type,void 0,null!==(b=w.eventId)&&void 0!==b?b:void 0,Ce)}),oe.apply(this,arguments)}function Ke(){return(Ke=(0,C.Z)(function*(I){const{BuildInfo:w}=zt(),v={};(0,x.au)()?v.iosBundleId=w.packageName:(0,x.av)()?v.androidPackageName=w.packageName:(0,x.aw)(I,"operation-not-supported-in-this-environment"),yield(0,x.ay)(I,v)})).apply(this,arguments)}function lt(){return(lt=(0,C.Z)(function*(I,w,v){const{cordova:b}=zt();let Z=()=>{};try{yield new Promise((Ie,Ce)=>{let ze=null;function St(){var xe;Ie();const Un=null===(xe=b.plugins.browsertab)||void 0===xe?void 0:xe.close;"function"==typeof Un&&Un(),"function"==typeof v?.close&&v.close()}function _e(){ze||(ze=window.setTimeout(()=>{Ce((0,x.aA)(I,"redirect-cancelled-by-user"))},2e3))}function kt(){"visible"===document?.visibilityState&&_e()}w.addPassiveListener(St),document.addEventListener("resume",_e,!1),(0,x.av)()&&document.addEventListener("visibilitychange",kt,!1),Z=()=>{w.removePassiveListener(St),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",kt,!1),ze&&window.clearTimeout(ze)}})}finally{Z()}})).apply(this,arguments)}function kn(){return(kn=(0,C.Z)(function*(I){const w=function hn(I){if((0,x.at)(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const w=new ArrayBuffer(I.length),v=new Uint8Array(w);for(let b=0;b<I.length;b++)v[b]=I.charCodeAt(b);return v}(I),v=yield crypto.subtle.digest("SHA-256",w);return Array.from(new Uint8Array(v)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Pt extends x.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(w=>{this.resolveInialized=w})}addPassiveListener(w){this.passiveListeners.add(w)}removePassiveListener(w){this.passiveListeners.delete(w)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(w){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(w)),super.onEvent(w)}initialized(){var w=this;return(0,C.Z)(function*(){yield w.initPromise})()}}function tt(I){return re.apply(this,arguments)}function re(){return(re=(0,C.Z)(function*(I){const w=yield fn()._get(vn(I));return w&&(yield fn()._remove(vn(I))),w})).apply(this,arguments)}function Gt(){const I=[];for(let v=0;v<20;v++){const b=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return I.join("")}function fn(){return(0,x.aD)(x.b)}function vn(I){return(0,x.aE)("authEvent",I.config.apiKey,I.name)}function Xe(I){if(!I?.includes("?"))return{};const[w,...v]=I.split("?");return(0,Se.zd)(v.join("?"))}const L=class Hi{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aF,this._overrideRedirectResult=x.aG}_initialize(w){var v=this;return(0,C.Z)(function*(){const b=w._key();let Z=v.eventManagers.get(b);return Z||(Z=new Pt(w),v.eventManagers.set(b,Z),v.attachCallbackListeners(w,Z)),Z})()}_openPopup(w){(0,x.aw)(w,"operation-not-supported-in-this-environment")}_openRedirect(w,v,b,Z){var Ie=this;return(0,C.Z)(function*(){!function $e(I){var w,v,b,Z,Ie,Ce,ze,St,_e,kt;const xe=zt();(0,x.aB)("function"==typeof(null===(w=xe?.universalLinks)||void 0===w?void 0:w.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.aB)(typeof(null===(v=xe?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.aB)("function"==typeof(null===(Ie=null===(Z=null===(b=xe?.cordova)||void 0===b?void 0:b.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ie?void 0:Ie.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aB)("function"==typeof(null===(St=null===(ze=null===(Ce=xe?.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===St?void 0:St.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aB)("function"==typeof(null===(kt=null===(_e=xe?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===kt?void 0:kt.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(w);const Ce=yield Ie._initialize(w);yield Ce.initialized(),Ce.resetRedirect(),(0,x.aH)(),yield Ie._originValidation(w);const ze=function Gr(I,w,v=null){return{type:w,eventId:v,urlResponse:null,sessionId:Gt(),postBody:null,tenantId:I.tenantId,error:(0,x.aA)(I,"no-auth-event")}}(w,b,Z);yield function Tn(I,w){return fn()._set(vn(I),w)}(w,ze);const St=yield function Y(I,w,v){return oe.apply(this,arguments)}(w,ze,v),_e=yield function Ct(I){const{cordova:w}=zt();return new Promise(v=>{w.plugins.browsertab.isAvailable(b=>{let Z=null;b?w.plugins.browsertab.openUrl(I):Z=w.InAppBrowser.open(I,(0,x.az)()?"_blank":"_system","location=yes"),v(Z)})})}(St);return function On(I,w,v){return lt.apply(this,arguments)}(w,Ce,_e)})()}_isIframeWebStorageSupported(w,v){throw new Error("Method not implemented.")}_originValidation(w){const v=w._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ae(I){return Ke.apply(this,arguments)}(w)),this.originValidationPromises[v]}attachCallbackListeners(w,v){const{universalLinks:b,handleOpenURL:Z,BuildInfo:Ie}=zt(),Ce=setTimeout((0,C.Z)(function*(){yield tt(w),v.onEvent(j())}),500),ze=function(){var kt=(0,C.Z)(function*(xe){clearTimeout(Ce);const Un=yield tt(w);let gs=null;Un&&xe?.url&&(gs=function ht(I,w){var v,b;const Z=function Di(I){const w=Xe(I),v=w.link?decodeURIComponent(w.link):void 0,b=Xe(v).link,Z=w.deep_link_id?decodeURIComponent(w.deep_link_id):void 0;return Xe(Z).link||Z||b||v||I}(w);if(Z.includes("/__/auth/callback")){const Ie=Xe(Z),Ce=Ie.firebaseError?function Ci(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(Ie.firebaseError)):null,ze=null===(b=null===(v=Ce?.code)||void 0===v?void 0:v.split("auth/"))||void 0===b?void 0:b[1],St=ze?(0,x.aA)(ze):null;return St?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:Z,postBody:null}}return null}(Un,xe.url)),v.onEvent(gs||j())});return function(Un){return kt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ze);const St=Z,_e=`${Ie.packageName.toLowerCase()}://`;zt().handleOpenURL=function(){var kt=(0,C.Z)(function*(xe){if(xe.toLowerCase().startsWith(_e)&&ze({url:xe}),"function"==typeof St)try{St(xe)}catch(Un){console.error(Un)}});return function(xe){return kt.apply(this,arguments)}}()}};function j(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.aA)("no-auth-event")}}function fe(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function ge(I=(0,Se.z$)()){return!("file:"!==fe()&&"ionic:"!==fe()&&"capacitor:"!==fe()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function nn(){try{const I=self.localStorage,w=x.aM();if(I)return I.setItem(w,"1"),I.removeItem(w),!function Ut(I=(0,Se.z$)()){return function mt(){return(0,Se.w1)()&&11===document?.documentMode}()||function Kt(I=(0,Se.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,Se.hl)()}catch{return Vn()&&(0,Se.hl)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function st(){return"http:"===fe()||"https:"===fe()}()||(0,Se.ru)()||ge())&&!function Ve(){return(0,Se.b$)()||(0,Se.UG)()}()&&nn()&&!Vn()}function Jn(){return ge()&&typeof document<"u"}function Ti(){return(Ti=(0,C.Z)(function*(){return!!Jn()&&new Promise(I=>{const w=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(w),I(!0)})})})).apply(this,arguments)}const _t={LOCAL:"local",NONE:"none",SESSION:"session"},qi=x.aB,Gi="persistence";function Ai(I){return ar.apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(I){yield I._initializationPromise;const w=Kr(),v=x.aE(Gi,I.config.apiKey,I.name);w&&w.setItem(v,I._getPersistence())})).apply(this,arguments)}function Kr(){var I;try{return(null===(I=function zi(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const Qr=x.aB;class Xn{constructor(){this.browserResolver=x.aD(x.k),this.cordovaResolver=x.aD(L),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aF,this._overrideRedirectResult=x.aG}_initialize(w){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(w)})()}_openPopup(w,v,b,Z){var Ie=this;return(0,C.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openPopup(w,v,b,Z)})()}_openRedirect(w,v,b,Z){var Ie=this;return(0,C.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openRedirect(w,v,b,Z)})()}_isIframeWebStorageSupported(w,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(w,v)}_originValidation(w){return this.assertedUnderlyingResolver._originValidation(w)}get _shouldInitProactively(){return Jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var w=this;return(0,C.Z)(function*(){if(w.underlyingResolver)return;const v=yield function Rr(){return Ti.apply(this,arguments)}();w.underlyingResolver=v?w.cordovaResolver:w.browserResolver})()}}function Mt(I){return I.unwrap()}function In(I){return rn(I)}function rn(I){const{_tokenResponse:w}=I instanceof Se.ZR?I.customData:I;if(!w)return null;if(!(I instanceof Se.ZR)&&"temporaryProof"in w&&"phoneNumber"in w)return x.P.credentialFromResult(I);const v=w.providerId;if(!v||v===x.p.PASSWORD)return null;let b;switch(v){case x.p.GOOGLE:b=x.W;break;case x.p.FACEBOOK:b=x.V;break;case x.p.GITHUB:b=x.X;break;case x.p.TWITTER:b=x._;break;default:const{oauthIdToken:Z,oauthAccessToken:Ie,oauthTokenSecret:Ce,pendingToken:ze,nonce:St}=w;return Ie||Ce||Z||ze?ze?v.startsWith("saml.")?x.aP._create(v,ze):x.M._fromParams({providerId:v,signInMethod:v,pendingToken:ze,idToken:Z,accessToken:Ie}):new x.Y(v).credential({idToken:Z,accessToken:Ie,rawNonce:St}):null}return I instanceof Se.ZR?b.credentialFromError(I):b.credentialFromResult(I)}function En(I,w){return w.catch(v=>{throw v instanceof Se.ZR&&function Ja(I,w){var v;const b=null===(v=w.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===w?.code)w.resolver=new Si(I,x.ar(I,w));else if(b){const Z=rn(w),Ie=w;Z&&(Ie.credential=Z,Ie.tenantId=b.tenantId||void 0,Ie.email=b.email||void 0,Ie.phoneNumber=b.phoneNumber||void 0)}}(I,v),v}).then(v=>{const Z=v.user;return{operationType:v.operationType,credential:In(v),additionalUserInfo:x.ap(v),user:Ln.getOrCreate(Z)}})}function Wi(I,w){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,C.Z)(function*(I,w){const v=yield w;return{verificationId:v.verificationId,confirm:b=>En(I,v.confirm(b))}})).apply(this,arguments)}class Si{constructor(w,v){this.resolver=v,this.auth=function Yr(I){return I.wrapped()}(w)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(w){return En(Mt(this.auth),this.resolver.resolveSignIn(w))}}class Ln{constructor(w){this._delegate=w,this.multiFactor=x.as(w)}static getOrCreate(w){return Ln.USER_MAP.has(w)||Ln.USER_MAP.set(w,new Ln(w)),Ln.USER_MAP.get(w)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(w){return this._delegate.getIdTokenResult(w)}getIdToken(w){return this._delegate.getIdToken(w)}linkAndRetrieveDataWithCredential(w){return this.linkWithCredential(w)}linkWithCredential(w){var v=this;return(0,C.Z)(function*(){return En(v.auth,x.a1(v._delegate,w))})()}linkWithPhoneNumber(w,v){var b=this;return(0,C.Z)(function*(){return Wi(b.auth,x.l(b._delegate,w,v))})()}linkWithPopup(w){var v=this;return(0,C.Z)(function*(){return En(v.auth,x.d(v._delegate,w,Xn))})()}linkWithRedirect(w){var v=this;return(0,C.Z)(function*(){return yield Ai(x.aI(v.auth)),x.g(v._delegate,w,Xn)})()}reauthenticateAndRetrieveDataWithCredential(w){return this.reauthenticateWithCredential(w)}reauthenticateWithCredential(w){var v=this;return(0,C.Z)(function*(){return En(v.auth,x.a2(v._delegate,w))})()}reauthenticateWithPhoneNumber(w,v){return Wi(this.auth,x.r(this._delegate,w,v))}reauthenticateWithPopup(w){return En(this.auth,x.e(this._delegate,w,Xn))}reauthenticateWithRedirect(w){var v=this;return(0,C.Z)(function*(){return yield Ai(x.aI(v.auth)),x.h(v._delegate,w,Xn)})()}sendEmailVerification(w){return x.af(this._delegate,w)}unlink(w){var v=this;return(0,C.Z)(function*(){return yield x.ao(v._delegate,w),v})()}updateEmail(w){return x.ak(this._delegate,w)}updatePassword(w){return x.al(this._delegate,w)}updatePhoneNumber(w){return x.u(this._delegate,w)}updateProfile(w){return x.aj(this._delegate,w)}verifyBeforeUpdateEmail(w,v){return x.ag(this._delegate,w,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ln.USER_MAP=new WeakMap;const bn=x.aB;let ur=(()=>{class I{constructor(v,b){if(this.app=v,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=v.options;bn(Z,"invalid-api-key",{appName:v.name}),bn(Z,"invalid-api-key",{appName:v.name});const Ie=typeof window<"u"?Xn:void 0;this._delegate=b.initialize({options:{persistence:Zs(Z,v.name),popupRedirectResolver:Ie}}),this._delegate._updateErrorMap(x.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,b){x.J(this._delegate,v,b)}applyActionCode(v){return x.a6(this._delegate,v)}checkActionCode(v){return x.a7(this._delegate,v)}confirmPasswordReset(v,b){return x.a5(this._delegate,v,b)}createUserWithEmailAndPassword(v,b){var Z=this;return(0,C.Z)(function*(){return En(Z._delegate,x.a9(Z._delegate,v,b))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return x.ae(this._delegate,v)}isSignInWithEmailLink(v){return x.ac(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){bn(Fn(),v._delegate,"operation-not-supported-in-this-environment");const b=yield x.j(v._delegate,Xn);return b?En(v._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function $(I,w){(0,x.aI)(I)._logFramework(w)}(this._delegate,v)}onAuthStateChanged(v,b,Z){const{next:Ie,error:Ce,complete:ze}=Jr(v,b,Z);return this._delegate.onAuthStateChanged(Ie,Ce,ze)}onIdTokenChanged(v,b,Z){const{next:Ie,error:Ce,complete:ze}=Jr(v,b,Z);return this._delegate.onIdTokenChanged(Ie,Ce,ze)}sendSignInLinkToEmail(v,b){return x.ab(this._delegate,v,b)}sendPasswordResetEmail(v,b){return x.a4(this._delegate,v,b||void 0)}setPersistence(v){var b=this;return(0,C.Z)(function*(){let Z;switch(function bi(I,w){qi(Object.values(_t).includes(w),I,"invalid-persistence-type"),(0,Se.b$)()?qi(w!==_t.SESSION,I,"unsupported-persistence-type"):(0,Se.UG)()?qi(w===_t.NONE,I,"unsupported-persistence-type"):Vn()?qi(w===_t.NONE||w===_t.LOCAL&&(0,Se.hl)(),I,"unsupported-persistence-type"):qi(w===_t.NONE||nn(),I,"unsupported-persistence-type")}(b._delegate,v),v){case _t.SESSION:Z=x.a;break;case _t.LOCAL:Z=(yield x.aD(x.i)._isAvailable())?x.i:x.b;break;case _t.NONE:Z=x.Q;break;default:return x.aw("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return En(this._delegate,x.$(this._delegate))}signInWithCredential(v){return En(this._delegate,x.a0(this._delegate,v))}signInWithCustomToken(v){return En(this._delegate,x.a3(this._delegate,v))}signInWithEmailAndPassword(v,b){return En(this._delegate,x.aa(this._delegate,v,b))}signInWithEmailLink(v,b){return En(this._delegate,x.ad(this._delegate,v,b))}signInWithPhoneNumber(v,b){return Wi(this._delegate,x.s(this._delegate,v,b))}signInWithPopup(v){var b=this;return(0,C.Z)(function*(){return bn(Fn(),b._delegate,"operation-not-supported-in-this-environment"),En(b._delegate,x.c(b._delegate,v,Xn))})()}signInWithRedirect(v){var b=this;return(0,C.Z)(function*(){return bn(Fn(),b._delegate,"operation-not-supported-in-this-environment"),yield Ai(b._delegate),x.f(b._delegate,v,Xn)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return x.a8(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=_t,I})();function Jr(I,w,v){let b=I;"function"!=typeof I&&({next:b,error:w,complete:v}=I);const Z=b;return{next:Ce=>Z(Ce&&Ln.getOrCreate(Ce)),error:w,complete:v}}function Zs(I,w){const v=function Zr(I,w){const v=Kr();if(!v)return[];const b=x.aE(Gi,I,w);switch(v.getItem(b)){case _t.NONE:return[x.Q];case _t.LOCAL:return[x.i,x.a];case _t.SESSION:return[x.a];default:return[]}}(I,w);if(typeof self<"u"&&!v.includes(x.i)&&v.push(x.i),typeof window<"u")for(const b of[x.b,x.a])v.includes(b)||v.push(b);return v.includes(x.Q)||v.push(x.Q),v}class No{constructor(){this.providerId="phone",this._delegate=new x.P(Mt(H.Z.auth()))}static credential(w,v){return x.P.credential(w,v)}verifyPhoneNumber(w,v){return this._delegate.verifyPhoneNumber(w,v)}unwrap(){return this._delegate}}No.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,No.PROVIDER_ID=x.P.PROVIDER_ID;const ps=x.aB;class Ki{constructor(w,v,b=H.Z.app()){var Z;ps(null===(Z=b.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new x.R(b.auth(),w,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function T(I){I.INTERNAL.registerComponent(new yn.wA("auth-compat",w=>{const v=w.getProvider("app-compat").getImmediate(),b=w.getProvider("auth");return new ur(v,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.U,FacebookAuthProvider:x.V,GithubAuthProvider:x.X,GoogleAuthProvider:x.W,OAuthProvider:x.Y,SAMLAuthProvider:x.Z,PhoneAuthProvider:No,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:Ki,TwitterAuthProvider:x._,Auth:ur,AuthCredential:x.K,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.8")}(H.Z)},861:($i,Nn,Fe)=>{function C(x,Se,wt,tn,yn,zt,gt){try{var Y=x[zt](gt),oe=Y.value}catch(Ae){return void wt(Ae)}Y.done?Se(oe):Promise.resolve(oe).then(tn,yn)}function H(x){return function(){var Se=this,wt=arguments;return new Promise(function(tn,yn){var zt=x.apply(Se,wt);function gt(oe){C(zt,tn,yn,gt,Y,"next",oe)}function Y(oe){C(zt,tn,yn,gt,Y,"throw",oe)}gt(void 0)})}}Fe.d(Nn,{Z:()=>H})},582:($i,Nn,Fe)=>{function Se(L,j){var $={};for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&j.indexOf(F)<0&&($[F]=L[F]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(F=Object.getOwnPropertySymbols(L);X<F.length;X++)j.indexOf(F[X])<0&&Object.prototype.propertyIsEnumerable.call(L,F[X])&&($[F[X]]=L[F[X]])}return $}function Ae(L,j,$,F){return new($||($=Promise))(function(J,fe){function st(mt){try{Ve(F.next(mt))}catch(Kt){fe(Kt)}}function ge(mt){try{Ve(F.throw(mt))}catch(Kt){fe(Kt)}}function Ve(mt){mt.done?J(mt.value):function X(J){return J instanceof $?J:new $(function(fe){fe(J)})}(mt.value).then(st,ge)}Ve((F=F.apply(L,j||[])).next())})}function at(L){return this instanceof at?(this.v=L,this):new at(L)}function Pt(L,j,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,F=$.apply(L,j||[]),J=[];return X={},fe("next"),fe("throw"),fe("return"),X[Symbol.asyncIterator]=function(){return this},X;function fe(Ut){F[Ut]&&(X[Ut]=function(nn){return new Promise(function(Vn,Fn){J.push([Ut,nn,Vn,Fn])>1||st(Ut,nn)})})}function st(Ut,nn){try{!function ge(Ut){Ut.value instanceof at?Promise.resolve(Ut.value.v).then(Ve,mt):Kt(J[0][2],Ut)}(F[Ut](nn))}catch(Vn){Kt(J[0][3],Vn)}}function Ve(Ut){st("next",Ut)}function mt(Ut){st("throw",Ut)}function Kt(Ut,nn){Ut(nn),J.shift(),J.length&&st(J[0][0],J[0][1])}}function Tn(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,j=L[Symbol.asyncIterator];return j?j.call(L):(L=function lt(L){var j="function"==typeof Symbol&&Symbol.iterator,$=j&&L[j],F=0;if($)return $.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&F>=L.length&&(L=void 0),{value:L&&L[F++],done:!L}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(L),$={},F("next"),F("throw"),F("return"),$[Symbol.asyncIterator]=function(){return this},$);function F(J){$[J]=L[J]&&function(fe){return new Promise(function(st,ge){!function X(J,fe,st,ge){Promise.resolve(ge).then(function(Ve){J({value:Ve,done:st})},fe)}(st,ge,(fe=L[J](fe)).done,fe.value)})}}}Fe.d(Nn,{FC:()=>Pt,KL:()=>Tn,_T:()=>Se,mG:()=>Ae,qq:()=>at}),"function"==typeof SuppressedError&&SuppressedError}},$i=>{$i($i.s=841)}]);