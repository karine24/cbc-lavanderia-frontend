"use strict";(self.webpackChunkcbc_lavanderia_frontend=self.webpackChunkcbc_lavanderia_frontend||[]).push([[179],{560:(Hi,kn,Fe)=>{Fe.d(kn,{$:()=>cu,A:()=>se,E:()=>Ct,J:()=>$v,K:()=>Ko,M:()=>ms,P:()=>Gg,Q:()=>Z,R:()=>cI,U:()=>ea,V:()=>Zv,W:()=>Kv,X:()=>_s,Y:()=>au,Z:()=>ft,_:()=>bc,a:()=>Og,a0:()=>du,a1:()=>Ag,a2:()=>Sg,a3:()=>Yv,a4:()=>Be,a5:()=>vt,a6:()=>vr,a7:()=>xr,a8:()=>Rg,a9:()=>Jv,aA:()=>xt,aB:()=>re,aC:()=>Jg,aD:()=>v,aE:()=>Ee,aF:()=>Zc,aG:()=>Qg,aH:()=>pI,aI:()=>yt,aM:()=>Mi,aP:()=>cr,aa:()=>mn,ab:()=>ve,ac:()=>Jt,ad:()=>Pi,ae:()=>Dn,af:()=>na,ag:()=>fu,aj:()=>pu,ak:()=>es,al:()=>gu,ao:()=>Tg,ap:()=>rs,ar:()=>Ub,as:()=>Hb,at:()=>Zt,au:()=>R,av:()=>jn,aw:()=>at,ax:()=>pa,ay:()=>ss,az:()=>ae,b:()=>mh,c:()=>ti,d:()=>js,e:()=>hI,f:()=>ha,g:()=>ee,h:()=>mI,i:()=>Ug,j:()=>Mt,k:()=>Cu,l:()=>lI,m:()=>am,o:()=>xI,p:()=>Gt,r:()=>qg,s:()=>ei,u:()=>dI});var C=Fe(861),$=Fe(58),N=Fe(534),Se=Fe(879),wt=Fe(582),rn=Fe(537);const Gt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ct=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Vn=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new Se.Yd("@firebase/auth");function pn(f,...c){ze.logLevel<=Se.in.ERROR&&ze.error(`Auth (${N.SDK_VERSION}): ${f}`,...c)}function at(f,...c){throw tt(f,...c)}function xt(f,...c){return tt(f,...c)}function Gr(f,c,d){const p=Object.assign(Object.assign({},Vn()),{[c]:d});return new $.LL("auth","Firebase",p).create(c,{appName:f.name})}function An(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&at(f,"argument-error"),Gr(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return lt.create(f,...c)}function re(f,c,...d){if(!f)throw tt(c,...d)}function ht(f){const c="INTERNAL ASSERTION FAILED: "+f;throw pn(c),new Error(c)}function Zt(f,c){f||ht(c)}function gn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function En(){return"http:"===Ci()||"https:"===Ci()}function Ci(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Wr{constructor(c,d){this.shortDelay=c,this.longDelay=d,Zt(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Di(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(En()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $i(f,c){Zt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class U{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},H=new Wr(3e4,6e4);function L(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function X(f,c,d,p){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(f,c,d,p,_={}){return ge(f,_,(0,C.Z)(function*(){let E={},P={};p&&("GET"===c?P=p:E={body:JSON.stringify(p)});const V=(0,$.xO)(Object.assign({key:f.config.apiKey},P)).slice(1),ne=yield f._getAdditionalHeaders();return ne["Content-Type"]="application/json",f.languageCode&&(ne["X-Firebase-Locale"]=f.languageCode),U.fetch()(mt(f,f.config.apiHost,d,V),Object.assign({method:c,headers:ne,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function ge(f,c,d){return ot.apply(this,arguments)}function ot(){return(ot=(0,C.Z)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},j),c);try{const _=new jt(f),E=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const P=yield E.json();if("needConfirmation"in P)throw sn(f,"account-exists-with-different-credential",P);if(E.ok&&!("errorMessage"in P))return P;{const V=E.ok?P.errorMessage:P.error.message,[ne,we]=V.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ne)throw sn(f,"credential-already-in-use",P);if("EMAIL_EXISTS"===ne)throw sn(f,"email-already-in-use",P);if("USER_DISABLED"===ne)throw sn(f,"user-disabled",P);const Oe=p[ne]||ne.toLowerCase().replace(/[_\s]+/g,"-");if(we)throw Gr(f,Oe,we);at(f,Oe)}}catch(_){if(_ instanceof $.ZR)throw _;at(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function _e(f,c,d,p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,C.Z)(function*(f,c,d,p,_={}){const E=yield X(f,c,d,p,_);return"mfaPendingCredential"in E&&at(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function mt(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?$i(f.config,_):`${f.config.apiScheme}://${_}`}function Yt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(xt(this.auth,"network-request-failed")),H.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sn(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=xt(f,c,p);return _.customData._tokenResponse=d,_}function Ln(f){return void 0!==f&&void 0!==f.getResponse}function Un(f){return void 0!==f&&void 0!==f.enterprise}class er{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return Yt(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Ti(){return(Ti=(0,C.Z)(function*(f){return(yield X(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zi(f,c){return _t.apply(this,arguments)}function _t(){return(_t=(0,C.Z)(function*(f,c){return X(f,"GET","/v2/recaptchaConfig",L(f,c))})).apply(this,arguments)}function Gi(){return(Gi=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ai(){return(Ai=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Zr(){return(Zr=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Kr(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Nt(){return(Nt=(0,C.Z)(function*(f,c=!1){const d=(0,$.m9)(f),p=yield d.getIdToken(c),_=wn(p);re(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const E="object"==typeof _.firebase?_.firebase:void 0,P=E?.sign_in_provider;return{claims:_,token:p,authTime:Kr(Yr(_.auth_time)),issuedAtTime:Kr(Yr(_.iat)),expirationTime:Kr(Yr(_.exp)),signInProvider:P||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function Yr(f){return 1e3*Number(f)}function wn(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return pn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,$.tV)(d);return _?JSON.parse(_):(pn("Failed to decode base64 JWT payload"),null)}catch(_){return pn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function on(f,c){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,C.Z)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof $.ZR&&function Wi({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Zi{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,C.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class Si{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kr(this.lastLoginAt),this.creationTime=Kr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(f){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,C.Z)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield on(f,function ar(f,c){return Zr.apply(this,arguments)}(d,{idToken:p}));re(_?.users.length,d,"internal-error");const E=_.users[0];f._notifyReloadListener(E);const P=null!==(c=E.providerUserInfo)&&void 0!==c&&c.length?function xs(f){return f.map(c=>{var{providerId:d}=c,p=(0,wt._T)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(E.providerUserInfo):[],V=function Zo(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,P),Oe=!!f.isAnonymous&&!(f.email&&E.passwordHash||V?.length),dt={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:V,metadata:new Si(E.createdAt,E.lastLoginAt),isAnonymous:Oe};Object.assign(f,dt)}),Sn.apply(this,arguments)}function Jr(){return(Jr=(0,C.Z)(function*(f){const c=(0,$.m9)(f);yield Bn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ki(){return(Ki=(0,C.Z)(function*(f,c){const d=yield ge(f,{},(0,C.Z)(function*(){const p=(0,$.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:E}=f.config,P=mt(f,_,"/v1/token",`key=${E}`),V=yield f._getAdditionalHeaders();return V["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(P,{method:"POST",headers:V,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class S{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){re(c.idToken,"internal-error"),re(typeof c.idToken<"u","internal-error"),re(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function eu(f){const c=wn(f);return re(c,"internal-error"),re(typeof c.exp<"u","internal-error"),re(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,C.Z)(function*(){return re(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:E,expiresIn:P}=yield function po(f,c){return Ki.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,E,Number(P))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:E}=d,P=new S;return p&&(re("string"==typeof p,"internal-error",{appName:c}),P.refreshToken=p),_&&(re("string"==typeof _,"internal-error",{appName:c}),P.accessToken=_),E&&(re("number"==typeof E,"internal-error",{appName:c}),P.expirationTime=E),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new S,this.toJSON())}_performRefresh(){return ht("not implemented")}}function T(f,c){re("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class I{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,E=(0,wt._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new Si(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,C.Z)(function*(){const p=yield on(d,d.stsTokenManager.getToken(d.auth,c));return re(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function tr(f){return Nt.apply(this,arguments)}(this,c)}reload(){return function ur(f){return Jr.apply(this,arguments)}(this)}_assign(c){this!==c&&(re(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new I(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,C.Z)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield Bn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,C.Z)(function*(){const d=yield c.getIdToken();return yield on(c,function qi(f,c){return Gi.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,E,P,V,ne,we,Oe;const dt=null!==(p=d.displayName)&&void 0!==p?p:void 0,nr=null!==(_=d.email)&&void 0!==_?_:void 0,as=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,rl=null!==(P=d.photoURL)&&void 0!==P?P:void 0,Uh=null!==(V=d.tenantId)&&void 0!==V?V:void 0,il=null!==(ne=d._redirectEventId)&&void 0!==ne?ne:void 0,Bh=null!==(we=d.createdAt)&&void 0!==we?we:void 0,jh=null!==(Oe=d.lastLoginAt)&&void 0!==Oe?Oe:void 0,{uid:Hh,emailVerified:Tu,isAnonymous:$s,providerData:$h,stsTokenManager:zh}=d;re(Hh&&zh,c,"internal-error");const um=S.fromJSON(this.name,zh);re("string"==typeof Hh,c,"internal-error"),T(dt,c.name),T(nr,c.name),re("boolean"==typeof Tu,c,"internal-error"),re("boolean"==typeof $s,c,"internal-error"),T(as,c.name),T(rl,c.name),T(Uh,c.name),T(il,c.name),T(Bh,c.name),T(jh,c.name);const Co=new I({uid:Hh,auth:c,email:nr,emailVerified:Tu,displayName:dt,isAnonymous:$s,photoURL:rl,phoneNumber:as,tenantId:Uh,stsTokenManager:um,createdAt:Bh,lastLoginAt:jh});return $h&&Array.isArray($h)&&(Co.providerData=$h.map(NI=>Object.assign({},NI))),il&&(Co._redirectEventId=il),Co}static _fromIdTokenResponse(c,d,p=!1){return(0,C.Z)(function*(){const _=new S;_.updateFromServerResponse(d);const E=new I({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Bn(E),E})()}}const w=new Map;function v(f){Zt(f instanceof Function,"Expected a class definition");let c=w.get(f);return c?(Zt(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,w.set(f,c),c)}const Z=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,C.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,C.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Ee(f,c,d){return`firebase:${f}:${c}:${d}`}class Ce{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:E}=this.auth;this.fullUserKey=Ee(this.userKey,_.apiKey,E),this.fullPersistenceKey=Ee("persistence",_.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,C.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?I._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,C.Z)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,C.Z)(function*(){if(!d.length)return new Ce(v(Z),c,p);const _=(yield Promise.all(d.map(function(){var we=(0,C.Z)(function*(Oe){if(yield Oe._isAvailable())return Oe});return function(Oe){return we.apply(this,arguments)}}()))).filter(we=>we);let E=_[0]||v(Z);const P=Ee(p,c.config.apiKey,c.name);let V=null;for(const we of d)try{const Oe=yield we._get(P);if(Oe){const dt=I._fromJSON(c,Oe);we!==E&&(V=dt),E=we;break}}catch{}const ne=_.filter(we=>we._shouldAllowMigration);return E._shouldAllowMigration&&ne.length?(E=ne[0],V&&(yield E._set(P,V.toJSON())),yield Promise.all(d.map(function(){var we=(0,C.Z)(function*(Oe){if(Oe!==E)try{yield Oe._remove(P)}catch{}});return function(Oe){return we.apply(this,arguments)}}())),new Ce(E,c,p)):new Ce(E,c,p)})()}}function qe(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(xe(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Pt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(go(c))return"Blackberry";if(k(c))return"Webos";if(ye(c))return"Safari";if((c.includes("chrome/")||Lt(c))&&!c.includes("edge/"))return"Chrome";if(jn(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Pt(f=(0,$.z$)()){return/firefox\//i.test(f)}function ye(f=(0,$.z$)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Lt(f=(0,$.z$)()){return/crios\//i.test(f)}function xe(f=(0,$.z$)()){return/iemobile/i.test(f)}function jn(f=(0,$.z$)()){return/android/i.test(f)}function go(f=(0,$.z$)()){return/blackberry/i.test(f)}function k(f=(0,$.z$)()){return/webos/i.test(f)}function R(f=(0,$.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function ae(f=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function it(f=(0,$.z$)()){return R(f)||jn(f)||k(f)||go(f)||/windows phone/i.test(f)||xe(f)}function Rn(f,c=[]){let d;switch(f){case"Browser":d=qe((0,$.z$)());break;case"Worker":d=`${qe((0,$.z$)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${N.SDK_VERSION}/${p}`}class be{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=E=>new Promise((P,V)=>{try{P(c(E))}catch(ne){V(ne)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const E of p)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function mo(){return(mo=(0,C.Z)(function*(f,c={}){return X(f,"GET","/v2/passwordPolicy",L(f,c))})).apply(this,arguments)}class Uv{constructor(c){var d,p,_,E;const P=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=P.minPasswordLength)&&void 0!==d?d:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(E=c.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,E,P,V;const ne={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,ne),this.validatePasswordCharacterOptions(c,ne),ne.isValid&&(ne.isValid=null===(d=ne.meetsMinPasswordLength)||void 0===d||d),ne.isValid&&(ne.isValid=null===(p=ne.meetsMaxPasswordLength)||void 0===p||p),ne.isValid&&(ne.isValid=null===(_=ne.containsLowercaseLetter)||void 0===_||_),ne.isValid&&(ne.isValid=null===(E=ne.containsUppercaseLetter)||void 0===E||E),ne.isValid&&(ne.isValid=null===(P=ne.containsNumericCharacter)||void 0===P||P),ne.isValid&&(ne.isValid=null===(V=ne.containsNonAlphanumericCharacter)||void 0===V||V),ne}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,E){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=E))}}class Gd{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=v(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,E;if(!p._deleted&&(p.persistenceManager=yield Ce.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(E=p.currentUser)||void 0===E?void 0:E.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,C.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,C.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let E=_,P=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const V=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,ne=E?._redirectEventId,we=yield d.tryRedirectSignIn(c);(!V||V===ne)&&we?.user&&(E=we.user,P=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(P)try{yield d.beforeStateQueue.runMiddleware(E)}catch(V){E=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(V))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return re(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(c){var d=this;return(0,C.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,C.Z)(function*(){try{yield Bn(c)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,C.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,C.Z)(function*(){const p=c?(0,$.m9)(c):null;return p&&re(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,C.Z)(function*(){if(!p._deleted)return c&&re(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,C.Z)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,C.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(v(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,C.Z)(function*(){const d=yield function ut(f){return mo.apply(this,arguments)}(c),p=new Uv(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new $.LL("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,C.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const p=c&&v(c)||d._popupRedirectResolver;re(p,d,"argument-error"),d.redirectPersistenceManager=yield Ce.create(d,[v(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,C.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,C.Z)(function*(){if(c===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let P=!1;const V=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(V,this,"internal-error"),V.then(()=>{P||E(this.currentUser)}),"function"==typeof d){const ne=c.addObserver(d,p,_);return()=>{P=!0,ne()}}{const ne=c.addObserver(d);return()=>{P=!0,ne()}}}directlySetCurrentUser(c){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,C.Z)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const E=yield c._getAppCheckToken();return E&&(p["X-Firebase-AppCheck"]=E),p})()}_getAppCheckToken(){var c=this;return(0,C.Z)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function Fn(f,...c){ze.logLevel<=Se.in.WARN&&ze.warn(`Auth (${N.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function yt(f){return(0,$.m9)(f)}class Bv{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,$.ne)(d=>this.observer=d)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _g(f){return new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const E=xt("internal-error");E.customData=_,d(E)},p.type="text/javascript",p.charset="UTF-8",function jv(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)})}function Ns(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Hv{constructor(c){this.type="recaptcha-enterprise",this.auth=yt(c)}verify(c="verify",d=!1){var p=this;return(0,C.Z)(function*(){function E(){return E=(0,C.Z)(function*(V){if(!d){if(null==V.tenantId&&null!=V._agentRecaptchaConfig)return V._agentRecaptchaConfig.siteKey;if(null!=V.tenantId&&void 0!==V._tenantRecaptchaConfigs[V.tenantId])return V._tenantRecaptchaConfigs[V.tenantId].siteKey}return new Promise(function(){var ne=(0,C.Z)(function*(we,Oe){zi(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dt=>{if(void 0!==dt.recaptchaKey){const nr=new er(dt);return null==V.tenantId?V._agentRecaptchaConfig=nr:V._tenantRecaptchaConfigs[V.tenantId]=nr,we(nr.siteKey)}Oe(new Error("recaptcha Enterprise site key undefined"))}).catch(dt=>{Oe(dt)})});return function(we,Oe){return ne.apply(this,arguments)}}())}),E.apply(this,arguments)}function P(V,ne,we){const Oe=window.grecaptcha;Un(Oe)?Oe.enterprise.ready(()=>{Oe.enterprise.execute(V,{action:c}).then(dt=>{ne(dt)}).catch(()=>{ne("NO_RECAPTCHA")})}):we(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,ne)=>{(function _(V){return E.apply(this,arguments)})(p.auth).then(we=>{if(!d&&Un(window.grecaptcha))P(we,V,ne);else{if(typeof window>"u")return void ne(new Error("RecaptchaVerifier is only supported in browser"));_g("https://www.google.com/recaptcha/enterprise.js?render="+we).then(()=>{P(we,V,ne)}).catch(Oe=>{ne(Oe)})}}).catch(we=>{ne(we)})})})()}}function yg(f,c,d){return vg.apply(this,arguments)}function vg(){return(vg=(0,C.Z)(function*(f,c,d,p=!1){const _=new Hv(f);let E;try{E=yield _.verify(d)}catch{E=yield _.verify(d,!0)}const P=Object.assign({},c);return Object.assign(P,p?{captchaResp:E}:{captchaResponse:E}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function yc(f,c,d,p){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,C.Z)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield yg(f,c,d,"getOobCode"===d);return p(f,E)}return p(f,c).catch(function(){var E=(0,C.Z)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const V=yield yg(f,c,d,"getOobCode"===d);return p(f,V)}return Promise.reject(P)});return function(P){return E.apply(this,arguments)}}())}),Ig.apply(this,arguments)}function $v(f,c,d){const p=yt(f);re(p._canInitEmulator,p,"emulator-config-failed"),re(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,E=Re(c),{host:P,port:V}=function Nb(f){const c=Re(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const E=_[1];return{host:E,port:Yn(p.substr(E.length+1))}}{const[E,P]=p.split(":");return{host:E,port:Yn(P)}}}(c);p.config.emulator={url:`${E}//${P}${null===V?"":`:${V}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:P,port:V,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function vc(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function Re(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Yn(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Ko{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return ht("not implemented")}_getIdTokenResponse(c){return ht("not implemented")}_linkToIdToken(c,d){return ht("not implemented")}_getReauthenticationResolver(c){return ht("not implemented")}}function Wd(f,c){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:resetPassword",L(f,c))})).apply(this,arguments)}function tu(f,c){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ic(){return(Ic=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",L(f,c))})).apply(this,arguments)}function zv(f,c){return st.apply(this,arguments)}function st(){return(st=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signInWithPassword",L(f,c))})).apply(this,arguments)}function Yo(f,c){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:sendOobCode",L(f,c))})).apply(this,arguments)}function wc(){return(wc=(0,C.Z)(function*(f,c){return Yo(f,c)})).apply(this,arguments)}function Ob(f,c){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,C.Z)(function*(f,c){return Yo(f,c)})).apply(this,arguments)}function kb(f,c){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,C.Z)(function*(f,c){return Yo(f,c)})).apply(this,arguments)}function nu(){return(nu=(0,C.Z)(function*(f,c){return Yo(f,c)})).apply(this,arguments)}function ru(){return(ru=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signInWithEmailLink",L(f,c))})).apply(this,arguments)}function iu(){return(iu=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signInWithEmailLink",L(f,c))})).apply(this,arguments)}class Cc extends Ko{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Cc(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Cc(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return yc(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zv);case"emailLink":return function wg(f,c){return ru.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:at(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,C.Z)(function*(){switch(p.signInMethod){case"password":return tu(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function qv(f,c){return iu.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:at(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Os(f,c){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signInWithIdp",L(f,c))})).apply(this,arguments)}class ms extends Ko{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new ms(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):at("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,E=(0,wt._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const P=new ms(p,_);return P.idToken=E.idToken||void 0,P.accessToken=E.accessToken||void 0,P.secret=E.secret,P.nonce=E.nonce,P.pendingToken=E.pendingToken||null,P}_getIdTokenResponse(c){return Os(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,Os(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Os(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,$.xO)(d)}return c}}function ou(){return(ou=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:sendVerificationCode",L(f,c))})).apply(this,arguments)}function Yd(){return(Yd=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signInWithPhoneNumber",L(f,c))})).apply(this,arguments)}function Jd(){return(Jd=(0,C.Z)(function*(f,c){const d=yield _e(f,"POST","/v1/accounts:signInWithPhoneNumber",L(f,c));if(d.temporaryProof)throw sn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Dg={USER_NOT_FOUND:"user-not-found"};function Xd(){return(Xd=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signInWithPhoneNumber",L(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Dg)})).apply(this,arguments)}class Mr extends Ko{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Mr({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Mr({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function Dc(f,c){return Yd.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Gv(f,c){return Jd.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Jo(f,c){return Xd.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:E}=c;return p||d||_||E?new Mr({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:E}):null}}class Xo{constructor(c){var d,p,_,E,P,V;const ne=(0,$.zd)((0,$.pd)(c)),we=null!==(d=ne.apiKey)&&void 0!==d?d:null,Oe=null!==(p=ne.oobCode)&&void 0!==p?p:null,dt=function Wv(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=ne.mode)&&void 0!==_?_:null);re(we&&Oe&&dt,"argument-error"),this.apiKey=we,this.operation=dt,this.code=Oe,this.continueUrl=null!==(E=ne.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(P=ne.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(V=ne.tenantId)&&void 0!==V?V:null}static parseLink(c){const d=function ce(f){const c=(0,$.zd)((0,$.pd)(f)).link,d=c?(0,$.zd)((0,$.pd)(c)).deep_link_id:null,p=(0,$.zd)((0,$.pd)(f)).deep_link_id;return(p?(0,$.zd)((0,$.pd)(p)).link:null)||p||d||c||f}(c);try{return new Xo(d)}catch{return null}}}let ea=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Cc._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Xo.parseLink(p);return re(_,"argument-error"),Cc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Ri{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Qi extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class au extends Qi{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return re("providerId"in d&&"signInMethod"in d,"argument-error"),ms._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return re(c.idToken||c.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return au.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return au.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:E,nonce:P,providerId:V}=c;if(!p&&!_&&!d&&!E||!V)return null;try{return new au(V)._credential({idToken:d,accessToken:p,nonce:P,pendingToken:E})}catch{return null}}}let Zv=(()=>{class f extends Qi{constructor(){super("facebook.com")}static credential(d){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Kv=(()=>{class f extends Qi{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),_s=(()=>{class f extends Qi{constructor(){super("github.com")}static credential(d){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class cr extends Ko{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return Os(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,Os(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Os(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:E}=d;return p&&_&&E&&p===_?new cr(p,E):null}static _create(c,d){return new cr(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ft extends Ri{constructor(c){re(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return ft.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return ft.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=cr.fromJSON(c);return re(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return cr._create(p,d)}catch{return null}}}let bc=(()=>{class f extends Qi{constructor(){super("twitter.com")}static credential(d,p){return ms._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Ac(f,c){return uu.apply(this,arguments)}function uu(){return(uu=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signUp",L(f,c))})).apply(this,arguments)}class Xr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,C.Z)(function*(){const E=yield I._fromIdTokenResponse(c,p,_),P=Ji(p);return new Xr({user:E,providerId:P,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,C.Z)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=Ji(p);return new Xr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function Ji(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function cu(f){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,C.Z)(function*(f){var c;const d=yt(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Xr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Ac(d,{returnSecureToken:!0}),_=yield Xr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class lu extends $.ZR{constructor(c,d,p,_){var E;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:c.name,tenantId:null!==(E=c.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new lu(c,d,p,_)}}function Rc(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?lu._fromErrorAndOperation(f,E,c,p):E})}function eh(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function Tg(f,c){return _o.apply(this,arguments)}function _o(){return _o=(0,C.Z)(function*(f,c){const d=(0,$.m9)(f);yield xc(!0,d,c);const{providerUserInfo:p}=yield function bi(f,c){return Ai.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=eh(p||[]);return d.providerData=d.providerData.filter(E=>_.has(E.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),_o.apply(this,arguments)}function Pc(f,c){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,C.Z)(function*(f,c,d=!1){const p=yield on(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return Xr._forOperation(f,"link",p)})).apply(this,arguments)}function xc(f,c,d){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,C.Z)(function*(f,c,d){yield Bn(c);const _=!1===f?"provider-already-linked":"no-such-provider";re(eh(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function bg(f,c){return th.apply(this,arguments)}function th(){return(th=(0,C.Z)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const E=yield on(f,Rc(p,_,c,f),d);re(E.idToken,p,"internal-error");const P=wn(E.idToken);re(P,p,"internal-error");const{sub:V}=P;return re(f.uid===V,p,"user-mismatch"),Xr._forOperation(f,_,E)}catch(E){throw"auth/user-not-found"===E?.code&&at(p,"user-mismatch"),E}})).apply(this,arguments)}function fi(f,c){return nh.apply(this,arguments)}function nh(){return(nh=(0,C.Z)(function*(f,c,d=!1){const p="signIn",_=yield Rc(f,p,c),E=yield Xr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function du(f,c){return rh.apply(this,arguments)}function rh(){return(rh=(0,C.Z)(function*(f,c){return fi(yt(f),c)})).apply(this,arguments)}function Ag(f,c){return ih.apply(this,arguments)}function ih(){return(ih=(0,C.Z)(function*(f,c){const d=(0,$.m9)(f);return yield xc(!1,d,c.providerId),Pc(d,c)})).apply(this,arguments)}function Sg(f,c){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,C.Z)(function*(f,c){return bg((0,$.m9)(f),c)})).apply(this,arguments)}function sh(){return(sh=(0,C.Z)(function*(f,c){return _e(f,"POST","/v1/accounts:signInWithCustomToken",L(f,c))})).apply(this,arguments)}function Yv(f,c){return lr.apply(this,arguments)}function lr(){return lr=(0,C.Z)(function*(f,c){const d=yt(f),p=yield function Qv(f,c){return sh.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield Xr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),lr.apply(this,arguments)}class hu{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?oh._fromServerResponse(c,d):"totpInfo"in d?ah._fromServerResponse(c,d):at(c,"internal-error")}}class oh extends hu{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new oh(d)}}class ah extends hu{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new ah(d)}}function Hn(f,c,d){var p;re((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),re(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(re(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(re(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function uh(f){return kc.apply(this,arguments)}function kc(){return(kc=(0,C.Z)(function*(f){const c=yt(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Be(f,c,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,C.Z)(function*(f,c,d){const p=yt(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&Hn(p,_,d),yield yc(p,_,"getOobCode",Ob)})).apply(this,arguments)}function vt(f,c,d){return $n.apply(this,arguments)}function $n(){return $n=(0,C.Z)(function*(f,c,d){yield Wd((0,$.m9)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&uh(f),_});return function(_){return p.apply(this,arguments)}}())}),$n.apply(this,arguments)}function vr(f,c){return ks.apply(this,arguments)}function ks(){return ks=(0,C.Z)(function*(f,c){yield function Kd(f,c){return Ic.apply(this,arguments)}((0,$.m9)(f),{oobCode:c})}),ks.apply(this,arguments)}function xr(f,c){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,C.Z)(function*(f,c){const d=(0,$.m9)(f),p=yield Wd(d,{oobCode:c}),_=p.requestType;switch(re(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(p.mfaInfo,d,"internal-error");default:re(p.email,d,"internal-error")}let E=null;return p.mfaInfo&&(E=hu._fromServerResponse(yt(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:E},operation:_}})).apply(this,arguments)}function Rg(f,c){return ta.apply(this,arguments)}function ta(){return(ta=(0,C.Z)(function*(f,c){const{data:d}=yield xr((0,$.m9)(f),c);return d.email})).apply(this,arguments)}function Jv(f,c,d){return ch.apply(this,arguments)}function ch(){return(ch=(0,C.Z)(function*(f,c,d){const p=yt(f),P=yield yc(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ac).catch(ne=>{throw"auth/password-does-not-meet-requirements"===ne.code&&uh(f),ne}),V=yield Xr._fromIdTokenResponse(p,"signIn",P);return yield p._updateCurrentUser(V.user),V})).apply(this,arguments)}function mn(f,c,d){return du((0,$.m9)(f),ea.credential(c,d)).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&uh(f),_});return function(_){return p.apply(this,arguments)}}())}function ve(f,c,d){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,C.Z)(function*(f,c,d){const p=yt(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function E(P,V){re(V.handleCodeInApp,p,"argument-error"),V&&Hn(p,P,V)})(_,d),yield yc(p,_,"getOobCode",kb)})).apply(this,arguments)}function Jt(f,c){const d=Xo.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}function Pi(f,c,d){return yo.apply(this,arguments)}function yo(){return(yo=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f),_=ea.credentialWithLink(c,d||gn());return re(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),du(p,_)})).apply(this,arguments)}function Vs(){return(Vs=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:createAuthUri",L(f,c))})).apply(this,arguments)}function Dn(f,c){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,C.Z)(function*(f,c){const p={identifier:c,continueUri:En()?gn():"http://localhost"},{signinMethods:_}=yield function hr(f,c){return Vs.apply(this,arguments)}((0,$.m9)(f),p);return _||[]}),Xi.apply(this,arguments)}function na(f,c){return He.apply(this,arguments)}function He(){return He=(0,C.Z)(function*(f,c){const d=(0,$.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&Hn(d.auth,_,c);const{email:E}=yield function Pr(f,c){return wc.apply(this,arguments)}(d.auth,_);E!==f.email&&(yield f.reload())}),He.apply(this,arguments)}function fu(f,c,d){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&Hn(p.auth,E,d);const{email:P}=yield function Qd(f,c){return nu.apply(this,arguments)}(p.auth,E);P!==f.email&&(yield f.reload())}),Fc.apply(this,arguments)}function an(){return(an=(0,C.Z)(function*(f,c){return X(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function pu(f,c){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,C.Z)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,$.m9)(f),E={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},P=yield on(p,function ra(f,c){return an.apply(this,arguments)}(p.auth,E));p.displayName=P.displayName||null,p.photoURL=P.photoUrl||null;const V=p.providerData.find(({providerId:ne})=>"password"===ne);V&&(V.displayName=p.displayName,V.photoURL=p.photoURL),yield p._updateTokensIfNecessary(P)}),Fs.apply(this,arguments)}function es(f,c){return lh((0,$.m9)(f),c,null)}function gu(f,c){return lh((0,$.m9)(f),null,c)}function lh(f,c,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,C.Z)(function*(f,c,d){const{auth:p}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(E.email=c),d&&(E.password=d);const P=yield on(f,tu(p,E));yield f._updateTokensIfNecessary(P,!0)})).apply(this,arguments)}class ns{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class ia extends ns{constructor(c,d,p,_){super(c,d,p),this.username=_}}class ct extends ns{constructor(c,d){super(c,"facebook.com",d)}}class Fb extends ia{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class dh extends ns{constructor(c,d){super(c,"google.com",d)}}class Pg extends ia{constructor(c,d,p){super(c,"twitter.com",d,p)}}function rs(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function ys(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const P=null===(d=null===(c=wn(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(P)return new ns(E,"anonymous"!==P&&"custom"!==P?P:null)}if(!p)return null;switch(p){case"facebook.com":return new ct(E,_);case"github.com":return new Fb(E,_);case"google.com":return new dh(E,_);case"twitter.com":return new Pg(E,_,f.screenName||null);case"custom":case"anonymous":return new ns(E,null);default:return new ns(E,p,_)}}(d)}class vo{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new vo("enroll",c,d)}static _fromMfaPendingCredential(c){return new vo("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return vo._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return vo._fromIdtoken(c.multiFactorSession.idToken)}return null}}class ph{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=yt(c),_=d.customData._serverResponse,E=(_.mfaInfo||[]).map(V=>hu._fromServerResponse(p,V));re(_.mfaPendingCredential,p,"internal-error");const P=vo._fromMfaPendingCredential(_.mfaPendingCredential);return new ph(P,E,function(){var V=(0,C.Z)(function*(ne){const we=yield ne._process(p,P);delete _.mfaInfo,delete _.mfaPendingCredential;const Oe=Object.assign(Object.assign({},_),{idToken:we.idToken,refreshToken:we.refreshToken});switch(d.operationType){case"signIn":const dt=yield Xr._fromIdTokenResponse(p,d.operationType,Oe);return yield p._updateCurrentUser(dt.user),dt;case"reauthenticate":return re(d.user,p,"internal-error"),Xr._forOperation(d.user,d.operationType,Oe);default:at(p,"internal-error")}});return function(ne){return V.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,C.Z)(function*(){return d.signInResolver(c)})()}}function Ub(f,c){var d;const p=(0,$.m9)(f),_=c;return re(c.customData.operationType,p,"argument-error"),re(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),ph._fromError(p,_)}class xg{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>hu._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new xg(c)}getSession(){var c=this;return(0,C.Z)(function*(){return vo._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,C.Z)(function*(){const _=c,E=yield p.getSession(),P=yield on(p.user,_._process(p.user.auth,E,d));return yield p.user._updateTokensIfNecessary(P),p.user.reload()})()}unenroll(c){var d=this;return(0,C.Z)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const E=yield on(d.user,function jb(f,c){return X(f,"POST","/v2/accounts/mfaEnrollment:withdraw",L(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:P})=>P!==p),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const Ng=new WeakMap;function Hb(f){const c=(0,$.m9)(f);return Ng.has(c)||Ng.set(c,xg._fromUser(c)),Ng.get(c)}const gh="__sak";class tI{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const mh=(()=>{class f extends tI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $b(){const f=(0,$.z$)();return ye(f)||R(f)}()&&function q(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=it(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),E=this.localCache[p];_!==E&&d(p,E,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((V,ne,we)=>{this.notifyListeners(V,we)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(_);if(d.newValue!==V)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const E=()=>{const V=this.storage.getItem(_);!p&&this.localCache[_]===V||this.notifyListeners(_,V)},P=this.storage.getItem(_);!function Qe(){return(0,$.w1)()&&10===document.documentMode}()||P===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,E=this;return(0,C.Z)(function*(){yield _().call(E,d,p),E.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,C.Z)(function*(){const E=yield p().call(_,d);return _.localCache[d]=JSON.stringify(E),E})()}_remove(d){var p=()=>super._remove,_=this;return(0,C.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Og=(()=>{class f extends tI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let Wb=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(E=>E.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,C.Z)(function*(){const _=d,{eventId:E,eventType:P,data:V}=_.data,ne=p.handlersMap[P];if(!ne?.size)return;_.ports[0].postMessage({status:"ack",eventId:E,eventType:P});const we=Array.from(ne).map(function(){var dt=(0,C.Z)(function*(nr){return nr(_.origin,V)});return function(nr){return dt.apply(this,arguments)}}()),Oe=yield function Gb(f){return Promise.all(f.map(function(){var c=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(we);_.ports[0].postMessage({status:"done",eventId:E,eventType:P,response:Oe})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Mi(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class Ls{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,C.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let P,V;return new Promise((ne,we)=>{const Oe=Mi("",20);E.port1.start();const dt=setTimeout(()=>{we(new Error("unsupported_event"))},p);V={messageChannel:E,onMessage(nr){const as=nr;if(as.data.eventId===Oe)switch(as.data.status){case"ack":clearTimeout(dt),P=setTimeout(()=>{we(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),ne(as.data.response);break;default:clearTimeout(dt),clearTimeout(P),we(new Error("invalid_response"))}}},_.handlers.add(V),E.port1.addEventListener("message",V.onMessage),_.target.postMessage({eventType:c,eventId:Oe,data:d},[E.port2])}).finally(()=>{V&&_.removeMessageHandler(V)})})()}}function qn(){return window}function Gn(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function kr(){return(kr=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _h="firebaseLocalStorageDb",oa="firebaseLocalStorage",yh="fbase_key";class Io{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function aa(f,c){return f.transaction([oa],c?"readwrite":"readonly").objectStore(oa)}function Bc(){const f=indexedDB.open(_h,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(oa,{keyPath:yh})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const p=f.result;p.objectStoreNames.contains(oa)?c(p):(p.close(),yield function Lg(){const f=indexedDB.deleteDatabase(_h);return new Io(f).toPromise()}(),c(yield Bc()))}))})}function vh(f,c,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,C.Z)(function*(f,c,d){const p=aa(f,!0).put({[yh]:c,value:d});return new Io(p).toPromise()})).apply(this,arguments)}function Us(){return(Us=(0,C.Z)(function*(f,c){const d=aa(f,!1).get(c),p=yield new Io(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Ih(f,c){const d=aa(f,!0).delete(c);return new Io(d).toPromise()}const Ug=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield Bc()),d.db})()}_withRetries(d){var p=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const E=yield p._openDb();return yield d(E)}catch(E){if(_++>3)throw E;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return Gn()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=Wb._getInstance(function Vg(){return Gn()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,C.Z)(function*(_,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(_,E){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,C.Z)(function*(_,E){return["keyChanged"]});return function(_,E){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function Uc(){return kr.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Ls(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(p=E[0])&&void 0!==p&&p.fulfilled&&null!==(_=E[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,C.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function kg(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Bc();return yield vh(d,gh,"1"),yield Ih(d,gh),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,C.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(E=>vh(E,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=yield p._withRetries(E=>function yu(f,c){return Us.apply(this,arguments)}(E,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,C.Z)(function*(){return p._withPendingWrite((0,C.Z)(function*(){return yield p._withRetries(_=>Ih(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const p=yield d._withRetries(P=>{const V=aa(P,!1).getAll();return new Io(V).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],E=new Set;for(const{fbase_key:P,value:V}of p)E.add(P),JSON.stringify(d.localCache[P])!==JSON.stringify(V)&&(d.notifyListeners(P,V),_.push(P));for(const P of Object.keys(d.localCache))d.localCache[P]&&!E.has(P)&&(d.notifyListeners(P,null),_.push(P));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),ca=1e12;class Jb{constructor(c){this.auth=c,this.counter=ca,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new Xb(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||ca;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||ca))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,C.Z)(function*(){var p;return null===(p=d._widgets.get(c||ca))||void 0===p||p.execute(),""})()}}class Xb{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;re(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sI(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jc=Ns("rcb"),jg=new Wr(3e4,6e4);class aI{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=qn().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return re(function uI(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&Ln(qn().grecaptcha)?Promise.resolve(qn().grecaptcha):new Promise((p,_)=>{const E=qn().setTimeout(()=>{_(xt(c,"network-request-failed"))},jg.get());qn()[jc]=()=>{qn().clearTimeout(E),delete qn()[jc];const V=qn().grecaptcha;if(!V||!Ln(V))return void _(xt(c,"internal-error"));const ne=V.render;V.render=(we,Oe)=>{const dt=ne(we,Oe);return this.counter++,dt},this.hostLanguage=d,p(V)},_g(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:jc,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),_(xt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=qn().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hg{load(c){return(0,C.Z)(function*(){return new Jb(c)})()}clearedOneInstance(){}}const $g="recaptcha",zg={theme:"light",type:"image"};class cI{constructor(c,d,p=Object.assign({},zg)){this.parameters=p,this.type=$g,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(c),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;re(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hg:new aI,this.validateStartingState()}verify(){var c=this;return(0,C.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(E=>{const P=V=>{V&&(c.tokenChangeListeners.delete(P),E(V))};c.tokenChangeListeners.add(P),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=qn()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,C.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,C.Z)(function*(){re(En()&&!Gn(),c.auth,"internal-error"),yield function eA(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Rr(f){return Ti.apply(this,arguments)}(c.auth);re(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wh{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Mr._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function ei(f,c,d){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,C.Z)(function*(f,c,d){const p=yt(f),_=yield zc(p,c,(0,$.m9)(d));return new wh(_,E=>du(p,E))})).apply(this,arguments)}function lI(f,c,d){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f);yield xc(!1,p,"phone");const _=yield zc(p.auth,c,(0,$.m9)(d));return new wh(_,E=>Ag(p,E))})).apply(this,arguments)}function qg(f,c,d){return $c.apply(this,arguments)}function $c(){return($c=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f),_=yield zc(p.auth,c,(0,$.m9)(d));return new wh(_,E=>Sg(p,E))})).apply(this,arguments)}function zc(f,c,d){return vu.apply(this,arguments)}function vu(){return vu=(0,C.Z)(function*(f,c,d){var p;const _=yield d.verify();try{let E;if(re("string"==typeof _,f,"argument-error"),re(d.type===$g,f,"argument-error"),E="string"==typeof c?{phoneNumber:c}:c,"session"in E){const P=E.session;if("phoneNumber"in E)return re("enroll"===P.type,f,"internal-error"),(yield function Xv(f,c){return X(f,"POST","/v2/accounts/mfaEnrollment:start",L(f,c))}(f,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{re("signin"===P.type,f,"internal-error");const V=(null===(p=E.multiFactorHint)||void 0===p?void 0:p.uid)||E.multiFactorUid;return re(V,f,"missing-multi-factor-info"),(yield function rI(f,c){return X(f,"POST","/v2/accounts/mfaSignIn:start",L(f,c))}(f,{mfaPendingCredential:P.credential,mfaEnrollmentId:V,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function su(f,c){return ou.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:_});return P}}finally{d._reset()}}),vu.apply(this,arguments)}function dI(f,c){return pi.apply(this,arguments)}function pi(){return(pi=(0,C.Z)(function*(f,c){yield Pc((0,$.m9)(f),c)})).apply(this,arguments)}let Gg=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=yt(d)}verifyPhoneNumber(d,p){return zc(this.auth,d,(0,$.m9)(p))}static credential(d,p){return Mr._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Mr._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Bs(f,c){return c?v(c):(re(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Bt extends Ko{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Os(c,this._buildIdpRequest())}_linkToIdToken(c,d){return Os(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return Os(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Dh(f){return fi(f.auth,new Bt(f),f.bypassAuthState)}function qc(f){const{auth:c,user:d}=f;return re(d,c,"internal-error"),bg(d,new Bt(f),f.bypassAuthState)}function Vr(f){return Th.apply(this,arguments)}function Th(){return(Th=(0,C.Z)(function*(f){const{auth:c,user:d}=f;return re(d,c,"internal-error"),Pc(d,new Bt(f),f.bypassAuthState)})).apply(this,arguments)}class bh{constructor(c,d,p,_,E=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,C.Z)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(E){c.reject(E)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,C.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:E,tenantId:P,error:V,type:ne}=c;if(V)return void d.reject(V);const we={auth:d.auth,requestUri:p,sessionId:_,tenantId:P||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ne)(we))}catch(Oe){d.reject(Oe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Dh;case"linkViaPopup":case"linkViaRedirect":return Vr;case"reauthViaPopup":case"reauthViaRedirect":return qc;default:at(this.auth,"internal-error")}}resolve(c){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const la=new Wr(2e3,1e4);function ti(f,c,d){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,C.Z)(function*(f,c,d){const p=yt(f);An(f,c,Ri);const _=Bs(p,d);return new Rh(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function hI(f,c,d){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f);An(p.auth,c,Ri);const _=Bs(p.auth,d);return new Rh(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function js(f,c,d){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f);An(p.auth,c,Ri);const _=Bs(p.auth,d);return new Rh(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let Rh=(()=>{class f extends bh{constructor(d,p,_,E,P){super(d,p,E,P),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const p=yield d.execute();return re(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,C.Z)(function*(){Zt(1===d.filter.length,"Popup operations only handle one event");const p=Mi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(xt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,la.get())};d()}}return f.currentPopupAction=null,f})();const Wg="pendingRedirect",da=new Map;class Zg extends bh{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,C.Z)(function*(){let p=da.get(d.auth._key());if(!p){try{const E=(yield function fI(f,c){return Ue.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(E)}catch(_){p=()=>Promise.reject(_)}da.set(d.auth._key(),p)}return d.bypassAuthState||da.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,C.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Ue(){return(Ue=(0,C.Z)(function*(f,c){const d=Ph(c),p=Yg(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Wc(f,c){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,C.Z)(function*(f,c){return Yg(f)._set(Ph(c),"true")})).apply(this,arguments)}function pI(){da.clear()}function Qg(f,c){da.set(f._key(),c)}function Yg(f){return v(f._redirectPersistence)}function Ph(f){return Ee(Wg,f.config.apiKey,f.name)}function ha(f,c,d){return function gI(f,c,d){return Mh.apply(this,arguments)}(f,c,d)}function Mh(){return(Mh=(0,C.Z)(function*(f,c,d){const p=yt(f);An(f,c,Ri),yield p._initializationPromise;const _=Bs(p,d);return yield Wc(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function mI(f,c,d){return function _I(f,c,d){return xh.apply(this,arguments)}(f,c,d)}function xh(){return(xh=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f);An(p.auth,c,Ri),yield p.auth._initializationPromise;const _=Bs(p.auth,d);yield Wc(_,p.auth);const E=yield xi(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",E)})).apply(this,arguments)}function ee(f,c,d){return function It(f,c,d){return Dt.apply(this,arguments)}(f,c,d)}function Dt(){return(Dt=(0,C.Z)(function*(f,c,d){const p=(0,$.m9)(f);An(p.auth,c,Ri),yield p.auth._initializationPromise;const _=Bs(p.auth,d);yield xc(!1,p,c.providerId),yield Wc(_,p.auth);const E=yield xi(p);return _._openRedirect(p.auth,c,"linkViaRedirect",E)})).apply(this,arguments)}function Mt(f,c){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,C.Z)(function*(f,c){return yield yt(f)._initializationPromise,Zc(f,c,!1)})).apply(this,arguments)}function Zc(f,c){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,C.Z)(function*(f,c,d=!1){const p=yt(f),_=Bs(p,c),P=yield new Zg(p,_,d).execute();return P&&!d&&(delete P.user._redirectEventId,yield p._persistUserIfCurrent(P.user),yield p._setRedirectUser(null,c)),P})).apply(this,arguments)}function xi(f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,C.Z)(function*(f){const c=Mi(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class Jg{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Ir(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oh(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!Oh(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(xt(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yI(c))}saveEventToCache(c){this.cachedEventUids.add(yI(c)),this.lastProcessedEventTime=Date.now()}}function yI(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function Oh({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===c?.code}function ss(f){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,C.Z)(function*(f,c={}){return X(f,"GET","/v1/projects",c)})).apply(this,arguments)}const fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vs=/^https?/;function Qc(){return(Qc=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield ss(f);for(const d of c)try{if(II(d))return}catch{}at(f,"unauthorized-domain")})).apply(this,arguments)}function II(f){const c=gn(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const P=new URL(f);return""===P.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&P.hostname===p}if(!vs.test(d))return!1;if(fa.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const EI=new Wr(3e4,6e4);function Yc(){const f=qn().___jsl;if(f?.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Eu=null;const wI=new Wr(5e3,15e3),Xg="__/auth/iframe",Fh="emulator/auth/iframe",em={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nm(f){const c=f.config;re(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?$i(c,Fh):`https://${f.config.authDomain}/${Xg}`,p={apiKey:c.apiKey,appName:f.name,v:N.SDK_VERSION},_=tm.get(f.config.apiHost);_&&(p.eid=_);const E=f._getFrameworks();return E.length&&(p.fw=E.join(",")),`${d}?${(0,$.xO)(p).slice(1)}`}function wu(){return wu=(0,C.Z)(function*(f){const c=yield function Vh(f){return Eu=Eu||function kh(f){return new Promise((c,d)=>{var p,_,E;function P(){Yc(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Yc(),d(xt(f,"network-request-failed"))},timeout:EI.get()})}if(null!==(_=null===(p=qn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(E=qn().gapi)||void 0===E||!E.load){const V=Ns("iframefcb");return qn()[V]=()=>{gapi.load?P():d(xt(f,"network-request-failed"))},_g(`https://apis.google.com/js/api.js?onload=${V}`).catch(ne=>d(ne))}P()}}).catch(c=>{throw Eu=null,c})}(f),Eu}(f),d=qn().gapi;return re(d,f,"internal-error"),c.open({where:document.body,url:nm(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:em,dontclear:!0},p=>new Promise(function(){var _=(0,C.Z)(function*(E,P){yield p.restyle({setHideOnLeave:!1});const V=xt(f,"network-request-failed"),ne=qn().setTimeout(()=>{P(V)},wI.get());function we(){qn().clearTimeout(ne),E(p)}p.ping(we).then(we,()=>{P(V)})});return function(E,P){return _.apply(this,arguments)}}()))}),wu.apply(this,arguments)}const CI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class im{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const AI="__/auth/handler",sm="emulator/auth/handler",om=encodeURIComponent("fac");function pa(f,c,d,p,_,E){return os.apply(this,arguments)}function os(){return(os=(0,C.Z)(function*(f,c,d,p,_,E){re(f.config.authDomain,f,"auth-domain-config-required"),re(f.config.apiKey,f,"invalid-api-key");const P={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:N.SDK_VERSION,eventId:_};if(c instanceof Ri){c.setDefaultLanguage(f.languageCode),P.providerId=c.providerId||"",(0,$.xb)(c.getCustomParameters())||(P.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Oe,dt]of Object.entries(E||{}))P[Oe]=dt}if(c instanceof Qi){const Oe=c.getScopes().filter(dt=>""!==dt);Oe.length>0&&(P.scopes=Oe.join(","))}f.tenantId&&(P.tid=f.tenantId);const V=P;for(const Oe of Object.keys(V))void 0===V[Oe]&&delete V[Oe];const ne=yield f._getAppCheckToken(),we=ne?`#${om}=${encodeURIComponent(ne)}`:"";return`${function SI({config:f}){return f.emulator?$i(f,sm):`https://${f.authDomain}/${AI}`}(f)}?${(0,$.xO)(V).slice(1)}${we}`})).apply(this,arguments)}const ga="webStorageSupport",Cu=class Jc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Og,this._completeRedirectFn=Zc,this._overrideRedirectResult=Qg}_openPopup(c,d,p,_){var E=this;return(0,C.Z)(function*(){var P;Zt(null===(P=E.eventManagers[c._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const V=yield pa(c,d,p,gn(),_);return function TI(f,c,d,p=500,_=600){const E=Math.max((window.screen.availHeight-_)/2,0).toString(),P=Math.max((window.screen.availWidth-p)/2,0).toString();let V="";const ne=Object.assign(Object.assign({},CI),{width:p.toString(),height:_.toString(),top:E,left:P}),we=(0,$.z$)().toLowerCase();d&&(V=Lt(we)?"_blank":d),Pt(we)&&(c=c||"http://localhost",ne.scrollbars="yes");const Oe=Object.entries(ne).reduce((nr,[as,rl])=>`${nr}${as}=${rl},`,"");if(function Pe(f=(0,$.z$)()){var c;return R(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(we)&&"_self"!==V)return function bI(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",V),new im(null);const dt=window.open(c||"",V,Oe);re(dt,f,"popup-blocked");try{dt.focus()}catch{}return new im(dt)}(c,V,Mi())})()}_openRedirect(c,d,p,_){var E=this;return(0,C.Z)(function*(){return yield E._originValidation(c),function Zb(f){qn().location.href=f}(yield pa(c,d,p,gn(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:E}=this.eventManagers[d];return _?Promise.resolve(_):(Zt(E,"If manager is not set, promise should be"),E)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,C.Z)(function*(){const p=yield function rm(f){return wu.apply(this,arguments)}(c),_=new Jg(c);return p.register("authEvent",E=>(re(E?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(ga,{type:ga},_=>{var E;const P=null===(E=_?.[0])||void 0===E?void 0:E[ga];void 0!==P&&d(!!P),at(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function vI(f){return Qc.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return it()||ye()||R()}};class Lh{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return ht("unexpected MultiFactorSessionType")}}}class Xc extends Lh{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Xc(c)}_finalizeEnroll(c,d,p){return function eI(f,c){return X(f,"POST","/v2/accounts/mfaEnrollment:finalize",L(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Yb(f,c){return X(f,"POST","/v2/accounts/mfaSignIn:finalize",L(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let am=(()=>{class f{constructor(){}static assertion(d){return Xc._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var RI="@firebase/auth";class nA{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const iA=(0,$.Pz)("authIdTokenMaxAge")||300;let nl=null;const Du=f=>function(){var c=(0,C.Z)(function*(d){const p=d&&(yield d.getIdTokenResult()),_=p&&((new Date).getTime()-Date.parse(p.issuedAtTime))/1e3;if(_&&_>iA)return;const E=p?.token;nl!==E&&(nl=E,yield fetch(f,{method:E?"POST":"DELETE",headers:E?{Authorization:`Bearer ${E}`}:{}}))});return function(d){return c.apply(this,arguments)}}();function xI(f=(0,N.getApp)()){const c=(0,N._getProvider)(f,"auth");if(c.isInitialized())return c.getImmediate();const d=function Mb(f,c){const d=(0,N._getProvider)(f,"auth");if(d.isInitialized()){const _=d.getImmediate(),E=d.getOptions();if((0,$.vZ)(E,c??{}))return _;at(_,"already-initialized")}return d.initialize({options:c})}(f,{popupRedirectResolver:Cu,persistence:[Ug,mh,Og]}),p=(0,$.Pz)("authTokenSyncURL");if(p){const E=Du(p);(function Nr(f,c,d){(0,$.m9)(f).beforeAuthStateChanged(c,d)})(d,E,()=>E(d.currentUser)),function Lb(f,c,d,p){(0,$.m9)(f).onIdTokenChanged(c,d,p)}(d,P=>E(P))}const _=(0,$.q4)("auth");return _&&$v(d,`http://${_}`),d}!function MI(f){(0,N._registerComponent)(new rn.wA("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),E=c.getProvider("app-check-internal"),{apiKey:P,authDomain:V}=p.options;re(P&&!P.includes(":"),"invalid-api-key",{appName:p.name});const ne={apiKey:P,authDomain:V,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rn(f)},we=new Gd(p,_,E,ne);return function xb(f,c){const d=c?.persistence||[],p=(Array.isArray(d)?d:[d]).map(v);c?.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,c?.popupRedirectResolver)}(we,d),we},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new rn.wA("auth-internal",c=>{const d=yt(c.getProvider("auth").getImmediate());return new nA(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(RI,"1.3.2",function PI(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,N.registerVersion)(RI,"1.3.2","esm2017")}("Browser")},58:(Hi,kn,Fe)=>{Fe.d(kn,{BH:()=>Gr,G6:()=>$i,L:()=>gt,LL:()=>J,Pz:()=>xt,Sg:()=>An,UG:()=>ht,ZB:()=>Ae,ZR:()=>X,aH:()=>at,b$:()=>En,eu:()=>j,hl:()=>U,jU:()=>Zt,m9:()=>Ki,ne:()=>Zr,pd:()=>Ai,q4:()=>Fn,r3:()=>Un,ru:()=>gn,tV:()=>Y,uI:()=>re,vZ:()=>zi,w1:()=>Di,xO:()=>Gi,xb:()=>Rr,z$:()=>tt,zd:()=>bi});const Se=function(S){const T=[];let I=0;for(let w=0;w<S.length;w++){let v=S.charCodeAt(w);v<128?T[I++]=v:v<2048?(T[I++]=v>>6|192,T[I++]=63&v|128):55296==(64512&v)&&w+1<S.length&&56320==(64512&S.charCodeAt(w+1))?(v=65536+((1023&v)<<10)+(1023&S.charCodeAt(++w)),T[I++]=v>>18|240,T[I++]=v>>12&63|128,T[I++]=v>>6&63|128,T[I++]=63&v|128):(T[I++]=v>>12|224,T[I++]=v>>6&63|128,T[I++]=63&v|128)}return T},rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(S,T){if(!Array.isArray(S))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,w=[];for(let v=0;v<S.length;v+=3){const A=S[v],Z=v+1<S.length,Ee=Z?S[v+1]:0,Ce=v+2<S.length,qe=Ce?S[v+2]:0;let Lt=(15&Ee)<<2|qe>>6,xe=63&qe;Ce||(xe=64,Z||(Lt=64)),w.push(I[A>>2],I[(3&A)<<4|Ee>>4],I[Lt],I[xe])}return w.join("")},encodeString(S,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(S):this.encodeByteArray(Se(S),T)},decodeString(S,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(S):function(S){const T=[];let I=0,w=0;for(;I<S.length;){const v=S[I++];if(v<128)T[w++]=String.fromCharCode(v);else if(v>191&&v<224){const A=S[I++];T[w++]=String.fromCharCode((31&v)<<6|63&A)}else if(v>239&&v<365){const Ce=((7&v)<<18|(63&S[I++])<<12|(63&S[I++])<<6|63&S[I++])-65536;T[w++]=String.fromCharCode(55296+(Ce>>10)),T[w++]=String.fromCharCode(56320+(1023&Ce))}else{const A=S[I++],Z=S[I++];T[w++]=String.fromCharCode((15&v)<<12|(63&A)<<6|63&Z)}}return T.join("")}(this.decodeStringToByteArray(S,T))},decodeStringToByteArray(S,T){this.init_();const I=T?this.charToByteMapWebSafe_:this.charToByteMap_,w=[];for(let v=0;v<S.length;){const A=I[S.charAt(v++)],Ee=v<S.length?I[S.charAt(v)]:0;++v;const qe=v<S.length?I[S.charAt(v)]:64;++v;const ye=v<S.length?I[S.charAt(v)]:64;if(++v,null==A||null==Ee||null==qe||null==ye)throw new In;w.push(A<<2|Ee>>4),64!==qe&&(w.push(Ee<<4&240|qe>>2),64!==ye&&w.push(qe<<6&192|ye))}return w},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let S=0;S<this.ENCODED_VALS.length;S++)this.byteToCharMap_[S]=this.ENCODED_VALS.charAt(S),this.charToByteMap_[this.byteToCharMap_[S]]=S,this.byteToCharMapWebSafe_[S]=this.ENCODED_VALS_WEBSAFE.charAt(S),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[S]]=S,S>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(S)]=S,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(S)]=S)}}};class In extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gt=function(S){return function(S){const T=Se(S);return rn.encodeByteArray(T,!0)}(S).replace(/\./g,"")},Y=function(S){try{return rn.decodeString(S,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function Ae(S,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===S&&(S={});break;case Array:S=[];break;default:return T}for(const I in T)!T.hasOwnProperty(I)||!Ke(I)||(S[I]=Ae(S[I],T[I]));return S}function Ke(S){return"__proto__"!==S}const ze=()=>{try{return function Ct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const S=process.env.__FIREBASE_DEFAULTS__;return S?JSON.parse(S):void 0})()||(()=>{if(typeof document>"u")return;let S;try{S=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=S&&Y(S[1]);return T&&JSON.parse(T)})()}catch(S){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${S}`)}},Fn=S=>{var T,I;return null===(I=null===(T=ze())||void 0===T?void 0:T.emulatorHosts)||void 0===I?void 0:I[S]},at=()=>{var S;return null===(S=ze())||void 0===S?void 0:S.config},xt=S=>{var T;return null===(T=ze())||void 0===T?void 0:T[`_${S}`]};class Gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,I)=>{this.resolve=T,this.reject=I})}wrapCallback(T){return(I,w)=>{I?this.reject(I):this.resolve(w),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(I):T(I,w))}}}function An(S,T){if(S.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const w=T||"demo-project",v=S.iat||0,A=S.sub||S.user_id;if(!A)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Z=Object.assign({iss:`https://securetoken.google.com/${w}`,aud:w,iat:v,exp:v+3600,auth_time:v,sub:A,user_id:A,firebase:{sign_in_provider:"custom",identities:{}}},S);return[gt(JSON.stringify({alg:"none",type:"JWT"})),gt(JSON.stringify(Z)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function ht(){var S;const T=null===(S=ze())||void 0===S?void 0:S.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return"object"==typeof self&&self.self===self}function gn(){const S="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof S&&void 0!==S.id}function En(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Di(){const S=tt();return S.indexOf("MSIE ")>=0||S.indexOf("Trident/")>=0}function $i(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function j(){return new Promise((S,T)=>{try{let I=!0;const w="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(w);v.onsuccess=()=>{v.result.close(),I||self.indexedDB.deleteDatabase(w),S(!0)},v.onupgradeneeded=()=>{I=!1},v.onerror=()=>{var A;T((null===(A=v.error)||void 0===A?void 0:A.message)||"")}}catch(I){T(I)}})}class X extends Error{constructor(T,I,w){super(I),this.code=T,this.customData=w,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(T,I,w){this.service=T,this.serviceName=I,this.errors=w}create(T,...I){const w=I[0]||{},v=`${this.service}/${T}`,A=this.errors[T],Z=A?function ge(S,T){return S.replace(ot,(I,w)=>{const v=T[w];return null!=v?String(v):`<${w}?>`})}(A,w):"Error";return new X(v,`${this.serviceName}: ${Z} (${v}).`,w)}}const ot=/\{\$([^}]+)}/g;function Un(S,T){return Object.prototype.hasOwnProperty.call(S,T)}function Rr(S){for(const T in S)if(Object.prototype.hasOwnProperty.call(S,T))return!1;return!0}function zi(S,T){if(S===T)return!0;const I=Object.keys(S),w=Object.keys(T);for(const v of I){if(!w.includes(v))return!1;const A=S[v],Z=T[v];if(_t(A)&&_t(Z)){if(!zi(A,Z))return!1}else if(A!==Z)return!1}for(const v of w)if(!I.includes(v))return!1;return!0}function _t(S){return null!==S&&"object"==typeof S}function Gi(S){const T=[];for(const[I,w]of Object.entries(S))Array.isArray(w)?w.forEach(v=>{T.push(encodeURIComponent(I)+"="+encodeURIComponent(v))}):T.push(encodeURIComponent(I)+"="+encodeURIComponent(w));return T.length?"&"+T.join("&"):""}function bi(S){const T={};return S.replace(/^\?/,"").split("&").forEach(w=>{if(w){const[v,A]=w.split("=");T[decodeURIComponent(v)]=decodeURIComponent(A)}}),T}function Ai(S){const T=S.indexOf("?");if(!T)return"";const I=S.indexOf("#",T);return S.substring(T,I>0?I:void 0)}function Zr(S,T){const I=new Kr(S,T);return I.subscribe.bind(I)}class Kr{constructor(T,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then(()=>{T(this)}).catch(w=>{this.error(w)})}next(T){this.forEachObserver(I=>{I.next(T)})}error(T){this.forEachObserver(I=>{I.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,I,w){let v;if(void 0===T&&void 0===I&&void 0===w)throw new Error("Missing Observer.");v=function tr(S,T){if("object"!=typeof S||null===S)return!1;for(const I of T)if(I in S&&"function"==typeof S[I])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:I,complete:w},void 0===v.next&&(v.next=Nt),void 0===v.error&&(v.error=Nt),void 0===v.complete&&(v.complete=Nt);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),A}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,T)}sendOne(T,I){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{I(this.observers[T])}catch(w){typeof console<"u"&&console.error&&console.error(w)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nt(){}function Ki(S){return S&&S._delegate?S._delegate:S}},729:(Hi,kn,Fe)=>{function C(t){return"function"==typeof t}function $(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const N=$(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Se(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(C(r))try{r()}catch(s){e=s instanceof N?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Gt(s)}catch(o){e=e??[],o instanceof N?e=[...e,...o.errors]:e.push(o)}}if(e)throw new N(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Gt(e);else{if(e instanceof wt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Se(n,e)}remove(e){const{_finalizers:n}=this;n&&Se(n,e),e instanceof wt&&e._removeParent(this)}}wt.EMPTY=(()=>{const t=new wt;return t.closed=!0,t})();const rn=wt.EMPTY;function In(t){return t instanceof wt||t&&"closed"in t&&C(t.remove)&&C(t.add)&&C(t.unsubscribe)}function Gt(t){C(t)?t():t.unsubscribe()}const gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(t,e,...n){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function se(t){Y.setTimeout(()=>{const{onUnhandledError:e}=gt;if(!e)throw t;e(t)})}function Ae(){}const Ke=lt("C",void 0,void 0);function lt(t,e,n){return{kind:t,value:e,error:n}}let $e=null;function ze(t){if(gt.useDeprecatedSynchronousErrorHandling){const e=!$e;if(e&&($e={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$e;if($e=null,n)throw r}}else t()}class pn extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,In(e)&&e.add(this)):this.destination=Zt}static create(e,n,r){return new An(e,n,r)}next(e){this.isStopped?ht(function Vn(t){return lt("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ht(function Ct(t){return lt("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ht(Ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function xt(t,e){return at.call(t,e)}class Gr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tt(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tt(r)}else tt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tt(n)}}}class An extends pn{constructor(e,n,r){let i;if(super(),C(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xt(e.next,s),error:e.error&&xt(e.error,s),complete:e.complete&&xt(e.complete,s)}):i=e}this.destination=new Gr(i)}}function tt(t){gt.useDeprecatedSynchronousErrorHandling?function Fn(t){gt.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=t)}(t):se(t)}function ht(t,e){const{onStoppedNotification:n}=gt;n&&Y.setTimeout(()=>n(t,e))}const Zt={closed:!0,next:Ae,error:function re(t){throw t},complete:Ae},gn="function"==typeof Symbol&&Symbol.observable||"@@observable";function En(t){return t}function Di(t){return 0===t.length?En:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function U(t){return t&&t instanceof pn||function $i(t){return t&&C(t.next)&&C(t.error)&&C(t.complete)}(t)&&In(t)}(n)?n:new An(n,r,i);return ze(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Wr(r))((i,s)=>{const o=new An({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[gn](){return this}pipe(...n){return Di(n)(this)}toPromise(n){return new(n=Wr(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Wr(t){var e;return null!==(e=t??gt.Promise)&&void 0!==e?e:Promise}const j=$(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let H=(()=>{class t extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new L(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new j}next(n){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?rn:(this.currentObservers=null,s.push(n),new wt(()=>{this.currentObservers=null,Se(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Xe;return n.source=this,n}}return t.create=(e,n)=>new L(e,n),t})();class L extends H{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:rn}}function X(t){return C(t?.lift)}function J(t){return e=>{if(X(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new ot(t,e,n,r,i)}class ot extends pn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return J((n,r)=>{let i=0;n.subscribe(ge(r,s=>{r.next(t.call(e,s,i++))}))})}var Ve=Fe(582);const mt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Yt(t){return C(t?.then)}function jt(t){return C(t[gn])}function sn(t){return Symbol.asyncIterator&&C(t?.[Symbol.asyncIterator])}function Ln(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const er=function Un(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rr(t){return C(t?.[er])}function Ti(t){return(0,Ve.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Ve.qq)(n.read());if(i)return yield(0,Ve.qq)(void 0);yield yield(0,Ve.qq)(r)}}finally{n.releaseLock()}})}function zi(t){return C(t?.getReader)}function _t(t){if(t instanceof Xe)return t;if(null!=t){if(jt(t))return function qi(t){return new Xe(e=>{const n=t[gn]();if(C(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(mt(t))return function Gi(t){return new Xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Yt(t))return function bi(t){return new Xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,se)})}(t);if(sn(t))return ar(t);if(Rr(t))return function Ai(t){return new Xe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(zi(t))return function Zr(t){return ar(Ti(t))}(t)}throw Ln(t)}function ar(t){return new Xe(e=>{(function Kr(t,e){var n,r,i,s;return(0,Ve.mG)(this,void 0,void 0,function*(){try{for(n=(0,Ve.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Qr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Nt(t,e,n=1/0){return C(e)?Nt((r,i)=>_e((s,o)=>e(r,s,i,o))(_t(t(r,i))),n):("number"==typeof e&&(n=e),J((r,i)=>function tr(t,e,n,r,i,s,o,a){const u=[];let l=0,h=0,g=!1;const m=()=>{g&&!u.length&&!l&&e.complete()},y=b=>l<r?D(b):u.push(b),D=b=>{s&&e.next(b),l++;let M=!1;_t(n(b,h++)).subscribe(ge(e,F=>{i?.(F),s?y(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){const F=u.shift();o?Qr(e,o,()=>D(F)):D(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ge(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,t,n)))}function Yr(t=1/0){return Nt(En,t)}const wn=new Xe(t=>t.complete());function Wi(t){return t[t.length-1]}function Zi(t){return C(Wi(t))?t.pop():void 0}function Si(t){return function Cn(t){return t&&C(t.schedule)}(Wi(t))?t.pop():void 0}function Sn(t,e=0){return J((n,r)=>{n.subscribe(ge(r,i=>Qr(r,t,()=>r.next(i),e),()=>Qr(r,t,()=>r.complete(),e),i=>Qr(r,t,()=>r.error(i),e)))})}function ur(t,e=0){return J((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ki(t,e){if(!t)throw new Error("Iterable cannot be null");return new Xe(n=>{Qr(n,e,()=>{const r=t[Symbol.asyncIterator]();Qr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function I(t,e){return e?function T(t,e){if(null!=t){if(jt(t))return function Jr(t,e){return _t(t).pipe(ur(e),Sn(e))}(t,e);if(mt(t))return function xs(t,e){return new Xe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Yt(t))return function Zo(t,e){return _t(t).pipe(ur(e),Sn(e))}(t,e);if(sn(t))return Ki(t,e);if(Rr(t))return function po(t,e){return new Xe(n=>{let r;return Qr(n,e,()=>{r=t[er](),Qr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>C(r?.return)&&r.return()})}(t,e);if(zi(t))return function S(t,e){return Ki(Ti(t),e)}(t,e)}throw Ln(t)}(t,e):_t(t)}function w(...t){const e=Si(t),n=function Bn(t,e){return"number"==typeof Wi(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?_t(r[0]):Yr(n)(I(r,e)):wn}class v extends H{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function A(...t){return I(t,Si(t))}function Z(t={}){const{connector:e=(()=>new H),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=u=void 0,h=g=!1},D=()=>{const b=o;y(),b?.unsubscribe()};return J((b,M)=>{l++,!g&&!h&&m();const F=u=u??e();M.add(()=>{l--,0===l&&!g&&!h&&(a=Ee(D,i))}),F.subscribe(M),!o&&l>0&&(o=new An({next:x=>F.next(x),error:x=>{g=!0,m(),a=Ee(y,n,x),F.error(x)},complete:()=>{h=!0,m(),a=Ee(y,r),F.complete()}}),_t(b).subscribe(o))})(s)}}function Ee(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new An({next:()=>{r.unsubscribe(),t()}});return _t(e(...n)).subscribe(r)}function Ce(t,e){return J((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ge(r,u=>{i?.unsubscribe();let l=0;const h=s++;_t(t(u,h)).subscribe(i=ge(r,g=>r.next(e?e(u,g,h,l++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function qe(t,e=En){return t=t??Pt,J((n,r)=>{let i,s=!0;n.subscribe(ge(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Pt(t,e){return t===e}function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function Lt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function jn(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const go=ye({__forward_ref__:ye});function k(t){return t.__forward_ref__=k,t.toString=function(){return xe(this())},t}function R(t){return ae(t)?t():t}function ae(t){return"function"==typeof t&&t.hasOwnProperty(go)&&t.__forward_ref__===k}function Pe(t){return t&&!!t.\u0275providers}const it="https://g.co/ng/security#xss";class q extends Error{constructor(e,n){super(function Rn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function be(t){return"string"==typeof t?t:null==t?"":String(t)}function Gd(t,e){throw new q(-201,!1)}function hi(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function vc(t){return Wd(t,Qo)||Wd(t,Ic)}function Wd(t,e){return t.hasOwnProperty(e)?t[e]:null}function tu(t){return t&&(t.hasOwnProperty(Kd)||t.hasOwnProperty(zv))?t[Kd]:null}const Qo=ye({\u0275prov:ye}),Kd=ye({\u0275inj:ye}),Ic=ye({ngInjectableDef:ye}),zv=ye({ngInjectorDef:ye});var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(st||{});let Yo;function Pr(t){const e=Yo;return Yo=t,e}function wc(t,e,n){const r=vc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&st.Optional?null:void 0!==e?e:void Gd(xe(t))}const Ut=globalThis,su={},ou="__NG_DI_FLAG__",Dc="ngTempTokenPath",Gv=/\n/gm,Dg="__source";let Jo;function Mr(t){const e=Jo;return Jo=t,e}function Wv(t,e=st.Default){if(void 0===Jo)throw new q(-203,!1);return null===Jo?wc(t,void 0,e):Jo.get(t,e&st.Optional?null:void 0,e)}function ce(t,e=st.Default){return(function Ec(){return Yo}()||Wv)(R(t),e)}function Te(t,e=st.Default){return ce(t,ea(e))}function ea(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ri(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new q(900,!1);let i,s=st.Default;for(let o=0;o<r.length;o++){const a=r[o],u=au(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ce(i,s))}else e.push(ce(r))}return e}function Qi(t,e){return t[ou]=e,t.prototype[ou]=e,t}function au(t){return t[ou]}function _s(t){return{toString:t}.toString()}var Tc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tc||{}),cr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cr||{});const Yi={},ft=[],bc=ye({\u0275cmp:ye}),Ac=ye({\u0275dir:ye}),uu=ye({\u0275pipe:ye}),Xr=ye({\u0275mod:ye}),Ji=ye({\u0275fac:ye}),cu=ye({__NG_ELEMENT_ID__:ye}),Sc=ye({__NG_ENV_ID__:ye});function lu(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Rc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Tg(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function eh(t){return 3===t||4===t||6===t}function Tg(t){return 64===t.charCodeAt(0)}function _o(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pc(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pc(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Mc="ng-template";function xc(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==lu(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Nc(t){return 4===t.type&&t.value!==Mc}function bg(t,e,n){return e===(4!==t.type||n?t.value:Mc)}function th(t,e,n){let r=4;const i=t.attrs||[],s=function Ag(t){for(let e=0;e<t.length;e++)if(eh(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!bg(t,u,n)||""===u&&1===e.length){if(fi(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!xc(t.attrs,l,n)){if(fi(r))return!1;o=!0}continue}const g=nh(8&r?"class":u,i,Nc(t),n);if(-1===g){if(fi(r))return!1;o=!0;continue}if(""!==l){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==lu(y,l,0)||2&r&&l!==m){if(fi(r))return!1;o=!0}}}}else{if(!o&&!fi(r)&&!fi(u))return!1;if(o&&fi(u))continue;o=!1,r=u|1&r}}return fi(r)||o}function fi(t){return 0==(1&t)}function nh(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function ih(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function du(t,e,n=!1){for(let r=0;r<e.length;r++)if(th(t,e[r],n))return!0;return!1}function Oc(t,e){return t?":not("+e.trim()+")":e}function Qv(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!fi(o)&&(e+=Oc(s,i),i=""),r=o,s=s||!fi(r);n++}return""!==i&&(e+=Oc(s,i)),e}function lr(t){return _s(()=>{const e=Vc(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""};Rg(n);const r=t.dependencies;return n.directiveDefs=ta(r,!1),n.pipeDefs=ta(r,!0),n.id=function ch(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function oh(t){return vt(t)||$n(t)}function ah(t){return null!==t}function Hn(t){return _s(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kc(t,e){if(null==t)return Yi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Be(t){return _s(()=>{const e=Vc(t);return Rg(e),e})}function dr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function vt(t){return t[bc]||null}function $n(t){return t[Ac]||null}function vr(t){return t[uu]||null}function xr(t,e){const n=t[Xr]||null;if(!n&&!0===e)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return n}function Vc(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kc(t.inputs,e),outputs:kc(t.outputs)}}function Rg(t){t.features?.forEach(e=>e(t))}function ta(t,e){if(!t)return null;const n=e?vr:oh;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(ah)}const mn=0,ve=1,Ge=2,Jt=3,Pi=4,yo=5,hr=6,Vs=7,Dn=8,Xi=9,na=10,He=11,fu=12,Fc=13,ra=14,an=15,pu=16,Fs=17,es=18,gu=19,lh=20,ts=21,ys=22,ns=23,ia=24,ct=25,dh=1,Pg=2,rs=7,mu=9,zn=11;function Nr(t){return Array.isArray(t)&&"object"==typeof t[dh]}function Or(t){return Array.isArray(t)&&!0===t[dh]}function Mg(t){return 0!=(4&t.flags)}function sa(t){return t.componentOffset>-1}function fh(t){return 1==(1&t.flags)}function is(t){return!!t.template}function _u(t){return 0!=(512&t[Ge])}function Mi(t,e){return t.hasOwnProperty(Ji)?t[Ji]:null}let Gn=null,Uc=!1;function kr(t){const e=Gn;return Gn=t,e}const kg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _h(t){if(!yu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Lg(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function yh(t){t.dirty=!0,function Fg(t){if(void 0===t.liveConsumerNode)return;const e=Uc;Uc=!0;try{for(const n of t.liveConsumerNode)n.dirty||yh(n)}finally{Uc=e}}(t),t.consumerMarkedDirty?.(t)}function Io(t){return t&&(t.nextProducerIndex=0),kr(t)}function aa(t,e){if(kr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(yu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ua(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Lg(t){Us(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(_h(n),r!==n.version))return!0}return!1}function Bc(t){if(Us(t),yu(t))for(let e=0;e<t.producerNode.length;e++)ua(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ua(t,e){if(function Ih(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Us(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)ua(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Us(i),i.producerIndexOfThis[r]=e}}function yu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Us(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Bg=null;function Hg(t){const e=kr(null);try{return t()}finally{kr(e)}}const zg=()=>{},cI=(()=>({...kg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:zg}))();class wh{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ei(){return Hc}function Hc(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ch),lI}function lI(){const t=$c(this),e=t?.current;if(e){const n=t.previous;if(n===Yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ch(t,e,n,r){const i=this.declaredInputs[n],s=$c(t)||function zc(t,e){return t[qg]=e}(t,{previous:Yi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new wh(u&&u.currentValue,e,a===Yi),t[r]=e}ei.ngInherit=!0;const qg="__ngSimpleChanges__";function $c(t){return t[qg]||null}const pi=function(t,e,n){};function Bt(t){for(;Array.isArray(t);)t=t[mn];return t}function qc(t,e){return Bt(e[t])}function Vr(t,e){return Bt(e[t.index])}function bh(t,e){return t.data[e]}function la(t,e){return t[e]}function ti(t,e){const n=e[t];return Nr(n)?n:n[mn]}function js(t,e){return null==e?null:t[e]}function Gc(t){t[Fs]=0}function Rh(t){1024&t[Ge]||(t[Ge]|=1024,da(t,1))}function Wg(t){1024&t[Ge]&&(t[Ge]&=-1025,da(t,-1))}function da(t,e){let n=t[Jt];if(null===n)return;n[yo]+=e;let r=n;for(n=n[Jt];null!==n&&(1===e&&1===r[yo]||-1===e&&0===r[yo]);)n[yo]+=e,r=n,n=n[Jt]}const Ue={lFrame:tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ph(){return Ue.bindingsEnabled}function ee(){return Ue.lFrame.lView}function It(){return Ue.lFrame.tView}function Dt(t){return Ue.lFrame.contextLView=t,t[Dn]}function Mt(t){return Ue.lFrame.contextLView=null,t}function Wn(){let t=Zc();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zc(){return Ue.lFrame.currentTNode}function xi(t,e){const n=Ue.lFrame;n.currentTNode=t,n.isParent=e}function Iu(){return Ue.lFrame.isParent}function Ir(){const t=Ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fa(){return Ue.lFrame.bindingIndex++}function II(t,e){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yc(e)}function Yc(t){Ue.lFrame.currentDirectiveIndex=t}function Eu(){return Ue.lFrame.currentQueryIndex}function Vh(t){Ue.lFrame.currentQueryIndex=t}function wI(t){const e=t[ve];return 2===e.type?e.declTNode:1===e.type?t[hr]:null}function Xg(t,e,n){if(n&st.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&st.Host||(i=wI(s),null===i||(s=s[ra],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Ue.lFrame=em();return r.currentTNode=e,r.lView=t,!0}function Fh(t){const e=em(),n=t[ve];Ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function em(){const t=Ue.lFrame,e=null===t?null:t.child;return null===e?tm(t):e}function tm(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function nm(){const t=Ue.lFrame;return Ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const rm=nm;function wu(){const t=nm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Er(){return Ue.lFrame.selectedIndex}function wo(t){Ue.lFrame.selectedIndex=t}function un(){const t=Ue.lFrame;return bh(t.tView,t.selectedIndex)}let om=!0;function pa(){return om}function os(t){om=t}function ga(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Jc(t,e,n){Xc(t,e,3,n)}function Cu(t,e,n,r){(3&t[Ge])===n&&Xc(t,e,n,r)}function Lh(t,e){let n=t[Ge];(3&n)===e&&(n&=8191,n+=1,t[Ge]=n)}function Xc(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Fs]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Fs]+=65536),(a<s||-1==s)&&(tA(t,n,e,u),t[Fs]=(4294901760&t[Fs])+u+2),u++}function am(t,e){pi(4,t,e);const n=kr(null);try{e.call(t)}finally{kr(n),pi(5,t,e)}}function tA(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ge]>>13<t[Fs]>>16&&(3&t[Ge])===e&&(t[Ge]+=8192,am(a,s)):am(a,s)}const Hs=-1;class ma{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function nl(t){return t!==Hs}function Du(t){return 32767&t}function f(t,e){let n=function xI(t){return t>>16}(t),r=e;for(;n>0;)r=r[ra],n--;return r}let c=!0;function d(t){const e=c;return c=t,e}const _=255,E=5;let P=0;const V={};function we(t,e){const n=dt(t,e);if(-1!==n)return n;const r=e[ve];r.firstCreatePass&&(t.injectorIndex=e.length,Oe(r.data,t),Oe(e,null),Oe(r.blueprint,null));const i=nr(t,e),s=t.injectorIndex;if(nl(i)){const o=Du(i),a=f(i,e),u=a[ve].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Oe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dt(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function nr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=sA(i),null===r)return Hs;if(n++,i=i[ra],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Hs}function as(t,e,n){!function ne(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(cu)&&(r=n[cu]),null==r&&(r=n[cu]=P++);const i=r&_;e.data[t+(i>>E)]|=1<<i}(t,e,n)}function Uh(t,e,n){if(n&st.Optional||void 0!==t)return t;Gd()}function il(t,e,n,r){if(n&st.Optional&&void 0===r&&(r=null),!(n&(st.Self|st.Host))){const i=t[Xi],s=Pr(void 0);try{return i?i.get(e,r,n&st.Optional):wc(e,r,n&st.Optional)}finally{Pr(s)}}return Uh(r,0,n)}function Bh(t,e,n,r=st.Default,i){if(null!==t){if(2048&e[Ge]&&!(r&st.Self)){const o=function RU(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Ge]&&!(512&o[Ge]);){const a=jh(s,o,n,r|st.Self,V);if(a!==V)return a;let u=s.parent;if(!u){const l=o[lh];if(l){const h=l.get(n,V,r);if(h!==V)return h}u=sA(o),o=o[ra]}s=u}return i}(t,e,n,r,V);if(o!==V)return o}const s=jh(t,e,n,r,V);if(s!==V)return s}return il(e,n,r,i)}function jh(t,e,n,r,i){const s=function $h(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(cu)?t[cu]:void 0;return"number"==typeof e?e>=0?e&_:SU:e}(n);if("function"==typeof s){if(!Xg(e,t,r))return r&st.Host?Uh(i,0,r):il(e,n,r,i);try{let o;if(o=s(r),null!=o||r&st.Optional)return o;Gd()}finally{rm()}}else if("number"==typeof s){let o=null,a=dt(t,e),u=Hs,l=r&st.Host?e[an][hr]:null;for((-1===a||r&st.SkipSelf)&&(u=-1===a?nr(t,e):e[a+8],u!==Hs&&um(r,!1)?(o=e[ve],a=Du(u),e=f(u,e)):a=-1);-1!==a;){const h=e[ve];if(zh(s,a,h.data)){const g=Hh(a,e,n,o,r,l);if(g!==V)return g}u=e[a+8],u!==Hs&&um(r,e[ve].data[a+8]===l)&&zh(s,a,e)?(o=h,a=Du(u),e=f(u,e)):a=-1}}return i}function Hh(t,e,n,r,i,s){const o=e[ve],a=o.data[t+8],h=Tu(a,o,n,null==r?sa(a)&&c:r!=o&&0!=(3&a.type),i&st.Host&&s===a);return null!==h?$s(e,o,h,a):V}function Tu(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,h=s>>20,m=i?a+h:t.directiveEnd;for(let y=r?a:a+h;y<m;y++){const D=o[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){const y=o[u];if(y&&is(y)&&y.type===n)return u}return null}function $s(t,e,n,r){let i=t[n];const s=e.data;if(function el(t){return t instanceof ma}(i)){const o=i;o.resolving&&function mo(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():be(t)}(s[n]));const a=d(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Pr(o.injectImpl):null;Xg(t,r,st.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function SI(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Hc(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Pr(l),d(a),o.resolving=!1,rm()}}return i}function zh(t,e,n){return!!(n[e+(t>>E)]&1<<t)}function um(t,e){return!(t&st.Self||t&st.Host&&e)}class ni{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Bh(this._tNode,this._lView,e,ea(r),n)}}function SU(){return new ni(Wn(),ee())}function wr(t){return _s(()=>{const e=t.prototype.constructor,n=e[Ji]||OI(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ji]||OI(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function OI(t){return ae(t)?()=>{const e=OI(R(t));return e&&e()}:Mi(t)}function sA(t){const e=t[ve],n=e.type;return 2===n?e.declTNode:1===n?t[hr]:null}const ol="__parameters__";function ul(t,e,n){return _s(()=>{const r=function kI(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,h){const g=u.hasOwnProperty(ol)?u[ol]:Object.defineProperty(u,ol,{value:[]})[ol];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ll(t,e){t.forEach(n=>Array.isArray(n)?ll(n,e):e(n))}function aA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ni(t,e,n){let r=dl(t,e);return r>=0?t[1|r]=n:(r=~r,function VU(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function VI(t,e){const n=dl(t,e);if(n>=0)return t[1|n]}function dl(t,e){return function uA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const zs=Qi(ul("Optional"),8),hm=Qi(ul("SkipSelf"),4);function _m(t){return 128==(128&t.flags)}var _a=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_a||{});const jI=new Map;let oB=0;const $I="__ngContext__";function Fr(t,e){Nr(e)?(t[$I]=e[gu],function uB(t){jI.set(t[gu],t)}(e)):t[$I]=e}let zI;function qI(t,e){return zI(t,e)}function Kh(t){const e=t[Jt];return Or(e)?e[Jt]:e}function SA(t){return PA(t[fu])}function RA(t){return PA(t[Pi])}function PA(t){for(;null!==t&&!Or(t);)t=t[Pi];return t}function pl(t,e,n,r,i){if(null!=r){let s,o=!1;Or(r)?s=r:Nr(r)&&(o=!0,r=r[mn]);const a=Bt(r);0===t&&null!==n?null==i?OA(e,n,a):bu(e,n,a,i||null,!0):1===t&&null!==n?bu(e,n,a,i||null,!0):2===t?function Dm(t,e,n){const r=wm(t,e);r&&function AB(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function PB(t,e,n,r,i){const s=n[rs];s!==Bt(n)&&pl(e,t,r,s,i);for(let a=zn;a<n.length;a++){const u=n[a];Yh(u[ve],u,t,e,r,s)}}(e,t,s,n,i)}}function Im(t,e,n){return t.createElement(e,n)}function xA(t,e){const n=t[mu],r=n.indexOf(e);Wg(e),n.splice(r,1)}function Em(t,e){if(t.length<=zn)return;const n=zn+e,r=t[n];if(r){const i=r[pu];null!==i&&i!==t&&xA(i,r),e>0&&(t[n-1][Pi]=r[Pi]);const s=lm(t,zn+e);!function vB(t,e){Yh(t,e,e[He],2,null,null),e[mn]=null,e[hr]=null}(r[ve],r);const o=s[es];null!==o&&o.detachView(s[ve]),r[Jt]=null,r[Pi]=null,r[Ge]&=-129}return r}function WI(t,e){if(!(256&e[Ge])){const n=e[He];e[ns]&&Bc(e[ns]),e[ia]&&Bc(e[ia]),n.destroyNode&&Yh(t,e,n,3,null,null),function wB(t){let e=t[fu];if(!e)return ZI(t[ve],t);for(;e;){let n=null;if(Nr(e))n=e[fu];else{const r=e[zn];r&&(n=r)}if(!n){for(;e&&!e[Pi]&&e!==t;)Nr(e)&&ZI(e[ve],e),e=e[Jt];null===e&&(e=t),Nr(e)&&ZI(e[ve],e),n=e&&e[Pi]}e=n}}(e)}}function ZI(t,e){if(!(256&e[Ge])){e[Ge]&=-129,e[Ge]|=256,function bB(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ma)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];pi(4,a,u);try{u.call(a)}finally{pi(5,a,u)}}else{pi(4,i,s);try{s.call(i)}finally{pi(5,i,s)}}}}}(t,e),function TB(t,e){const n=t.cleanup,r=e[Vs];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Vs]=null);const i=e[ts];if(null!==i){e[ts]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[ve].type&&e[He].destroy();const n=e[pu];if(null!==n&&Or(e[Jt])){n!==e[Jt]&&xA(n,e);const r=e[es];null!==r&&r.detachView(t)}!function cB(t){jI.delete(t[gu])}(e)}}function KI(t,e,n){return function NA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[mn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===cr.None||s===cr.Emulated)return null}return Vr(r,n)}}(t,e.parent,n)}function bu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function OA(t,e,n){t.appendChild(e,n)}function kA(t,e,n,r,i){null!==r?bu(t,e,n,r,i):OA(t,e,n)}function wm(t,e){return t.parentNode(e)}let QI,eE,bm,LA=function FA(t,e,n){return 40&t.type?Vr(t,n):null};function Cm(t,e,n,r){const i=KI(t,r,e),s=e[He],a=function VA(t,e,n){return LA(t,e,n)}(r.parent||e[hr],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)kA(s,i,n[u],a,!1);else kA(s,i,n,a,!1);void 0!==QI&&QI(s,r,e,n,i)}function Qh(t,e){if(null!==e){const n=e.type;if(3&n)return Vr(e,t);if(4&n)return YI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Qh(t,r);{const i=t[e.index];return Or(i)?YI(-1,i):Bt(i)}}if(32&n)return qI(e,t)()||Bt(t[e.index]);{const r=BA(t,e);return null!==r?Array.isArray(r)?r[0]:Qh(Kh(t[an]),r):Qh(t,e.next)}}return null}function BA(t,e){return null!==e?t[an][hr].projection[e.projection]:null}function YI(t,e){const n=zn+t+1;if(n<e.length){const r=e[n],i=r[ve].firstChild;if(null!==i)return Qh(r,i)}return e[rs]}function JI(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Fr(Bt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)JI(t,e,n.child,r,i,s,!1),pl(e,t,i,a,s);else if(32&u){const l=qI(n,r);let h;for(;h=l();)pl(e,t,i,h,s);pl(e,t,i,a,s)}else 16&u?HA(t,e,r,n,i,s):pl(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yh(t,e,n,r,i,s){JI(n,r,t.firstChild,e,i,s,!1)}function HA(t,e,n,r,i,s){const o=n[an],u=o[hr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)pl(e,t,i,u[l],s);else{let l=u;const h=o[Jt];_m(r)&&(l.flags|=128),JI(t,e,l,h,i,s,!0)}}function $A(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Rc(t,e,r),null!==i&&$A(t,e,i),null!==s&&function xB(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function WA(t){return function tE(){if(void 0===bm&&(bm=null,Ut.trustedTypes))try{bm=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bm}()?.createScriptURL(t)||t}class ZA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}function ya(t){return t instanceof ZA?t.changingThisBreaksApplicationSecurity:t}function Jh(t,e){const n=function HB(t){return t instanceof ZA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${it})`)}return n===e}const GB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _l=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(_l||{});function tS(t){const e=ef();return e?e.sanitize(_l.URL,t)||"":Jh(t,"URL")?ya(t):function nE(t){return(t=String(t)).match(GB)?t:"unsafe:"+t}(be(t))}function nS(t){const e=ef();if(e)return WA(e.sanitize(_l.RESOURCE_URL,t)||"");if(Jh(t,"ResourceURL"))return WA(ya(t));throw new q(904,!1)}function ef(){const t=ee();return t&&t[na].sanitizer}class de{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tf=new de("ENVIRONMENT_INITIALIZER"),iS=new de("INJECTOR",-1),sS=new de("INJECTOR_DEF_TYPES");class oE{get(e,n=su){if(n===su){const r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return n}}function sj(...t){return{\u0275providers:aS(0,t),\u0275fromNgModule:!0}}function aS(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ll(e,o=>{const a=o;Sm(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&uS(i,s),n}function uS(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];aE(i,s=>{e(s,r)})}}function Sm(t,e,n,r){if(!(t=R(t)))return!1;let i=null,s=tu(t);const o=!s&&vt(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=tu(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Sm(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{ll(s.imports,h=>{Sm(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&uS(l,e)}if(!a){const l=Mi(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:sS,useValue:i,multi:!0},i),e({provide:tf,useValue:()=>ce(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const l=t;aE(u,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function aE(t,e){for(let n of t)Pe(n)&&(n=n.\u0275providers),Array.isArray(n)?aE(n,e):e(n)}const oj=ye({provide:String,useValue:ye});function uE(t){return null!==t&&"object"==typeof t&&oj in t}function Au(t){return"function"==typeof t}const cE=new de("Set Injector scope."),Rm={},uj={};let lE;function Pm(){return void 0===lE&&(lE=new oE),lE}class cs{}class Mm extends cs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hE(e,o=>this.processProvider(o)),this.records.set(iS,yl(void 0,this)),i.has("environment")&&this.records.set(cs,yl(void 0,this));const s=this.records.get(cE);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sS.multi,ft,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Mr(this),r=Pr(void 0);try{return e()}finally{Mr(n),Pr(r)}}get(e,n=su,r=st.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sc))return e[Sc](this);r=ea(r);const s=Mr(this),o=Pr(void 0);try{if(!(r&st.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function fj(t){return"function"==typeof t||"object"==typeof t&&t instanceof de}(e)&&vc(e);u=l&&this.injectableDefInScope(l)?yl(dE(e),Rm):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&st.Self?Pm():this.parent).get(e,n=r&st.Optional&&n===su?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Dc]=a[Dc]||[]).unshift(xe(e)),s)throw a;return function Zv(t,e,n,r){const i=t[Dc];throw e[Dg]&&i.unshift(e[Dg]),t.message=function Kv(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=xe(e);if(Array.isArray(e))i=e.map(xe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):xe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Gv,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Dc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Pr(o),Mr(s)}}resolveInjectorInitializers(){const e=Mr(this),n=Pr(void 0);try{const i=this.get(tf.multi,ft,st.Self);for(const s of i)s()}finally{Mr(e),Pr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(xe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){let n=Au(e=R(e))?e:R(e&&e.provide);const r=function lj(t){return uE(t)?yl(void 0,t.useValue):yl(dS(t),Rm)}(e);if(Au(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yl(void 0,Rm,!0),i.factory=()=>Ri(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Rm&&(n.value=uj,n.value=n.factory()),"object"==typeof n.value&&n.value&&function hj(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=R(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function dE(t){const e=vc(t),n=null!==e?e.factory:Mi(t);if(null!==n)return n;if(t instanceof de)throw new q(204,!1);if(t instanceof Function)return function cj(t){const e=t.length;if(e>0)throw function Gh(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new q(204,!1);const n=function Zd(t){return t&&(t[Qo]||t[Ic])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new q(204,!1)}function dS(t,e,n){let r;if(Au(t)){const i=R(t);return Mi(i)||dE(i)}if(uE(t))r=()=>R(t.useValue);else if(function lS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ri(t.deps||[]));else if(function cS(t){return!(!t||!t.useExisting)}(t))r=()=>ce(R(t.useExisting));else{const i=R(t&&(t.useClass||t.provide));if(!function dj(t){return!!t.deps}(t))return Mi(i)||dE(i);r=()=>new i(...Ri(t.deps))}return r}function yl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hE(t,e){for(const n of t)Array.isArray(n)?hE(n,e):n&&Pe(n)?hE(n.\u0275providers,e):e(n)}const xm=new de("AppId",{providedIn:"root",factory:()=>pj}),pj="ng",hS=new de("Platform Initializer"),qs=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fS=new de("CSP nonce",{providedIn:"root",factory:()=>function ml(){if(void 0!==eE)return eE;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pS=(t,e,n)=>null;function IE(t,e,n=!1){return pS(t,e,n)}class Dj{}class _S{}class bj{resolveComponentFactory(e){throw function Tj(t){const e=Error(`No component factory found for ${xe(t)}.`);return e.ngComponent=t,e}(e)}}let Lm=(()=>{class t{static#e=this.NULL=new bj}return t})();function Aj(){return El(Wn(),ee())}function El(t,e){return new mi(Vr(t,e))}let mi=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Aj}return t})();function Sj(t){return t instanceof mi?t.nativeElement:t}class vS{}let To=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Rj(){const t=ee(),n=ti(Wn().index,t);return(Nr(n)?n:t)[He]}()}return t})(),Pj=(()=>{class t{static#e=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>null})}return t})();class wl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const CE=new wl("16.2.9"),DE={};function CS(t,e=null,n=null,r){const i=DS(t,e,n,r);return i.resolveInjectorInitializers(),i}function DS(t,e=null,n=null,r,i=new Set){const s=[n||ft,sj(t)];return r=r||("object"==typeof t?void 0:xe(t)),new Mm(s,e||Pm(),r||null,i)}let ri=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=su;static#t=this.NULL=new oE;static create(n,r){if(Array.isArray(n))return CS({name:""},r,n,"");{const i=n.name??"";return CS({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Re({token:t,providedIn:"any",factory:()=>ce(iS)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function bE(t){return t.ngOriginalError}class bo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&bE(e);for(;n&&bE(n);)n=bE(n);return n||null}}function SE(t){return e=>{setTimeout(t,void 0,e)}}const Tn=class Fj extends H{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=SE(s),i&&(i=SE(i)),o&&(o=SE(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof wt&&e.add(a),a}};function bS(...t){}class Tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tn(!1),this.onMicrotaskEmpty=new Tn(!1),this.onStable=new Tn(!1),this.onError=new Tn(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Lj(){const t="function"==typeof Ut.requestAnimationFrame;let e=Ut[t?"requestAnimationFrame":"setTimeout"],n=Ut[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function jj(t){const e=()=>{!function Bj(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,PE(t),t.isCheckStableRunning=!0,RE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),PE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function $j(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return AS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),SS(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return AS(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),SS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,PE(t),RE(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tt.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Tt.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Uj,bS,bS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Uj={};function RE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function PE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function AS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SS(t){t._nesting--,RE(t)}class Hj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tn,this.onMicrotaskEmpty=new Tn,this.onStable=new Tn,this.onError=new Tn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const RS=new de("",{providedIn:"root",factory:PS});function PS(){const t=Te(Tt);let e=!0;return w(new Xe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Xe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Tt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Z()))}function Ao(t){return t instanceof Function?t():t}let ME=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new t})}return t})();function sf(t){for(;t;){t[Ge]|=64;const e=Kh(t);if(_u(t)&&!e)return t;t=e}return null}const kS=new de("",{providedIn:"root",factory:()=>!1});let Bm=null;function US(t,e){return t[e]??HS()}function BS(t,e){const n=HS();n.producerNode?.length&&(t[e]=Bm,n.lView=t,Bm=jS())}const Xj={...kg,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sf(t.lView)},lView:null};function jS(){return Object.create(Xj)}function HS(){return Bm??=jS(),Bm}const Je={};function ue(t){$S(It(),ee(),Er()+t,!1)}function $S(t,e,n,r){if(!r)if(3==(3&e[Ge])){const s=t.preOrderCheckHooks;null!==s&&Jc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Cu(e,s,0,n)}wo(n)}function G(t,e=st.Default){const n=ee();return null===n?ce(t,e):Bh(Wn(),n,R(t),e)}function jm(t,e,n,r,i,s,o,a,u,l,h){const g=e.blueprint.slice();return g[mn]=i,g[Ge]=140|r,(null!==l||t&&2048&t[Ge])&&(g[Ge]|=2048),Gc(g),g[Jt]=g[ra]=t,g[Dn]=n,g[na]=o||t&&t[na],g[He]=a||t&&t[He],g[Xi]=u||t&&t[Xi]||null,g[hr]=s,g[gu]=function aB(){return oB++}(),g[ys]=h,g[lh]=l,g[an]=2==e.type?t[an]:g,g}function Tl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function xE(t,e,n,r,i){const s=Zc(),o=Iu(),u=t.data[e]=function aH(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ha(){return null!==Ue.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function vI(){return Ue.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Eo(){const t=Ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xi(s,!0),s}function af(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qS(t,e,n,r,i){const s=US(e,ns),o=Er(),a=2&r;try{wo(-1),a&&e.length>ct&&$S(t,e,ct,!1),pi(a?2:0,i);const l=a?s:null,h=Io(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{aa(l,h)}}finally{a&&null===e[ns]&&BS(e,ns),wo(o),pi(a?3:1,i)}}function NE(t,e,n){if(Mg(e)){const r=kr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{kr(r)}}}function OE(t,e,n){Ph()&&(function pH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;sa(n)&&function EH(t,e,n){const r=Vr(e,t),i=GS(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Hm(t,jm(t,i,null,o,r,e,null,t[na].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||we(n,e),Fr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=$s(e,t,a,n);Fr(l,e),null!==o&&wH(0,a-i,l,u,0,o),is(u)&&(ti(n.index,e)[Dn]=$s(e,t,a,n))}}(t,e,n,Vr(n,e)),64==(64&n.flags)&&YS(t,e,n))}function kE(t,e,n=Vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function GS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=VE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function VE(t,e,n,r,i,s,o,a,u,l,h){const g=ct+r,m=g+i,y=function tH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Je);return n}(g,m),D="function"==typeof l?l():l;return y[ve]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}let WS=t=>null;function ZS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?KS(n,e,i,s):r.hasOwnProperty(i)&&KS(n,e,r[i],s)}return n}function KS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function FE(t,e,n,r){if(Ph()){const i=null===r?null:{"":-1},s=function mH(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(du(e,o.selectors,!1))if(r||(r=[]),is(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),LE(t,e,a.length)}else r.unshift(o),LE(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&QS(t,e,n,o,i,a),i&&function _H(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new q(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=_o(n.mergedAttrs,n.attrs)}function QS(t,e,n,r,i,s){for(let l=0;l<r.length;l++)as(we(n,e),t,r[l].type);!function vH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=af(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=_o(n.mergedAttrs,h.hostAttrs),IH(t,n,e,u,h),yH(u,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const g=h.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function uH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,l=null;for(let h=e.directiveStart;h<i;h++){const g=s[h],m=n?n.get(g):null,D=m?m.outputs:null;u=ZS(g.inputs,h,u,m?m.inputs:null),l=ZS(g.outputs,h,l,D);const b=null===u||null===o||Nc(e)?null:CH(u,h,o);a.push(b)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,s)}function YS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function EI(){return Ue.lFrame.currentDirectiveIndex}();try{wo(s);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];Yc(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&gH(u,l)}}finally{wo(-1),Yc(o)}}function gH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function LE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;is(e)&&(n[""]=t)}}function IH(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Mi(i.type)),o=new ma(s,is(i),G);t.blueprint[r]=o,n[r]=o,function hH(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function fH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,af(t,n,i.hostVars,Je),i)}function Gs(t,e,n,r,i,s){const o=Vr(t,e);!function UE(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?be(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[He],o,s,t.value,n,r,i)}function wH(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)JS(r,n,o[a++],o[a++],o[a++])}function JS(t,e,n,r,i){const s=kr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{kr(s)}}function CH(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function XS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function eR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Vh(n[r]),o.contentQueries(2,e[s],s)}}}function Hm(t,e){return t[fu]?t[Fc][Pi]=e:t[fu]=e,t[Fc]=e,e}function BE(t,e,n){Vh(0);const r=kr(null);try{e(t,n)}finally{kr(r)}}function tR(t){return t[Vs]||(t[Vs]=[])}function nR(t){return t.cleanup||(t.cleanup=[])}function iR(t,e){const n=t[Xi],r=n?n.get(bo,null):null;r&&r.handleError(e)}function jE(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];JS(t.data[o],e[o],r,a,i)}}function DH(t,e){const n=ti(e,t),r=n[ve];!function TH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[mn];null!==i&&null===n[ys]&&(n[ys]=IE(i,n[Xi])),HE(r,n,n[Dn])}function HE(t,e,n){Fh(e);try{const r=t.viewQuery;null!==r&&BE(1,r,n);const i=t.template;null!==i&&qS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&eR(t,e),t.staticViewQueries&&BE(2,t.viewQuery,n);const s=t.components;null!==s&&function bH(t,e){for(let n=0;n<e.length;n++)DH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ge]&=-5,wu()}}let sR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function $g(t,e,n){const r=Object.create(cI);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>yh(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Lg(r))return;r.hasRun=!0;const o=Io(r);try{r.cleanupFn(),r.cleanupFn=zg,r.fn(i)}finally{aa(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new t})}return t})();function $m(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=jn(i,a):2==s&&(r=jn(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function uf(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Bt(s)),Or(s)&&oR(s,r);const o=n.type;if(8&o)uf(t,e,n.child,r);else if(32&o){const a=qI(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=BA(e,n);if(Array.isArray(a))r.push(...a);else{const u=Kh(e[an]);uf(u[ve],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oR(t,e){for(let n=zn;n<t.length;n++){const r=t[n],i=r[ve].firstChild;null!==i&&uf(r[ve],r,i,e)}t[rs]!==t[mn]&&e.push(t[rs])}function zm(t,e,n,r=!0){const i=e[na],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{aR(t,e,t.template,n)}catch(u){throw r&&iR(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function aR(t,e,n,r){const i=e[Ge];if(256!=(256&i)){e[na].effectManager?.flush(),Fh(e);try{Gc(e),function Kc(t){return Ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&qS(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Jc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Cu(e,l,0,null),Lh(e,0)}if(function RH(t){for(let e=SA(t);null!==e;e=RA(e)){if(!e[Pg])continue;const n=e[mu];for(let r=0;r<n.length;r++){Rh(n[r])}}}(e),uR(e,2),null!==t.contentQueries&&eR(t,e),o){const l=t.contentCheckHooks;null!==l&&Jc(e,l)}else{const l=t.contentHooks;null!==l&&Cu(e,l,1),Lh(e,1)}!function eH(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=US(e,ia);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)wo(~s);else{const o=s,a=n[++i],u=n[++i];II(a,o),r.dirty=!1;const l=Io(r);try{u(2,e[o])}finally{aa(r,l)}}}}finally{null===e[ia]&&BS(e,ia),wo(-1)}}(t,e);const a=t.components;null!==a&&lR(e,a,0);const u=t.viewQuery;if(null!==u&&BE(2,u,r),o){const l=t.viewCheckHooks;null!==l&&Jc(e,l)}else{const l=t.viewHooks;null!==l&&Cu(e,l,2),Lh(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ge]&=-73,Wg(e)}finally{wu()}}}function uR(t,e){for(let n=SA(t);null!==n;n=RA(n))for(let r=zn;r<n.length;r++)cR(n[r],e)}function PH(t,e,n){cR(ti(e,t),n)}function cR(t,e){if(!function hI(t){return 128==(128&t[Ge])}(t))return;const n=t[ve],r=t[Ge];if(80&r&&0===e||1024&r||2===e)aR(n,t,n.template,t[Dn]);else if(t[yo]>0){uR(t,1);const i=n.components;null!==i&&lR(t,i,1)}}function lR(t,e,n){for(let r=0;r<e.length;r++)PH(t,e[r],n)}class cf{get rootNodes(){const e=this._lView,n=e[ve];return uf(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return 256==(256&this._lView[Ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Jt];if(Or(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Em(e,r),lm(n,r))}this._attachedToViewContainer=!1}WI(this._lView[ve],this._lView)}onDestroy(e){!function Zg(t,e){if(256==(256&t[Ge]))throw new q(911,!1);null===t[ts]&&(t[ts]=[]),t[ts].push(e)}(this._lView,e)}markForCheck(){sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){this._lView[Ge]|=128}detectChanges(){zm(this._lView[ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EB(t,e){Yh(t,e,e[He],2,null,null)}(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e}}class MH extends cf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;zm(e[ve],e,e[Dn],!1)}checkNoChanges(){}get context(){return null}}class dR extends Lm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=vt(e);return new lf(n,this.ngModule)}}function hR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class NH{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ea(r);const i=this.injector.get(e,DE,r);return i!==DE||n===DE?i:this.parentInjector.get(e,n,r)}}class lf extends _S{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=hR(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function sh(t){return t.map(Qv).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof cs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new NH(e,s):e,a=o.get(vS,null);if(null===a)throw new q(407,!1);const g={rendererFactory:a,sanitizer:o.get(Pj,null),effectManager:o.get(sR,null),afterRenderEventManager:o.get(ME,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",D=r?function nH(t,e,n,r){const s=r.get(kS,!1)||n===cr.ShadowDom,o=t.selectRootElement(e,s);return function rH(t){WS(t)}(o),o}(m,r,this.componentDef.encapsulation,o):Im(m,y,function xH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),F=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let x=null;null!==D&&(x=IE(D,o,!0));const z=VE(0,null,null,1,0,null,null,null,null,null,null),oe=jm(null,z,null,F,null,null,g,m,o,null,x);let pe,je;Fh(oe);try{const Ft=this.componentDef;let yr,mg=null;Ft.findHostDirectiveDefs?(yr=[],mg=new Map,Ft.findHostDirectiveDefs(Ft,yr,mg),yr.push(Ft)):yr=[Ft];const Lv=function kH(t,e){const n=t[ve],r=ct;return t[r]=e,Tl(n,r,2,"#host",null)}(oe,D),Yee=function VH(t,e,n,r,i,s,o){const a=i[ve];!function FH(t,e,n,r){for(const i of t)e.mergedAttrs=_o(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&($m(e,e.mergedAttrs,!0),null!==n&&zA(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=IE(e,i[Xi]));const l=s.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=jm(i,GS(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&LE(a,t,r.length-1),Hm(i,g),i[t.index]=g}(Lv,D,Ft,yr,oe,g,m);je=bh(z,ct),D&&function UH(t,e,n,r){if(r)Rc(t,n,["ng-version",CE.full]);else{const{attrs:i,classes:s}=function Yv(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!fi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Rc(t,n,i),s&&s.length>0&&$A(t,n,s.join(" "))}}(m,Ft,D,r),void 0!==n&&function BH(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(je,this.ngContentSelectors,n),pe=function LH(t,e,n,r,i,s){const o=Wn(),a=i[ve],u=Vr(o,i);QS(a,i,o,n,null,r);for(let h=0;h<n.length;h++)Fr($s(i,a,o.directiveStart+h,o),i);YS(a,i,o),u&&Fr(u,i);const l=$s(i,a,o.directiveStart+o.componentOffset,o);if(t[Dn]=i[Dn]=l,null!==s)for(const h of s)h(l,e);return NE(a,o,t),l}(Yee,Ft,yr,mg,oe,[jH]),HE(z,oe,null)}finally{wu()}return new OH(this.componentType,pe,El(je,oe),oe,je)}}class OH extends Dj{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new MH(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;jE(s[ve],s,i,e,n),this.previousInputValues.set(e,n),sf(ti(this._tNode.index,s))}}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jH(){const t=Wn();ga(ee()[ve],t)}function Ht(t){let e=function fR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(is(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=qm(t.inputs),o.inputTransforms=qm(t.inputTransforms),o.declaredInputs=qm(t.declaredInputs),o.outputs=qm(t.outputs);const a=i.hostBindings;a&&qH(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&$H(t,u),l&&zH(t,l),Lt(t.inputs,i.inputs),Lt(t.declaredInputs,i.declaredInputs),Lt(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Lt(o.inputTransforms,i.inputTransforms)),is(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}!function HH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_o(i.hostAttrs,n=_o(n,i.hostAttrs))}}(r)}function qm(t){return t===Yi?{}:t===ft?[]:t}function $H(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function zH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function qH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function _R(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Gm(t){return!!$E(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function $E(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ws(t,e,n){return t[e]=n}function Lr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Zs(t,e,n,r){const i=ee();return Lr(i,fa(),e)&&(It(),Gs(un(),i,t,e,n,r)),Zs}function We(t,e,n,r,i,s,o,a){const u=ee(),l=It(),h=t+ct,g=l.firstCreatePass?function m$(t,e,n,r,i,s,o,a,u){const l=e.consts,h=Tl(e,t,4,o||null,js(l,a));FE(e,n,h,js(l,u)),ga(e,h);const g=h.tView=VE(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,l,u,e,n,r,i,s,o):l.data[h];xi(g,!1);const m=PR(l,u,g,t);pa()&&Cm(l,u,m,g),Fr(m,u),Hm(u,u[h]=XS(m,u,m,g)),fh(g)&&OE(l,u,g),null!=o&&kE(u,g,a)}let PR=function MR(t,e,n,r){return os(!0),e[He].createComment("")};function he(t,e,n){const r=ee();return Lr(r,fa(),e)&&function Oi(t,e,n,r,i,s,o,a){const u=Vr(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(jE(t,n,h,r,i),sa(e)&&function lH(t,e){const n=ti(e,t);16&n[Ge]||(n[Ge]|=64)}(n,e.index)):3&e.type&&(r=function cH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(It(),un(),r,t,e,r[He],n,!1),he}function KE(t,e,n,r,i){const o=i?"class":"style";jE(t,n,e.inputs[o],o,r)}function K(t,e,n,r){const i=ee(),s=It(),o=ct+t,a=i[He],u=s.firstCreatePass?function I$(t,e,n,r,i,s){const o=e.consts,u=Tl(e,t,2,r,js(o,i));return FE(e,n,u,js(o,s)),null!==u.attrs&&$m(u,u.attrs,!1),null!==u.mergedAttrs&&$m(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],l=NR(s,i,u,a,e,t);i[o]=l;const h=fh(u);return xi(u,!0),zA(a,l,u),32!=(32&u.flags)&&pa()&&Cm(s,i,l,u),0===function pI(){return Ue.lFrame.elementDepthCount}()&&Fr(l,i),function Qg(){Ue.lFrame.elementDepthCount++}(),h&&(OE(s,i,u),NE(s,u,i)),null!==r&&kE(i,u),K}function W(){let t=Wn();Iu()?function Nh(){Ue.lFrame.isParent=!1}():(t=t.parent,xi(t,!1));const e=t;(function gI(t){return Ue.skipHydrationRootTNode===t})(e)&&function xh(){Ue.skipHydrationRootTNode=null}(),function Yg(){Ue.lFrame.elementDepthCount--}();const n=It();return n.firstCreatePass&&(ga(n,t),Mg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function PI(t){return 0!=(8&t.flags)}(e)&&KE(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function MI(t){return 0!=(16&t.flags)}(e)&&KE(n,e,ee(),e.stylesWithoutHost,!1),W}function bn(t,e,n,r){return K(t,e,n,r),W(),bn}let NR=(t,e,n,r,i,s)=>(os(!0),Im(r,i,function sm(){return Ue.lFrame.currentNamespace}()));function cn(){return ee()}function gf(t){return!!t&&"function"==typeof t.then}function VR(t){return!!t&&"function"==typeof t.subscribe}function et(t,e,n,r){const i=ee(),s=It(),o=Wn();return function LR(t,e,n,r,i,s,o){const a=fh(r),l=t.firstCreatePass&&nR(t),h=e[Dn],g=tR(e);let m=!0;if(3&r.type||o){const b=Vr(r,e),M=o?o(b):b,F=g.length,x=o?oe=>o(Bt(oe[r.index])):r.index;let z=null;if(!o&&a&&(z=function b$(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Vs],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1;else{s=BR(r,e,h,s,!1);const oe=n.listen(M,i,s);g.push(s,oe),l&&l.push(i,x,F,F+1)}}else s=BR(r,e,h,s,!1);const y=r.outputs;let D;if(m&&null!==y&&(D=y[i])){const b=D.length;if(b)for(let M=0;M<b;M+=2){const pe=e[D[M]][D[M+1]].subscribe(s),je=g.length;g.push(s,pe),l&&l.push(i,r.index,je,-(je+1))}}}(s,i,i[He],o,t,e,r),et}function UR(t,e,n,r){try{return pi(6,e,n),!1!==n(r)}catch(i){return iR(t,i),!1}finally{pi(7,e,n)}}function BR(t,e,n,r,i){return function s(o){if(o===Function)return r;sf(t.componentOffset>-1?ti(t.index,e):e);let u=UR(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=UR(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Me(t=1){return function CI(t){return(Ue.lFrame.contextLView=function DI(t,e){for(;t>0;)e=e[ra],t--;return e}(t,Ue.lFrame.contextLView))[Dn]}(t)}function Ym(t,e){return t<<17|e<<2}function va(t){return t>>17&32767}function XE(t){return 2|t}function Ru(t){return(131068&t)>>2}function ew(t,e){return-131069&t|e<<2}function tw(t){return 1|t}function QR(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?va(s):Ru(s),u=!1;for(;0!==a&&(!1===u||o);){const h=t[a+1];k$(t[a],e)&&(u=!0,t[a+1]=r?tw(h):XE(h)),a=r?va(h):Ru(h)}u&&(t[n+1]=r?XE(s):tw(s))}function k$(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dl(t,e)>=0}function Jm(t,e){return function Is(t,e,n,r){const i=ee(),s=It(),o=function vs(t){const e=Ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function sP(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Er()],o=function iP(t,e){return e>=t.expandoStartIndex}(t,n);(function cP(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function z$(t,e,n,r){const i=function kh(t){const e=Ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=mf(n=nw(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=nw(i,t,e,n,r),null===s){let u=function q$(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ru(r))return t[va(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=nw(null,t,e,u[1],r),u=mf(u,e.attrs,r),function G$(t,e,n,r){t[va(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function W$(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=mf(r,t[s].hostAttrs,n);return mf(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function N$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=va(o),u=Ru(o);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||dl(n,h)>0)&&(l=!0)):h=n,i)if(0!==u){const m=va(t[a+1]);t[r+1]=Ym(m,a),0!==m&&(t[m+1]=ew(t[m+1],r)),t[a+1]=function M$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ym(a,0),0!==a&&(t[a+1]=ew(t[a+1],r)),a=r;else t[r+1]=Ym(u,0),0===a?a=r:t[u+1]=ew(t[u+1],r),u=r;l&&(t[r+1]=XE(t[r+1])),QR(t,h,r,!0),QR(t,h,r,!1),function O$(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&dl(s,e)>=0&&(n[r+1]=tw(n[r+1]))}(e,h,t,r,s),o=Ym(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Je&&Lr(i,o,e)&&function aP(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],h=function x$(t){return 1==(1&t)}(l)?uP(u,e,n,i,Ru(l),o):void 0;Xm(h)||(Xm(s)||function P$(t){return 2==(2&t)}(l)&&(s=uP(u,null,n,i,a,o)),function MB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:_a.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=_a.Important),t.setStyle(n,r,i,s))}}(r,o,qc(Er(),n),i,s))}(s,s.data[Er()],i,i[He],t,i[o+1]=function Y$(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=xe(ya(t)))),t}(e,n),r,o)}(t,e,null,!0),Jm}function nw(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=mf(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function mf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ni(t,o,!!n||e[++s]))}return void 0===t?null:t}function uP(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),h=l?u[1]:u,g=null===h;let m=n[i+1];m===Je&&(m=g?ft:void 0);let y=g?VI(m,r):h===r?m:void 0;if(l&&!Xm(y)&&(y=VI(u,r)),Xm(y)&&(a=y,o))return a;const D=t[i+1];i=o?va(D):Ru(D)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=VI(u,r))}return a}function Xm(t){return void 0!==t}function le(t,e=""){const n=ee(),r=It(),i=t+ct,s=r.firstCreatePass?Tl(r,i,1,e,null):r.data[i],o=lP(r,n,s,e,t);n[i]=o,pa()&&Cm(r,n,o,s),xi(s,!1)}let lP=(t,e,n,r,i)=>(os(!0),function vm(t,e){return t.createText(e)}(e[He],r));function ki(t){return Ys("",t,""),ki}function Ys(t,e,n){const r=ee(),i=function Al(t,e,n,r){return Lr(t,fa(),n)?e+be(n)+r:Je}(r,t,e,n);return i!==Je&&function So(t,e,n){const r=qc(e,t);!function MA(t,e,n){t.setValue(e,n)}(t[He],r,n)}(r,Er(),i),Ys}const Fl="en-US";let xP=Fl;function sw(t,e,n,r,i){if(t=R(t),Array.isArray(t))for(let s=0;s<t.length;s++)sw(t[s],e,n,r,i);else{const s=It(),o=ee(),a=Wn();let u=Au(t)?t:R(t.provide);const l=dS(t),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Au(t)||!t.multi){const y=new ma(l,i,G),D=aw(u,e,i?h:h+m,g);-1===D?(as(we(a,o),s,u),ow(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[D]=y,o[D]=y)}else{const y=aw(u,e,h+m,g),D=aw(u,e,h,h+m),M=D>=0&&n[D];if(i&&!M||!i&&!(y>=0&&n[y])){as(we(a,o),s,u);const F=function y3(t,e,n,r,i){const s=new ma(t,n,G);return s.multi=[],s.index=e,s.componentProviders=0,rM(s,i,r&&!n),s}(i?_3:m3,n.length,i,r,l);!i&&M&&(n[D].providerFactory=F),ow(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else ow(s,t,y>-1?y:D,rM(n[i?D:y],l,!i&&r));!i&&r&&M&&n[D].componentProviders++}}}function ow(t,e,n,r){const i=Au(e),s=function aj(t){return!!t.useClass}(e);if(i||s){const u=(s?R(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function rM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function aw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function m3(t,e,n,r){return uw(this.multi,[])}function _3(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$s(n,n[ve],this.providerFactory.index,r);s=a.slice(0,o),uw(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],uw(i,s);return s}function uw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _n(t,e=[]){return n=>{n.providersResolver=(r,i)=>function g3(t,e,n){const r=It();if(r.firstCreatePass){const i=is(t);sw(n,r.data,r.blueprint,i,!0),sw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Mu{}class iM{}class cw extends Mu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dR(this);const i=xr(e);this._bootstrapComponents=Ao(i.bootstrap),this._r3Injector=DS(e,n,[{provide:Mu,useValue:this},{provide:Lm,useValue:this.componentFactoryResolver},...r],xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class lw extends iM{constructor(e){super(),this.moduleType=e}create(e){return new cw(this.moduleType,e,[])}}class sM extends Mu{constructor(e){super(),this.componentFactoryResolver=new dR(this),this.instance=null;const n=new Mm([...e.providers,{provide:Mu,useValue:this},{provide:Lm,useValue:this.componentFactoryResolver}],e.parent||Pm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dw(t,e,n=null){return new sM({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let E3=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=aS(0,n.type),i=r.length>0?dw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Re({token:t,providedIn:"environment",factory:()=>new t(ce(cs))})}return t})();function oM(t){t.getStandaloneInjector=e=>e.get(E3).getOrCreateStandaloneInjector(t)}function Ur(t,e,n){const r=Ir()+t,i=ee();return i[r]===Je?Ws(i,r,n?e.call(n):e()):function df(t,e){return t[e]}(i,r)}function fw(t,e,n,r){return fM(ee(),Ir(),t,e,n,r)}function fM(t,e,n,r,i,s){const o=e+n;return Lr(t,o,i)?Ws(t,o+1,s?r.call(s,i):r(i)):function wf(t,e){const n=t[e];return n===Je?void 0:n}(t,o+1)}function St(t,e){const n=It();let r;const i=t+ct;n.firstCreatePass?(r=function L3(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Mi(r.type)),a=Pr(G);try{const u=d(!1),l=s();return d(u),function v$(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{Pr(a)}}function Rt(t,e,n){const r=t+ct,i=ee(),s=la(i,r);return function Cf(t,e){return t[ve].data[e].pure}(i,r)?fM(i,Ir(),e,s.transform,n,s):s.transform(n)}function $3(){return this._results[Symbol.iterator]()}class pw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Tn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=pw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$3)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function us(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function OU(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function q3(t,e,n,r=!0){const i=e[ve];if(function CB(t,e,n,r){const i=zn+r,s=n.length;r>0&&(n[i-1][Pi]=e),r<s-zn?(e[Pi]=n[i],aA(n,zn+r,e)):(n.push(e),e[Pi]=null),e[Jt]=n;const o=e[pu];null!==o&&n!==o&&function DB(t,e){const n=t[mu];e[an]!==e[Jt][Jt][an]&&(t[Pg]=!0),null===n?t[mu]=[e]:n.push(e)}(o,e);const a=e[es];null!==a&&a.insertView(t),e[Ge]|=128}(i,e,t,n),r){const s=YI(n,t),o=e[He],a=wm(o,t[rs]);null!==a&&function IB(t,e,n,r,i,s){r[mn]=i,r[hr]=e,Yh(t,r,n,1,i,s)}(i,t[hr],o,e,a,s)}}let Ro=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Z3}return t})();const G3=Ro,W3=class extends G3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function z3(t,e,n,r){const i=e.tView,a=jm(t,i,n,4096&t[Ge]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[pu]=t[e.index];const l=t[es];return null!==l&&(a[es]=l.createEmbeddedView(i)),HE(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new cf(i)}};function Z3(){return i_(Wn(),ee())}function i_(t,e){return 4&t.type?new W3(e,t,El(t,e)):null}let ws=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ez}return t})();function ez(){return DM(Wn(),ee())}const tz=ws,wM=class extends tz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return El(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const e=nr(this._hostTNode,this._hostLView);if(nl(e)){const n=f(e,this._hostLView),r=Du(e);return new ni(n[ve].data[r+8],n)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=CM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function qh(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}const u=o?e:new lf(vt(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const M=(o?l:this.parentInjector).get(cs,null);M&&(s=M)}vt(u.componentType??{});const y=u.create(l,i,null,s);return this.insertImpl(y.hostView,a,false),y}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Sh(t){return Or(t[Jt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[Jt],h=new wM(l,l[hr],l[Jt]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return q3(a,i,o,!r),e.attachToViewContainerRef(),aA(gw(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=CM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);r&&(lm(gw(this._lContainer),n),WI(r[ve],r))}detach(e){const n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);return r&&null!=lm(gw(this._lContainer),n)?new cf(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function CM(t){return t[8]}function gw(t){return t[8]||(t[8]=[])}function DM(t,e){let n;const r=e[t.index];return Or(r)?n=r:(n=XS(r,e,null,t),e[t.index]=n,Hm(e,n)),TM(n,e,t,r),new wM(n,t,e)}let TM=function bM(t,e,n,r){if(t[rs])return;let i;i=8&n.type?Bt(r):function nz(t,e){const n=t[He],r=n.createComment(""),i=Vr(e,t);return bu(n,wm(n,i),r,function SB(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[rs]=i};class mw{constructor(e){this.queryList=e,this.matches=null}clone(){return new mw(this.queryList)}setDirty(){this.queryList.setDirty()}}class _w{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new _w(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==OM(e,n).matches&&this.queries[n].setDirty()}}class AM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class yw{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new yw(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class vw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new vw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,sz(n,s)),this.matchTNodeWithReadOption(e,n,Tu(n,e,s,!1,!1))}else r===Ro?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Tu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===mi||i===ws||i===Ro&&4&n.type)this.addMatch(n.index,-2);else{const s=Tu(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function sz(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function az(t,e,n,r){return-1===n?function oz(t,e){return 11&t.type?El(t,e):4&t.type?i_(t,e):null}(e,t):-2===n?function uz(t,e,n){return n===mi?El(e,t):n===Ro?i_(e,t):n===ws?DM(e,t):void 0}(t,e,r):$s(t,t[ve],n,e)}function SM(t,e,n,r){const i=e[es].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:az(e,s[l],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Iw(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=SM(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],h=e[-u];for(let g=zn;g<h.length;g++){const m=h[g];m[pu]===m[Jt]&&Iw(m[ve],m,l,r)}if(null!==h[mu]){const g=h[mu];for(let m=0;m<g.length;m++){const y=g[m];Iw(y[ve],y,l,r)}}}}}return r}function RM(t){const e=ee(),n=It(),r=Eu();Vh(r+1);const i=OM(n,r);if(t.dirty&&function Ah(t){return 4==(4&t[Ge])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Iw(n,e,r,[]):SM(n,e,i,r);t.reset(s,Sj),t.notifyOnChanges()}return!0}return!1}function PM(t,e,n,r){const i=It();if(i.firstCreatePass){const s=Wn();(function NM(t,e,n){null===t.queries&&(t.queries=new yw),t.queries.track(new vw(e,n))})(i,new AM(e,n,r),s.index),function dz(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function xM(t,e,n){const r=new pw(4==(4&n));(function oH(t,e,n,r){const i=tR(e);i.push(n),t.firstCreatePass&&nR(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[es]&&(e[es]=new _w),e[es].queries.push(new mw(r))}(i,ee(),n)}function OM(t,e){return t.queries.getByIndex(e)}const bw=new de("Application Initializer");let Aw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Te(bw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(gf(s))n.push(s);else if(VR(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Po=new de("LocaleId",{providedIn:"root",factory:()=>Te(Po,st.Optional|st.SkipSelf)||function Nz(){return typeof $localize<"u"&&$localize.locale||Fl}()});let JM=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Vz{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let XM=(()=>{class t{compileModuleSync(n){return new lw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ao(xr(n).declarations).reduce((o,a)=>{const u=vt(a);return u&&o.push(new lf(u)),o},[]);return new Vz(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const rx=new de(""),u_=new de("");let xw,Pw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xw||(function n9(t){xw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Tt),ce(Mw),ce(u_))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})(),Mw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return xw?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ia=null;const ix=new de("AllowMultipleToken"),Nw=new de("PlatformDestroyListeners"),Ow=new de("appBootstrapListener");class ox{constructor(e,n){this.name=e,this.token=n}}function ux(t,e,n=[]){const r=`Platform: ${e}`,i=new de(r);return(s=[])=>{let o=kw();if(!o||o.injector.get(ix,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function s9(t){if(Ia&&!Ia.get(ix,!1))throw new q(400,!1);(function sx(){!function iI(t){Bg=t}(()=>{throw new q(600,!1)})})(),Ia=t;const e=t.get(lx);(function ax(t){t.get(hS,null)?.forEach(n=>n())})(t)}(function cx(t=[],e){return ri.create({name:e,providers:[{provide:cE,useValue:"platform"},{provide:Nw,useValue:new Set([()=>Ia=null])},...t]})}(a,r))}return function a9(t){const e=kw();if(!e)throw new q(401,!1);return e}()}}function kw(){return Ia?.get(lx)??null}let lx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function u9(t="zone.js",e){return"noop"===t?new Hj:"zone.js"===t?new Tt(e):t}(r?.ngZone,function dx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function I3(t,e,n){return new cw(t,e,n)}(n.moduleType,this.injector,function mx(t){return[{provide:Tt,useFactory:t},{provide:tf,multi:!0,useFactory:()=>{const e=Te(l9,{optional:!0});return()=>e.initialize()}},{provide:gx,useFactory:c9},{provide:RS,useFactory:PS}]}(()=>i)),o=s.injector.get(bo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{c_(this._modules,s),a.unsubscribe()})}),function hx(t,e,n){try{const r=n();return gf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Aw);return a.runInitializers(),a.donePromise.then(()=>(function NP(t){hi(t,"Expected localeId to be defined"),"string"==typeof t&&(xP=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Po,Fl)||Fl),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=fx({},r);return function r9(t,e,n){const r=new lw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Bl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new q(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Nw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ri))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function fx(t,e){return Array.isArray(e)?e.reduce(fx,t):{...t,...e}}let Bl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Te(gx),this.zoneIsStable=Te(RS),this.componentTypes=[],this.components=[],this.isStable=Te(JM).hasPendingTasks.pipe(Ce(n=>n?A(!1):this.zoneIsStable),qe(),Z()),this._injector=Te(cs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof _S;if(!this._injector.get(Aw).done)throw!i&&function ks(t){const e=vt(t)||$n(t)||vr(t);return null!==e&&e.standalone}(n),new q(405,!1);let o;o=i?n:this._injector.get(Lm).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function i9(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Mu),l=o.create(ri.NULL,[],r||o.selector,a),h=l.location.nativeElement,g=l.injector.get(rx,null);return g?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),c_(this.components,l),g?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;c_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ow,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>c_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function c_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gx=new de("",{providedIn:"root",factory:()=>Te(bo).handleError.bind(void 0)});function c9(){const t=Te(Tt),e=Te(bo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let l9=(()=>{class t{constructor(){this.zone=Te(Tt),this.applicationRef=Te(Bl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let l_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=h9}return t})();function h9(t){return function f9(t,e,n){if(sa(t)&&!n){const r=ti(t.index,e);return new cf(r,r)}return 47&t.type?new cf(e[an],e):null}(Wn(),ee(),16==(16&t))}class Ex{constructor(){}supports(e){return Gm(e)}create(e){return new v9(e)}}const y9=(t,e)=>e;class v9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||y9}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Cx(r,i,s)?n:r,a=Cx(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){const y=m<s.length?s[m]:s[m]=0,D=y+m;h<=D&&D<l&&(s[m]=y+1)}s[o.previousIndex]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Gm(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function JH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new I9(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new wx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class I9{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class wx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new E9,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Dx{constructor(){}supports(e){return e instanceof Map||$E(e)}create(){return new w9}}class w9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||$E(e)))throw new q(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new C9(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class C9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tx(){return new f_([new Ex])}let f_=(()=>{class t{static#e=this.\u0275prov=Re({token:t,providedIn:"root",factory:Tx});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Tx()),deps:[[t,new hm,new zs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new q(901,!1)}}return t})();function bx(){return new bf([new Dx])}let bf=(()=>{class t{static#e=this.\u0275prov=Re({token:t,providedIn:"root",factory:bx});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bx()),deps:[[t,new hm,new zs]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new q(901,!1)}}return t})();const b9=ux(null,"core",[]);let A9=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Bl))};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({})}return t})();function jl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let jw=null;function Ea(){return jw}class j9{}const ds=new de("DocumentToken");let Hw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:function(){return Te($9)},providedIn:"platform"})}return t})();const H9=new de("Location Initialized");let $9=(()=>{class t extends Hw{constructor(){super(),this._doc=Te(ds),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ea().getBaseHref(this._doc)}onPopState(n){const r=Ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function $w(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function kx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Mo(t){return t&&"?"!==t[0]?"?"+t:t}let Nu=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:function(){return Te(Fx)},providedIn:"root"})}return t})();const Vx=new de("appBaseHref");let Fx=(()=>{class t extends Nu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Te(ds).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $w(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Mo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Mo(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Mo(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Hw),ce(Vx,8))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),z9=(()=>{class t extends Nu{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=$w(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(Hw),ce(Vx,8))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})(),zw=(()=>{class t{constructor(n){this._subject=new Tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function W9(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(kx(Lx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mo(r))}normalize(n){return t.stripTrailingSlash(function G9(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Lx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Mo;static#t=this.joinWithSlash=$w;static#n=this.stripTrailingSlash=kx;static#r=this.\u0275fac=function(r){return new(r||t)(ce(Nu))};static#i=this.\u0275prov=Re({token:t,factory:function(){return function q9(){return new zw(ce(Nu))}()},providedIn:"root"})}return t})();function Lx(t){return t.replace(/\/index.html$/,"")}const eC=/\s+/,Wx=[];let Zx=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Wx,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(eC):Wx}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(eC):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(eC).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(G(f_),G(bf),G(mi),G(To))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class N5{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tC=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new N5(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Qx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Qx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(G(ws),G(Ro),G(f_))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Qx(t,e){t.context.$implicit=e.item}let Js=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new O5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Yx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Yx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(G(ws),G(Ro))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class O5{constructor(){this.$implicit=null,this.ngIf=null}}function Yx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${xe(e)}'.`)}class F5{createSubscription(e,n){return Hg(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Hg(()=>e.unsubscribe())}}class L5{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const U5=new L5,B5=new F5;let wa=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(gf(n))return U5;if(VR(n))return B5;throw function Ds(t,e){return new q(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(G(l_,16))};static#t=this.\u0275pipe=dr({name:"async",type:t,pure:!1,standalone:!0})}return t})(),iq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({})}return t})();function T_(t){return"server"===t}let uq=(()=>{class t{static#e=this.\u0275prov=Re({token:t,providedIn:"root",factory:()=>new cq(ce(ds),window)})}return t})();class cq{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function lq(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Oq extends j9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class uC extends Oq{static makeCurrent(){!function B9(t){jw||(jw=t)}(new uC)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function kq(){return Pf=Pf||document.querySelector("base"),Pf?Pf.getAttribute("href"):null}();return null==n?null:function Vq(t){S_=S_||document.createElement("a"),S_.setAttribute("href",t);const e=S_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Pf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function M5(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let S_,Pf=null,Lq=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const cC=new de("EventManagerPlugins");let o1=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(ce(cC),ce(Tt))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();class a1{constructor(e){this._doc=e}}const lC="ng-app-id";let u1=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=T_(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${lC}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(lC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(lC,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ds),ce(xm),ce(fS,8),ce(qs))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const dC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hC=/%COMP%/g,Hq=new de("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function l1(t,e){return e.map(n=>n.replace(hC,t))}let d1=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=T_(a),this.defaultRenderer=new fC(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cr.ShadowDom&&(r={...r,encapsulation:cr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof f1?i.applyToHost(n):i instanceof pC&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case cr.Emulated:s=new f1(u,l,r,this.appId,h,o,a,g);break;case cr.ShadowDom:return new Gq(u,l,n,r,o,a,this.nonce,g);default:s=new pC(u,l,r,h,o,a,g)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(ce(o1),ce(u1),ce(xm),ce(Hq),ce(ds),ce(qs),ce(Tt),ce(fS))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();class fC{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(h1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(h1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=dC[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=dC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_a.DashCase|_a.Important)?e.style.setProperty(n,r,i&_a.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_a.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ea().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function h1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Gq extends fC{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=l1(i.id,i.styles);for(const h of l){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pC extends fC{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?l1(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class f1 extends pC{constructor(e,n,r,i,s,o,a,u){const l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=function $q(t){return"_ngcontent-%COMP%".replace(hC,t)}(l),this.hostAttr=function zq(t){return"_nghost-%COMP%".replace(hC,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Wq=(()=>{class t extends a1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ds))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const p1=["alt","control","meta","shift"],Zq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Qq=(()=>{class t extends a1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ea().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),p1.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=Zq[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),p1.forEach(o=>{o!==i&&(0,Kq[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ds))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();const m1=[{provide:qs,useValue:"browser"},{provide:hS,useValue:function Yq(){uC.makeCurrent()},multi:!0},{provide:ds,useFactory:function Xq(){return function VB(t){eE=t}(document),document},deps:[]}],e6=ux(b9,"browser",m1),t6=new de(""),_1=[{provide:u_,useClass:class Fq{addToWindow(e){Ut.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new q(5103,!1);return s},Ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ut.getAllAngularRootElements=()=>e.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(r=>{const i=Ut.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ea().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:rx,useClass:Pw,deps:[Tt,Mw,u_]},{provide:Pw,useClass:Pw,deps:[Tt,Mw,u_]}],y1=[{provide:cE,useValue:"root"},{provide:bo,useFactory:function Jq(){return new bo},deps:[]},{provide:cC,useClass:Wq,multi:!0,deps:[ds,Tt,qs]},{provide:cC,useClass:Qq,multi:!0,deps:[ds]},d1,u1,o1,{provide:vS,useExisting:d1},{provide:class dq{},useClass:Lq,deps:[]},[]];let n6=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:xm,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ce(t6,12))};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({providers:[...y1,..._1],imports:[iq,A9]})}return t})(),v1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(ce(ds))};static#t=this.\u0275prov=Re({token:t,factory:function(r){let i=null;return i=r?new r:function i6(){return new v1(ce(ds))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:l6}=Array,{getPrototypeOf:d6,prototype:h6,keys:f6}=Object;function C1(t){if(1===t.length){const e=t[0];if(l6(e))return{args:e,keys:null};if(function p6(t){return t&&"object"==typeof t&&d6(t)===h6}(e)){const n=f6(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:g6}=Array;function D1(t){return _e(e=>function m6(t,e){return g6(e)?t(...e):t(e)}(t,e))}function T1(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function mC(...t){const e=Si(t),n=Zi(t),{args:r,keys:i}=C1(t);if(0===r.length)return I([],e);const s=new Xe(function _6(t,e,n=En){return r=>{b1(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)b1(e,()=>{const l=I(t[u],e);let h=!1;l.subscribe(ge(r,g=>{s[u]=g,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>T1(i,o):En));return n?s.pipe(D1(n)):s}function b1(t,e,n){t?Qr(n,t,e):e()}const R_=$(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function _C(...t){return function y6(){return Yr(1)}()(I(t,Si(t)))}function A1(t){return new Xe(e=>{_t(t()).subscribe(e)})}function Mf(t,e){const n=C(t)?t:()=>t,r=i=>i.error(n());return new Xe(e?i=>e.schedule(r,0,i):r)}function yC(){return J((t,e)=>{let n=null;t._refCount++;const r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class S1 extends Xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,X(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wt;const n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e}refCount(){return yC()(this)}}function $l(t){return t<=0?()=>wn:J((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function P_(...t){const e=Si(t);return J((n,r)=>{(e?_C(t,n,e):_C(t,n)).subscribe(r)})}function Ts(t,e){return J((n,r)=>{let i=0;n.subscribe(ge(r,s=>t.call(e,s,i++)&&r.next(s)))})}function M_(t){return J((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function R1(t=v6){return J((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function v6(){return new R_}function Da(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ts((i,s)=>t(i,s,r)):En,$l(1),n?M_(e):R1(()=>new R_))}function xf(t,e){return C(e)?Nt(t,e,1):Nt(t,1)}function Cr(t,e,n){const r=C(t)||e||n?{next:t,error:e,complete:n}:t;return r?J((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ge(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):En}function Ou(t){return J((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ge(n,void 0,void 0,o=>{s=_t(t(o,Ou(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function x_(t,e){return J(function I6(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ge(o,h=>{const g=l++;u=a?t(u,h,g):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function vC(t){return t<=0?()=>wn:J((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function IC(t){return J((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const nt="primary",Nf=Symbol("RouteTitle");class D6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function zl(t){return new D6(t)}function T6(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xs(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!P1(t[i],e[i]))return!1;return!0}function P1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function M1(t){return t.length>0?t[t.length-1]:null}function Ta(t){return function c6(t){return!!t&&(t instanceof Xe||C(t.lift)&&C(t.subscribe))}(t)?t:gf(t)?I(Promise.resolve(t)):A(t)}const A6={exact:function O1(t,e,n){if(!ku(t.segments,e.segments)||!N_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!O1(t.children[r],e.children[r],n))return!1;return!0},subset:k1},x1={exact:function S6(t,e){return Xs(t,e)},subset:function R6(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>P1(t[n],e[n]))},ignored:()=>!0};function N1(t,e,n){return A6[n.paths](t.root,e.root,n.matrixParams)&&x1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function k1(t,e,n){return V1(t,e,e.segments,n)}function V1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ku(i,n)||e.hasChildren()||!N_(i,n,r))}if(t.segments.length===n.length){if(!ku(t.segments,n)||!N_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!k1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ku(t.segments,i)&&N_(t.segments,i,r)&&t.children[nt])&&V1(t.children[nt],e,s,r)}}function N_(t,e,n){return e.every((r,i)=>x1[n](t[i].parameters,r.parameters))}class ql{constructor(e=new $t([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zl(this.queryParams)),this._queryParamMap}toString(){return x6.serialize(this)}}class $t{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return O_(this)}}class Of{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=zl(this.parameters)),this._parameterMap}toString(){return U1(this)}}function ku(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let kf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:function(){return new EC},providedIn:"root"})}return t})();class EC{parse(e){const n=new $6(e);return new ql(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Vf(e.root,!0)}`,r=function k6(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${k_(n)}=${k_(i)}`).join("&"):`${k_(n)}=${k_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function N6(t){return encodeURI(t)}(e.fragment)}`:""}`}}const x6=new EC;function O_(t){return t.segments.map(e=>U1(e)).join("/")}function Vf(t,e){if(!t.hasChildren())return O_(t);if(e){const n=t.children[nt]?Vf(t.children[nt],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==nt&&r.push(`${i}:${Vf(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function M6(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===nt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==nt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===nt?[Vf(t.children[nt],!1)]:[`${i}:${Vf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[nt]?`${O_(t)}/${n[0]}`:`${O_(t)}/(${n.join("//")})`}}function F1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k_(t){return F1(t).replace(/%3B/gi,";")}function wC(t){return F1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V_(t){return decodeURIComponent(t)}function L1(t){return V_(t.replace(/\+/g,"%20"))}function U1(t){return`${wC(t.path)}${function O6(t){return Object.keys(t).map(e=>`;${wC(e)}=${wC(t[e])}`).join("")}(t.parameters)}`}const V6=/^[^\/()?;#]+/;function CC(t){const e=t.match(V6);return e?e[0]:""}const F6=/^[^\/()?;=#]+/,U6=/^[^=?&#]+/,j6=/^[^&#]+/;class $6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[nt]=new $t(e,n)),r}parseSegment(){const e=CC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Of(V_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function L6(t){const e=t.match(F6);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=CC(this.remaining);i&&(r=i,this.capture(r))}e[V_(n)]=V_(r)}parseQueryParam(e){const n=function B6(t){const e=t.match(U6);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function H6(t){const e=t.match(j6);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=L1(n),s=L1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=CC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[nt]:new $t([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}}function B1(t){return t.segments.length>0?new $t([],{[nt]:t}):t}function j1(t){const e={};for(const r of Object.keys(t.children)){const s=j1(t.children[r]);if(r===nt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function z6(t){if(1===t.numberOfChildren&&t.children[nt]){const e=t.children[nt];return new $t(t.segments.concat(e.segments),e.children)}return t}(new $t(t.segments,e))}function Vu(t){return t instanceof ql}function H1(t){let e;const i=B1(function n(s){const o={};for(const u of s.children){const l=n(u);o[u.outlet]=l}const a=new $t(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function $1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return DC(i,i,i,n,r);const s=function G6(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new q1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new q1(n,e,r)}(e);if(s.toRoot())return DC(i,i,new $t([],{}),n,r);const o=function W6(t,e,n){if(t.isAbsolute)return new L_(e,!0,0);if(!n)return new L_(e,!1,NaN);if(null===n.parent)return new L_(n,!0,0);const r=F_(t.commands[0])?0:1;return function Z6(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new L_(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Lf(o.segmentGroup,o.index,s.commands):G1(o.segmentGroup,o.index,s.commands);return DC(i,o.segmentGroup,a,n,r)}function F_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ff(t){return"object"==typeof t&&null!=t&&t.outlets}function DC(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),o=t===e?n:z1(t,e,n);const a=B1(j1(o));return new ql(a,s,i)}function z1(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:z1(s,e,n)}),new $t(t.segments,r)}class q1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&F_(r[0]))throw new q(4003,!1);const i=r.find(Ff);if(i&&i!==M1(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class L_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function G1(t,e,n){if(t||(t=new $t([],{})),0===t.segments.length&&t.hasChildren())return Lf(t,e,n);const r=function Q6(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ff(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!Z1(u,l,o))return s;r+=2}else{if(!Z1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new $t(t.segments.slice(0,r.pathIndex),{});return s.children[nt]=new $t(t.segments.slice(r.pathIndex),t.children),Lf(s,0,i)}return r.match&&0===i.length?new $t(t.segments,{}):r.match&&!t.hasChildren()?TC(t,e,n):r.match?Lf(t,0,i):TC(t,e,n)}function Lf(t,e,n){if(0===n.length)return new $t(t.segments,{});{const r=function K6(t){return Ff(t[0])?t[0].outlets:{[nt]:t}}(n),i={};if(Object.keys(r).some(s=>s!==nt)&&t.children[nt]&&1===t.numberOfChildren&&0===t.children[nt].segments.length){const s=Lf(t.children[nt],e,n);return new $t(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=G1(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new $t(t.segments,i)}}function TC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ff(s)){const u=Y6(s.outlets);return new $t(r,u)}if(0===i&&F_(n[0])){r.push(new Of(t.segments[e].path,W1(n[0]))),i++;continue}const o=Ff(s)?s.outlets[nt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&F_(a)?(r.push(new Of(o,W1(a))),i+=2):(r.push(new Of(o,{})),i++)}return new $t(r,{})}function Y6(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=TC(new $t([],{}),0,r))}),e}function W1(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Z1(t,e,n){return t==n.path&&Xs(e,n.parameters)}const Uf="imperative";class eo{constructor(e,n){this.id=e,this.url=n}}class U_ extends eo{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ba extends eo{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bf extends eo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gl extends eo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class B_ extends eo{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K1 extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J6 extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X6 extends eo{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eG extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tG extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nG{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rG{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iG{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sG{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oG{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aG{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q1{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bC{}class AC{constructor(e){this.url=e}}class uG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jf,this.attachRef=null}}let jf=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uG,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Y1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=SC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=SC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=RC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return RC(e,this._root).map(n=>n.value)}}function SC(t,e){if(t===e.value)return e;for(const n of e.children){const r=SC(t,n);if(r)return r}return null}function RC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=RC(t,n);if(r.length)return r.unshift(e),r}return[]}class Oo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Wl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class J1 extends Y1{constructor(e,n){super(e),this.snapshot=n,PC(this,e)}toString(){return this.snapshot.toString()}}function X1(t,e){const n=function cG(t,e){const o=new j_([],{},{},"",{},nt,e,null,{});return new tN("",new Oo(o,[]))}(0,e),r=new v([new Of("",{})]),i=new v({}),s=new v({}),o=new v({}),a=new v(""),u=new Fu(r,i,o,a,s,nt,e,n.root);return u.snapshot=n.root,new J1(new Oo(u,[]),n)}class Fu{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(_e(l=>l[Nf]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>zl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>zl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function lG(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class j_{get title(){return this.data?.[Nf]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tN extends Y1{constructor(e,n){super(n),this.url=e,PC(this,n)}toString(){return nN(this._root)}}function PC(t,e){e.value._routerState=t,e.children.forEach(n=>PC(t,n))}function nN(t){const e=t.children.length>0?` { ${t.children.map(nN).join(", ")} } `:"";return`${t.value}${e}`}function MC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xs(e.params,n.params)||t.paramsSubject.next(n.params),function b6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xs(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Xs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xC(t,e){const n=Xs(t.params,e.params)&&function P6(t,e){return ku(t,e)&&t.every((n,r)=>Xs(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||xC(t.parent,e.parent))}let NC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new Tn,this.deactivateEvents=new Tn,this.attachEvents=new Tn,this.detachEvents=new Tn,this.parentContexts=Te(jf),this.location=Te(ws),this.changeDetector=Te(l_),this.environmentInjector=Te(cs),this.inputBinder=Te(H_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new dG(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ei]})}return t})();class dG{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fu?this.route:e===jf?this.childContexts:this.parent.get(e,n)}}const H_=new de("");let rN=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=mC([r.queryParams,r.params,r.data]).pipe(Ce(([s,o,a],u)=>(a={...s,...o,...a},0===u?A(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function U9(t){const e=vt(t);if(!e)return null;const n=new lf(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();function Hf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function fG(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Hf(t,r,i);return Hf(t,r)})}(t,e,n);return new Oo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hf(t,a)),o}}const r=function pG(t){return new Fu(new v(t.url),new v(t.params),new v(t.queryParams),new v(t.fragment),new v(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Hf(t,s));return new Oo(r,i)}}const OC="ngNavigationCancelingError";function iN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Vu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function sN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[OC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function oN(t){return t&&t[OC]}let aN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["ng-component"]],standalone:!0,features:[oM],decls:1,vars:0,template:function(r,i){1&r&&bn(0,"router-outlet")},dependencies:[NC],encapsulation:2})}return t})();function kC(t){const e=t.children&&t.children.map(kC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==nt&&(n.component=aN),n}function bs(t){return t.outlet||nt}function $f(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class wG{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),MC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Wl(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Wl(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new aG(s.value.snapshot))}),e.children.length&&this.forwardEvent(new sG(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(MC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),MC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=$f(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class uN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $_{constructor(e,n){this.component=e,this.route=n}}function CG(t,e,n){const r=t._root;return zf(r,e?e._root:null,n,[r.value])}function Zl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Ko(t){return null!==vc(t)}(t)?e.get(t):t:r}function zf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wl(e);return t.children.forEach(o=>{(function TG(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function bG(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ku(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ku(t.url,e.url)||!Xs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xC(t,e)||!Xs(t.queryParams,e.queryParams);default:return!xC(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),zf(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $_(a.outlet.component,o))}else o&&qf(e,a,i),i.canActivateChecks.push(new uN(r)),zf(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>qf(a,n.getContext(o),i)),i}function qf(t,e,n){const r=Wl(t),i=t.value;Object.entries(r).forEach(([s,o])=>{qf(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new $_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gf(t){return"function"==typeof t}function cN(t){return t instanceof R_||"EmptyError"===t?.name}const z_=Symbol("INITIAL_VALUE");function Kl(){return Ce(t=>mC(t.map(e=>e.pipe($l(1),P_(z_)))).pipe(_e(e=>{for(const n of e)if(!0!==n){if(n===z_)return z_;if(!1===n||n instanceof ql)return n}return!0}),Ts(e=>e!==z_),$l(1)))}function lN(t){return function Ci(...t){return Di(t)}(Cr(e=>{if(Vu(e))throw iN(0,e)}),_e(e=>!0===e))}class q_{constructor(e){this.segmentGroup=e||null}}class dN{constructor(e){this.urlTree=e}}function Ql(t){return Mf(new q_(t))}function hN(t){return Mf(new dN(t))}class GG{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new q(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return A(r);if(i.numberOfChildren>1||!i.children[nt])return Mf(new q(4e3,!1));i=i.children[nt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ql(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new $t(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const VC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WG(t,e,n,r,i){const s=FC(t,e,n);return s.matched?(r=function mG(t,e){return t.providers&&!t._injector&&(t._injector=dw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function $G(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?A(i.map(o=>{const a=Zl(o,t);return Ta(function xG(t){return t&&Gf(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Kl(),lN()):A(!0)}(r,e,n).pipe(_e(o=>!0===o?s:{...VC}))):A(s)}function FC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...VC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||T6)(n,t,e);if(!i)return{...VC};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fN(t,e,n,r){return n.length>0&&function QG(t,e,n){return n.some(r=>G_(t,e,r)&&bs(r)!==nt)}(t,n,r)?{segmentGroup:new $t(e,KG(r,new $t(n,t.children))),slicedSegments:[]}:0===n.length&&function YG(t,e,n){return n.some(r=>G_(t,e,r))}(t,n,r)?{segmentGroup:new $t(t.segments,ZG(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $t(t.segments,t.children),slicedSegments:n}}function ZG(t,e,n,r,i){const s={};for(const o of r)if(G_(t,n,o)&&!i[bs(o)]){const a=new $t([],{});s[bs(o)]=a}return{...i,...s}}function KG(t,e){const n={};n[nt]=e;for(const r of t)if(""===r.path&&bs(r)!==nt){const i=new $t([],{});n[bs(r)]=i}return n}function G_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class t8{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new GG(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,!1)}recognize(){const e=fN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nt).pipe(Ou(n=>{if(n instanceof dN)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof q_?this.noMatchError(n):n}),_e(n=>{const r=new j_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),i=new Oo(r,n),s=new tN("",i),o=function q6(t,e,n=null,r=null){return $1(H1(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,nt).pipe(Ou(r=>{throw r instanceof q_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=eN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return I(i).pipe(xf(s=>{const o=r.children[s],a=function IG(t,e){const n=t.filter(r=>bs(r)===e);return n.push(...t.filter(r=>bs(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),x_((s,o)=>(s.push(...o),s)),M_(null),function E6(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ts((i,s)=>t(i,s,r)):En,vC(1),n?M_(e):R1(()=>new R_))}(),Nt(s=>{if(null===s)return Ql(r);const o=pN(s);return function n8(t){t.sort((e,n)=>e.value.outlet===nt?-1:n.value.outlet===nt?1:e.value.outlet.localeCompare(n.value.outlet))}(o),A(o)}))}processSegment(e,n,r,i,s,o){return I(n).pipe(xf(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ou(u=>{if(u instanceof q_)return A(null);throw u}))),Da(a=>!!a),Ou(a=>{if(cN(a))return function XG(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?A([]):Ql(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function JG(t,e,n,r){return!!(bs(t)===r||r!==nt&&G_(e,n,t))&&("**"===t.path||FC(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ql(i):Ql(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hN(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Nt(o=>{const a=new $t(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:h}=FC(n,i,s);if(!a)return Ql(n);const g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?hN(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Nt(m=>this.processSegment(e,r,n,m.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?M1(i).parameters:{};a=A({snapshot:new j_(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gN(r),bs(r),r.component??r._loadedComponent??null,r,mN(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=WG(n,r,i,e).pipe(_e(({matched:u,consumedSegments:l,remainingSegments:h,parameters:g})=>u?{snapshot:new j_(l,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gN(r),bs(r),r.component??r._loadedComponent??null,r,mN(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Ce(u=>null===u?Ql(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ce(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:g,consumedSegments:m,remainingSegments:y}=u,{segmentGroup:D,slicedSegments:b}=fN(n,m,y,l);if(0===b.length&&D.hasChildren())return this.processChildren(h,l,D).pipe(_e(F=>null===F?null:[new Oo(g,F)]));if(0===l.length&&0===b.length)return A([new Oo(g,[])]);const M=bs(r)===s;return this.processSegment(h,l,D,b,M?nt:s,!0).pipe(_e(F=>[new Oo(g,F)]))}))))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?A({routes:n._loadedRoutes,injector:n._loadedInjector}):function HG(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?A(!0):A(i.map(o=>{const a=Zl(o,t);return Ta(function SG(t){return t&&Gf(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Kl(),lN())}(e,n,r).pipe(Nt(i=>i?this.configLoader.loadChildren(e,n).pipe(Cr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function qG(t){return Mf(sN(!1,3))}())):A({routes:[],injector:e})}}function r8(t){const e=t.value.routeConfig;return e&&""===e.path}function pN(t){const e=[],n=new Set;for(const r of t){if(!r8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=pN(r.children);e.push(new Oo(r.value,i))}return e.filter(r=>!n.has(r))}function gN(t){return t.data||{}}function mN(t){return t.resolve||{}}function _N(t){return"string"==typeof t.title||null===t.title}function LC(t){return Ce(e=>{const n=t(e);return n?I(n).pipe(_e(()=>e)):A(e)})}const Yl=new de("ROUTES");let UC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Te(XM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return A(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ta(n.loadComponent()).pipe(_e(yN),Cr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),IC(()=>{this.componentLoaders.delete(n)})),i=new S1(r,()=>new H).pipe(yC());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function l8(t,e,n,r){return Ta(t.loadChildren()).pipe(_e(yN),Nt(i=>i instanceof iM||Array.isArray(i)?A(i):I(e.compileModuleAsync(i))),_e(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Yl,[],{optional:!0,self:!0}).flat()),{routes:o.map(kC),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(IC(()=>{this.childrenLoaders.delete(r)})),o=new S1(s,()=>new H).pipe(yC());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yN(t){return function d8(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let W_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new H,this.transitionAbortSubject=new H,this.configLoader=Te(UC),this.environmentInjector=Te(cs),this.urlSerializer=Te(kf),this.rootContexts=Te(jf),this.inputBindingEnabled=null!==Te(H_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new rG(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new nG(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new v({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Uf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ts(s=>0!==s.id),_e(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Ce(s=>{this.currentTransition=s;let o=!1,a=!1;return A(s).pipe(Cr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ce(u=>{const l=u.currentBrowserUrl.toString(),h=!n.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!h&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Gl(u.id,this.urlSerializer.serialize(u.rawUrl),m,0)),u.resolve(null),wn}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return A(u).pipe(Ce(m=>{const y=this.transitions?.getValue();return this.events.next(new U_(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?wn:Promise.resolve(m)}),function i8(t,e,n,r,i,s){return Nt(o=>function e8(t,e,n,r,i,s,o="emptyOnly"){return new t8(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(_e(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Cr(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new K1(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:m,extractedUrl:y,source:D,restoredState:b,extras:M}=u,F=new U_(m,this.urlSerializer.serialize(y),D,b);this.events.next(F);const x=X1(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:x,urlAfterRedirects:y,extras:{...M,skipLocationChange:!1,replaceUrl:!1}},A(s)}{const m="";return this.events.next(new Gl(u.id,this.urlSerializer.serialize(u.extractedUrl),m,1)),u.resolve(null),wn}}),Cr(u=>{const l=new J6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),_e(u=>(this.currentTransition=s={...u,guards:CG(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function OG(t,e){return Nt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?A({...n,guardsResult:!0}):function kG(t,e,n,r){return I(t).pipe(Nt(i=>function jG(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?A(s.map(a=>{const u=$f(e)??i,l=Zl(a,u);return Ta(function MG(t){return t&&Gf(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):u.runInContext(()=>l(t,e,n,r))).pipe(Da())})).pipe(Kl()):A(!0)}(i.component,i.route,n,e,r)),Da(i=>!0!==i,!0))}(o,r,i,t).pipe(Nt(a=>a&&function AG(t){return"boolean"==typeof t}(a)?function VG(t,e,n,r){return I(e).pipe(xf(i=>_C(function LG(t,e){return null!==t&&e&&e(new iG(t)),A(!0)}(i.route.parent,r),function FG(t,e){return null!==t&&e&&e(new oG(t)),A(!0)}(i.route,r),function BG(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function DG(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>A1(()=>A(o.guards.map(u=>{const l=$f(o.node)??n,h=Zl(u,l);return Ta(function PG(t){return t&&Gf(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(Da())})).pipe(Kl())));return A(s).pipe(Kl())}(t,i.path,n),function UG(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return A(!0);const i=r.map(s=>A1(()=>{const o=$f(e)??n,a=Zl(s,o);return Ta(function RG(t){return t&&Gf(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Da())}));return A(i).pipe(Kl())}(t,i.route,n))),Da(i=>!0!==i,!0))}(r,s,t,e):A(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Cr(u=>{if(s.guardsResult=u.guardsResult,Vu(u.guardsResult))throw iN(0,u.guardsResult);const l=new X6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ts(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),LC(u=>{if(u.guards.canActivateChecks.length)return A(u).pipe(Cr(l=>{const h=new eG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ce(l=>{let h=!1;return A(l).pipe(function s8(t,e){return Nt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let s=0;return I(i).pipe(xf(o=>function o8(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!_N(i)&&(s[Nf]=i.title),function a8(t,e,n,r){const i=function u8(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return A({});const s={};return I(i).pipe(Nt(o=>function c8(t,e,n,r){const i=$f(e)??r,s=Zl(t,i);return Ta(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Da(),Cr(a=>{s[o]=a}))),vC(1),function w6(t){return _e(()=>t)}(s),Ou(o=>cN(o)?wn:Mf(o)))}(s,t,e,r).pipe(_e(o=>(t._resolvedData=o,t.data=eN(t,n).resolve,i&&_N(i)&&(t.data[Nf]=i.title),null)))}(o.route,r,t,e)),Cr(()=>s++),vC(1),Nt(o=>s===i.length?A(n):wn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Cr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),Cr(l=>{const h=new tG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),LC(u=>{const l=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(Cr(m=>{h.component=m}),_e(()=>{})));for(const m of h.children)g.push(...l(m));return g};return mC(l(u.targetSnapshot.root)).pipe(M_(),$l(1))}),LC(()=>this.afterPreactivation()),_e(u=>{const l=function hG(t,e,n){const r=Hf(t,e._root,n?n._root:void 0);return new J1(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},s}),Cr(()=>{this.events.next(new bC)}),((t,e,n,r)=>_e(i=>(new wG(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),$l(1),Cr({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ba(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function C6(t){return J((e,n)=>{_t(t).subscribe(ge(n,()=>n.complete(),Ae)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Cr(u=>{throw u}))),IC(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ou(u=>{if(a=!0,oN(u))this.events.next(new Bf(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function gG(t){return oN(t)&&Vu(t.url)}(u)?this.events.next(new AC(u.url)):s.resolve(!1);else{this.events.next(new B_(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){s.reject(l)}}return wn}))}))}cancelNavigationTransition(n,r,i){const s=new Bf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vN(t){return t!==Uf}let IN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===nt);return r}getResolvedTitleForRoute(n){return n.data[Nf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:function(){return Te(h8)},providedIn:"root"})}return t})(),h8=(()=>{class t extends IN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(ce(v1))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:function(){return Te(g8)},providedIn:"root"})}return t})();class p8{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let g8=(()=>{class t extends p8{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=wr(t)))(i||t)}}();static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Z_=new de("",{providedIn:"root",factory:()=>({})});let m8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:function(){return Te(_8)},providedIn:"root"})}return t})(),_8=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Wf||{});function EN(t,e){t.events.pipe(Ts(n=>n instanceof ba||n instanceof Bf||n instanceof B_||n instanceof Gl),_e(n=>n instanceof ba||n instanceof Gl?Wf.COMPLETE:n instanceof Bf&&(0===n.code||1===n.code)?Wf.REDIRECTING:Wf.FAILED),Ts(n=>n!==Wf.REDIRECTING),$l(1)).subscribe(()=>{e()})}function y8(t){throw t}function v8(t,e,n){return e.parse("/")}const I8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Te(YM),this.isNgZoneEnabled=!1,this._events=new H,this.options=Te(Z_,{optional:!0})||{},this.pendingTasks=Te(JM),this.errorHandler=this.options.errorHandler||y8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||v8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Te(m8),this.routeReuseStrategy=Te(f8),this.titleStrategy=Te(IN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Te(Yl,{optional:!0})?.flat()??[],this.navigationTransitions=Te(W_),this.urlSerializer=Te(kf),this.location=Te(zw),this.componentInputBindingEnabled=!!Te(H_,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=Te(Tt)instanceof Tt&&Tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ql,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=X1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(wN(r)&&this._events.next(r));if(r instanceof U_)vN(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Gl)this.rawUrlTree=i.rawUrl;else if(r instanceof K1){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof bC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Bf)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof AC){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vN(i.source)};this.scheduleNavigation(s,Uf,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof B_&&this.restoreHistory(i,!0),r instanceof ba&&(this.navigated=!0),wN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Uf,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(kC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let g,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{g=H1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return $1(g,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Vu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Uf,null,r)}navigate(n,r={skipLocationChange:!1}){return function w8(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new q(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...I8}:!1===r?{...E8}:r,Vu(n))return N1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return N1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((g,m)=>{a=g,u=m});const h=this.pendingTasks.add();return EN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wN(t){return!(t instanceof bC||t instanceof AC)}let to=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new H,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ba&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function rS(t,e,n){return function ij(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?nS:tS}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(G(vi),G(Fu),function cm(t){return function rl(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(eh(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Wn(),t)}("tabindex"),G(To),G(mi),G(Nu))};static#t=this.\u0275dir=Be({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&et("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Zs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",jl],skipLocationChange:["skipLocationChange","skipLocationChange",jl],replaceUrl:["replaceUrl","replaceUrl",jl],routerLink:"routerLink"},standalone:!0,features:[_R,ei]})}return t})(),CN=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Tn,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof ba&&this.update()})}ngAfterContentInit(){A(this.links.changes,A(null)).pipe(Yr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=I(n).pipe(Yr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function C8(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(vi),G(mi),G(To),G(l_),G(to,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&PM(s,to,5),2&r){let o;RM(o=function MM(){return function lz(t,e){return t[es].queries[e].queryList}(ee(),Eu())}())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ei]})}return t})();class DN{}let D8=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ts(n=>n instanceof ba),xf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=dw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return I(i).pipe(Yr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):A(null);const s=i.pipe(Nt(o=>null===o?A(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?I([s,this.loader.loadComponent(r)]).pipe(Yr()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(ce(vi),ce(XM),ce(cs),ce(DN),ce(UC))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const BC=new de("");let TN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof U_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ba?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Gl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Q1&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Q1(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function zS(){throw new Error("invalid")}()};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})();function ko(t,e){return{\u0275kind:t,\u0275providers:e}}function AN(){const t=Te(ri);return e=>{const n=t.get(Bl);if(e!==n.components[0])return;const r=t.get(vi),i=t.get(SN);1===t.get(jC)&&r.initialNavigation(),t.get(RN,null,st.Optional)?.setUpPreloading(),t.get(BC,null,st.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const SN=new de("",{factory:()=>new H}),jC=new de("",{providedIn:"root",factory:()=>1}),RN=new de("");function S8(t){return ko(0,[{provide:RN,useExisting:D8},{provide:DN,useExisting:t}])}const PN=new de("ROUTER_FORROOT_GUARD"),P8=[zw,{provide:kf,useClass:EC},vi,jf,{provide:Fu,useFactory:function bN(t){return t.routerState.root},deps:[vi]},UC,[]];function M8(){return new ox("Router",vi)}let MN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[P8,[],{provide:Yl,multi:!0,useValue:n},{provide:PN,useFactory:k8,deps:[[vi,new zs,new hm]]},{provide:Z_,useValue:r||{}},r?.useHash?{provide:Nu,useClass:z9}:{provide:Nu,useClass:Fx},{provide:BC,useFactory:()=>{const t=Te(uq),e=Te(Tt),n=Te(Z_),r=Te(W_),i=Te(kf);return n.scrollOffset&&t.setOffset(n.scrollOffset),new TN(i,r,t,e,n)}},r?.preloadingStrategy?S8(r.preloadingStrategy).\u0275providers:[],{provide:ox,multi:!0,useFactory:M8},r?.initialNavigation?V8(r):[],r?.bindToComponentInputs?ko(8,[rN,{provide:H_,useExisting:rN}]).\u0275providers:[],[{provide:xN,useFactory:AN},{provide:Ow,multi:!0,useExisting:xN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Yl,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ce(PN,8))};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({})}return t})();function k8(t){return"guarded"}function V8(t){return["disabled"===t.initialNavigation?ko(3,[{provide:bw,multi:!0,useFactory:()=>{const e=Te(vi);return()=>{e.setUpLocationChangeListener()}}},{provide:jC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ko(2,[{provide:jC,useValue:0},{provide:bw,multi:!0,deps:[ri],useFactory:e=>{const n=e.get(H9,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(vi),s=e.get(SN);EN(i,()=>{r(!0)}),e.get(W_).afterPreactivation=()=>(r(!0),s.closed?A(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const xN=new de("");var Fi=Fe(534);(0,Fi.registerVersion)("firebase","10.5.2","app");class B8 extends wt{constructor(e,n){super()}schedule(e,n=0){return this}}const K_={setInterval(t,e,...n){const{delegate:r}=K_;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=K_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class NN extends B8{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return K_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&K_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Se(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const HC={now:()=>(HC.delegate||Date).now(),delegate:void 0};class Zf{constructor(e,n=Zf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Zf.now=HC.now;class ON extends Zf{constructor(e,n=Zf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const $8=new class H8 extends ON{}(class j8 extends NN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),kN=new ON(NN),Jl=new wl("ANGULARFIRE2_VERSION"),VN=(t,e)=>{const n=e?[e]:(0,Fi.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class $C{constructor(){return VN(q8)}}const q8="app-check";function Xl(){}class FN{zone;delegate;constructor(e,n=$8){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class G8{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xl,{},Xl,Xl)),n.pipe(Cr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Q_=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new FN(Zone.current)),this.insideAngular=n.run(()=>new FN(Zone.current,kN)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ce(Tt))};static \u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ed(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Lu(t){return ed().ngZone.run(()=>t())}function Li(t){return function Z8(t){return function(n){return(n=n.lift(new G8(t.ngZone))).pipe(ur(t.outsideAngular),Sn(t.insideAngular))}}(ed())(t)}const K8=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Lu(()=>t.apply(void 0,r))},LN=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Lu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xl,{},Xl,Xl))),r[s]=K8(r[s],n));const i=function W8(t){return ed().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Xe){const s=ed();return i.pipe(ur(s.outsideAngular),Sn(s.insideAngular))}return Lu(()=>i)}return i instanceof Xe?i.pipe(Li):i instanceof Promise?Lu(()=>new Promise((s,o)=>i.then(a=>Lu(()=>s(a)),a=>Lu(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Lu(()=>i)};var Aa=Fe(106);Aa.Z.registerVersion("firebase","10.5.2","app-compat");const J8=["ngOnDestroy"];class UN{constructor(e){return e}}const Kf=new de("angularfire2.app.options"),Y_=new de("angularfire2.app.name");function zC(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=Aa.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Aa.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){const a=!!module.hot;tW("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new UN(o)}const tW=(t,...e)=>{},nW={provide:UN,useFactory:zC,deps:[Kf,Tt,[new zs,Y_]]};let rW=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Kf,useValue:n},{provide:Y_,useValue:r}]}}constructor(n){Aa.Z.registerVersion("angularfire",Jl.full,"core"),Aa.Z.registerVersion("angularfire",Jl.full,"app-compat"),Aa.Z.registerVersion("angular",CE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(ce(qs))};static \u0275mod=Hn({type:t});static \u0275inj=Yn({providers:[nW]})}return t})();function BN(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return function iW(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,o)||(jN("error",`${e} was already initialized on the ${n} Firebase App with different settings.${sW?" You may need to reload as Firebase is not HMR aware.":""}`),jN("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const sW=typeof module<"u"&&!!module.hot,jN=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Fe(365);class oW extends H{constructor(e=1/0,n=1/0,r=HC){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function HN(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Z({connector:()=>new oW(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function $N(t,e){return C(e)?Ce(()=>t,e):Ce(()=>t)}const zN=new de("angularfire2.auth.use-emulator"),qN=new de("angularfire2.auth.settings"),GN=new de("angularfire2.auth.tenant-id"),WN=new de("angularfire2.auth.langugage-code"),ZN=new de("angularfire2.auth.use-device-language"),KN=new de("angularfire.auth.persistence"),QN=(t,e,n,r,i,s,o,a)=>BN(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[l,h]of Object.entries(o))u.settings[l]=h;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let qC=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,l,h,g,m,y){const D=new H,b=A(void 0).pipe(Sn(o.outsideAngular),Ce(()=>s.runOutsideAngular(()=>Promise.resolve().then(Fe.bind(Fe,365)))),_e(()=>zC(n,s,r)),_e(M=>QN(M,s,a,l,h,g,u,m)),HN({bufferSize:1,refCount:!1}));if(T_(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=A(null);else{b.pipe(Da()).subscribe();const M=b.pipe(Ce(z=>z.getRedirectResult().then(oe=>oe,()=>null)),Li,HN({bufferSize:1,refCount:!1})),F=b.pipe(Ce(z=>new Xe(oe=>({unsubscribe:s.runOutsideAngular(()=>z.onAuthStateChanged(pe=>oe.next(pe),pe=>oe.error(pe),()=>oe.complete()))})))),x=b.pipe(Ce(z=>new Xe(oe=>({unsubscribe:s.runOutsideAngular(()=>z.onIdTokenChanged(pe=>oe.next(pe),pe=>oe.error(pe),()=>oe.complete()))}))));this.authState=M.pipe($N(F),ur(o.outsideAngular),Sn(o.insideAngular)),this.user=M.pipe($N(x),ur(o.outsideAngular),Sn(o.insideAngular)),this.idToken=this.user.pipe(Ce(z=>z?I(z.getIdToken()):A(null))),this.idTokenResult=this.user.pipe(Ce(z=>z?I(z.getIdTokenResult()):A(null))),this.credential=w(M,D,this.authState.pipe(Ts(z=>!z))).pipe(_e(z=>z?.user?z:null),ur(o.outsideAngular),Sn(o.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(J8.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(h=>{const g=h?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,g),g})})})}))(this,b,s,{spy:{apply:(M,F,x)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&x.then(z=>D.next(z))}}})}static \u0275fac=function(r){return new(r||t)(ce(Kf),ce(Y_,8),ce(qs),ce(Tt),ce(Q_),ce(zN,8),ce(qN,8),ce(GN,8),ce(WN,8),ce(ZN,8),ce(KN,8),ce($C,8))};static \u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();function GC(){return J((t,e)=>{let n,r=!1;t.subscribe(ge(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}var Ie,Q=Fe(861),YN=Fe(537),no=Fe(879),Qt=Fe(58),uW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},As={},WC=WC||{},Ye=uW||self;function J_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Qf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ZC="closure_uid_"+(1e9*Math.random()>>>0),lW=0;function dW(t,e,n){return t.call.apply(t.bind,arguments)}function hW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Br(t,e,n){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dW:hW).apply(null,arguments)}function X_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Sa(){this.s=this.s,this.o=this.o}Sa.prototype.s=!1,Sa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function cW(t){Object.prototype.hasOwnProperty.call(t,ZC)&&t[ZC]||(t[ZC]=++lW)}(this)},Sa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function KC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XN(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(J_(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function jr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jr.prototype.h=function(){this.defaultPrevented=!0};var pW=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ye.addEventListener("test",()=>{},e),Ye.removeEventListener("test",()=>{},e)}catch{}return t}();function Yf(t){return/^[\s\xa0]*$/.test(t)}function ey(){var t=Ye.navigator;return t&&(t=t.userAgent)?t:""}function ro(t){return-1!=ey().indexOf(t)}function QC(t){return QC[" "](t),t}QC[" "]=function(){};var JC,t,mW=ro("Opera"),td=ro("Trident")||ro("MSIE"),eO=ro("Edge"),YC=eO||td,tO=ro("Gecko")&&!(-1!=ey().toLowerCase().indexOf("webkit")&&!ro("Edge"))&&!(ro("Trident")||ro("MSIE"))&&!ro("Edge"),_W=-1!=ey().toLowerCase().indexOf("webkit")&&!ro("Edge");function nO(){var t=Ye.document;return t?t.documentMode:void 0}e:{var XC="",e0=(t=ey(),tO?/rv:([^\);]+)(\)|;)/.exec(t):eO?/Edge\/([\d\.]+)/.exec(t):td?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_W?/WebKit\/(\S+)/.exec(t):mW?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(e0&&(XC=e0?e0[1]:""),td){var t0=nO();if(null!=t0&&t0>parseFloat(XC)){JC=String(t0);break e}}JC=XC}var yW=Ye.document&&td&&(nO()||parseInt(JC,10))||void 0;function Jf(t,e){if(jr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tO){e:{try{QC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jf.$.h.call(this)}}fr(Jf,jr);var vW={2:"touch",3:"pen",4:"mouse"};Jf.prototype.h=function(){Jf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xf="closure_listenable_"+(1e6*Math.random()|0),IW=0;function EW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++IW,this.fa=this.ia=!1}function ty(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function r0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function iO(t){const e={};for(const n in t)e[n]=t[n];return e}const sO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<sO.length;s++)n=sO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ny(t){this.src=t,this.g={},this.h=0}function s0(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=JN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ty(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function o0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}ny.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=o0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new EW(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var a0="closure_lm_"+(1e6*Math.random()|0),u0={};function aO(t,e,n,r,i){if(r&&r.once)return cO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)aO(t,e[s],n,r,i);return null}return n=h0(n),t&&t[Xf]?t.O(e,n,Qf(r)?!!r.capture:!!r,i):uO(t,e,n,!1,r,i)}function uO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Qf(i)?!!i.capture:!!i,a=l0(t);if(a||(t[a0]=a=new ny(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function CW(){const e=DW;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pW||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cO(t,e[s],n,r,i);return null}return n=h0(n),t&&t[Xf]?t.P(e,n,Qf(r)?!!r.capture:!!r,i):uO(t,e,n,!0,r,i)}function lO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lO(t,e[s],n,r,i);else r=Qf(r)?!!r.capture:!!r,n=h0(n),t&&t[Xf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=o0(s=t.g[e],n,r,i))&&(ty(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=l0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=o0(e,n,r,i)),(n=-1<t?e[t]:null)&&c0(n))}function c0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Xf])s0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=l0(e))?(s0(n,t),0==n.h&&(n.src=null,e[a0]=null)):ty(t)}}}function dO(t){return t in u0?u0[t]:u0[t]="on"+t}function DW(t,e){if(t.fa)t=!0;else{e=new Jf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&c0(t),t=n.call(r,e)}return t}function l0(t){return(t=t[a0])instanceof ny?t:null}var d0="__closure_events_fn_"+(1e9*Math.random()>>>0);function h0(t){return"function"==typeof t?t:(t[d0]||(t[d0]=function(e){return t.handleEvent(e)}),t[d0])}function pr(){Sa.call(this),this.i=new ny(this),this.S=this,this.J=null}function Dr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new jr(e,t);else if(e instanceof jr)e.target=e.target||t;else{var i=e;oO(e=new jr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ry(o,r,!0,e)&&i}if(i=ry(o=e.g=t,r,!0,e)&&i,i=ry(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ry(o=e.g=n[s],r,!1,e)&&i}function ry(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&s0(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}fr(pr,Sa),pr.prototype[Xf]=!0,pr.prototype.removeEventListener=function(t,e,n,r){lO(this,t,e,n,r)},pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ty(n[r]);delete t.g[e],t.h--}}this.J=null},pr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var f0=Ye.JSON.stringify;function bW(){var t=p0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var hO=new class TW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new SW,t=>t.reset());class SW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function RW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function PW(t){Ye.setTimeout(()=>{throw t},0)}let ep,tp=!1,p0=new class AW{constructor(){this.h=this.g=null}add(e,n){const r=hO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},fO=()=>{const t=Ye.Promise.resolve(void 0);ep=()=>{t.then(MW)}};var MW=()=>{for(var t;t=bW();){try{t.h.call(t.g)}catch(n){PW(n)}var e=hO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tp=!1};function iy(t,e){pr.call(this),this.h=t||1,this.g=e||Ye,this.j=Br(this.qb,this),this.l=Date.now()}function g0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function m0(t,e,n){if("function"==typeof t)n&&(t=Br(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Br(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function pO(t){t.g=m0(()=>{t.g=null,t.i&&(t.i=!1,pO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}fr(iy,pr),(Ie=iy.prototype).ga=!1,Ie.T=null,Ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dr(this,"tick"),this.ga&&(g0(this),this.start()))}},Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.N=function(){iy.$.N.call(this),g0(this),delete this.g};class xW extends Sa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pO(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function np(t){Sa.call(this),this.h=t,this.g={}}fr(np,Sa);var gO=[];function mO(t,e,n,r){Array.isArray(n)||(n&&(gO[0]=n.toString()),n=gO);for(var i=0;i<n.length;i++){var s=aO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _O(t){r0(t.g,function(e,n){this.g.hasOwnProperty(n)&&c0(e)},t),t.g={}}function sy(){this.g=!0}function nd(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function VW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return f0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}np.prototype.N=function(){np.$.N.call(this),_O(this)},np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sy.prototype.Ea=function(){this.g=!1},sy.prototype.info=function(){};var Uu={},yO=null;function oy(){return yO=yO||new pr}function vO(t){jr.call(this,Uu.Ta,t)}function rp(t){const e=oy();Dr(e,new vO(e))}function IO(t,e){jr.call(this,Uu.STAT_EVENT,t),this.stat=e}function ai(t){const e=oy();Dr(e,new IO(e,t))}function EO(t,e){jr.call(this,Uu.Ua,t),this.size=e}function ip(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}Uu.Ta="serverreachability",fr(vO,jr),Uu.STAT_EVENT="statevent",fr(IO,jr),Uu.Ua="timingevent",fr(EO,jr);var ay={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _0(){}function DO(){}_0.prototype.h=null;var I0,sp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function y0(){jr.call(this,"d")}function v0(){jr.call(this,"c")}function uy(){}function op(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new np(this),this.P=FW,this.V=new iy(t=YC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TO}function TO(){this.i=null,this.g="",this.h=!1}fr(y0,jr),fr(v0,jr),fr(uy,_0),uy.prototype.g=function(){return new XMLHttpRequest},uy.prototype.i=function(){return{}},I0=new uy;var FW=45e3,E0={},cy={};function w0(t,e,n){t.L=1,t.v=fy(Vo(e)),t.s=n,t.S=!0,bO(t,null)}function bO(t,e){t.G=Date.now(),ap(t),t.A=Vo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),VO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new TO,t.g=ok(t.l,n?e:null,!t.s),0<t.O&&(t.M=new xW(Br(t.Pa,t,t.g),t.O)),mO(t.U,t.g,"readystatechange",t.nb),e=t.I?iO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),rp(),function NW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var h=l[0];l=l[1];var g=h.split("_");o=2<=g.length&&"type"==g[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function AO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function SO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=LW(t,n),i==cy){4==e&&(t.o=4,ai(14),r=!1),nd(t.j,t.m,null,"[Incomplete Response]");break}if(i==E0){t.o=4,ai(15),nd(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}nd(t.j,t.m,i,null),C0(t,i)}AO(t)&&i!=cy&&i!=E0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ai(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),P0(e),e.M=!0,ai(11))):(nd(t.j,t.m,n,"[Invalid Chunked Response]"),Bu(t),up(t))}function LW(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?cy:(n=Number(e.substring(n,r)),isNaN(n)?E0:(r+=1)+n>e.length?cy:(e=e.slice(r,r+n),t.C=r+n,e))}function ap(t){t.Y=Date.now()+t.P,RO(t,t.P)}function RO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ip(Br(t.lb,t),e)}function ly(t){t.B&&(Ye.clearTimeout(t.B),t.B=null)}function up(t){0==t.l.H||t.J||nk(t.l,t)}function Bu(t){ly(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,g0(t.V),_O(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function C0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||D0(n.i,t)))if(!t.K&&D0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;vy(n),_y(n)}R0(n),ai(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ip(Br(n.ib,n),6e3));if(1>=UO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Hu(n,11)}else if((t.K||n.g==t)&&vy(n),!Yf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const g=l[4];null!=g&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const D=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var s=r.i;s.g||-1==D.indexOf("spdy")&&-1==D.indexOf("quic")&&-1==D.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(T0(s,s.h),s.h=null))}if(r.F){const b=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,ln(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=sk(r,r.J?r.pa:null,r.Y),o.K){BO(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(ly(a),ap(a)),r.g=o}else ek(r);0<n.j.length&&yy(n)}else"stop"!=l[0]&&"close"!=l[0]||Hu(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Hu(n,7):S0(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}rp()}catch{}}function PO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(J_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function BW(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(J_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function UW(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(J_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ie=op.prototype).setTimeout=function(t){this.P=t},Ie.nb=function(t){t=t.target;const e=this.M;e&&3==io(t)?e.l():this.Pa(t)},Ie.Pa=function(t){try{if(t==this.g)e:{const h=io(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||YC||this.g&&(this.h.h||this.g.ja()||ZO(this.g)))){this.J||4!=h||7==e||rp(),ly(this);var n=this.g.da();this.ca=n;t:if(AO(this)){var r=ZO(this.g);t="";var i=r.length,s=4==io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bu(this),up(this);var o="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function OW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,ai(12),Bu(this),up(this);break e}nd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,C0(this,n)}this.S?(SO(this,h,o),YC&&this.i&&3==h&&(mO(this.U,this.V,"tick",this.mb),this.V.start())):(nd(this.j,this.m,o,null),C0(this,o)),4==h&&Bu(this),this.i&&!this.J&&(4==h?nk(this.l,this):(this.i=!1,ap(this)))}else(function i7(t){const e={};t=(t.g&&2<=io(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Yf(t[r]))continue;var n=RW(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function wW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ai(12)):(this.o=0,ai(13)),Bu(this),up(this)}}}catch{}},Ie.mb=function(){if(this.g){var t=io(this.g),e=this.g.ja();this.C<e.length&&(ly(this),SO(this,t,e),this.i&&4!=t&&ap(this))}},Ie.cancel=function(){this.J=!0,Bu(this)},Ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function kW(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(rp(),ai(17)),Bu(this),this.o=2,up(this)):RO(this,this.Y-t)};var MO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ju(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ju){this.h=t.h,dy(this,t.j),this.s=t.s,this.g=t.g,hy(this,t.m),this.l=t.l;var e=t.i,n=new dp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xO(this,n),this.o=t.o}else t&&(e=String(t).match(MO))?(this.h=!1,dy(this,e[1]||"",!0),this.s=cp(e[2]||""),this.g=cp(e[3]||"",!0),hy(this,e[4]),this.l=cp(e[5]||"",!0),xO(this,e[6]||"",!0),this.o=cp(e[7]||"")):(this.h=!1,this.i=new dp(null,this.h))}function Vo(t){return new ju(t)}function dy(t,e,n){t.j=n?cp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xO(t,e,n){e instanceof dp?(t.i=e,function WW(t,e){e&&!t.j&&(Ra(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OO(this,r),VO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=lp(e,qW)),t.i=new dp(e,t.h))}function ln(t,e,n){t.i.set(e,n)}function fy(t){return ln(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lp(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,HW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function HW(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ju.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lp(e,NO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(lp(e,NO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(lp(n,"/"==n.charAt(0)?zW:$W,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lp(n,GW)),t.join("")};var NO=/[#\/\?@]/g,$W=/[#\?:]/g,zW=/[#\?]/g,qW=/[#\?@]/g,GW=/#/g;function dp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ra(t){t.g||(t.g=new Map,t.h=0,t.i&&function jW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function OO(t,e){Ra(t),e=rd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kO(t,e){return Ra(t),e=rd(t,e),t.g.has(e)}function VO(t,e,n){OO(t,e),0<n.length&&(t.i=null,t.g.set(rd(t,e),KC(n)),t.h+=n.length)}function rd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FO(t){this.l=t||KW,t=Ye.PerformanceNavigationTiming?0<(t=Ye.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=dp.prototype).add=function(t,e){Ra(this),this.i=null,t=rd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ie.forEach=function(t,e){Ra(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ie.ta=function(){Ra(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ie.Z=function(t){Ra(this);let e=[];if("string"==typeof t)kO(this,t)&&(e=e.concat(this.g.get(rd(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ie.set=function(t,e){return Ra(this),this.i=null,kO(this,t=rd(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ie.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var KW=10;function LO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function UO(t){return t.h?1:t.g?t.g.size:0}function D0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function T0(t,e){t.g?t.g.add(e):t.h=e}function BO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return KC(t.i)}FO.prototype.cancel=function(){if(this.i=jO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var QW=class{stringify(t){return Ye.JSON.stringify(t,void 0)}parse(t){return Ye.JSON.parse(t,void 0)}};function YW(){this.g=new QW}function JW(t,e,n){const r=n||"";try{PO(t,function(i,s){let o=i;Qf(i)&&(o=f0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function py(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hp(t){this.l=t.ec||null,this.j=t.ob||!1}function gy(t,e){pr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=b0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fr(hp,_0),hp.prototype.g=function(){return new gy(this.l,this.j)},hp.prototype.i=function(t){return function(){return t}}({}),fr(gy,pr);var b0=0;function HO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function fp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pp(t)}function pp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ie=gy.prototype).open=function(t,e){if(this.readyState!=b0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pp(this)},Ie.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fp(this)),this.readyState=b0},Ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pp(this)),this.g&&(this.readyState=3,pp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fp(this):pp(this),3==this.readyState&&HO(this)}},Ie.Za=function(t){this.g&&(this.response=this.responseText=t,fp(this))},Ie.Ya=function(t){this.g&&(this.response=t,fp(this))},Ie.ka=function(){this.g&&fp(this)},Ie.setRequestHeader=function(t,e){this.v.append(t,e)},Ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var e7=Ye.JSON.parse;function xn(t){pr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$O,this.L=this.M=!1}fr(xn,pr);var $O="",t7=/^https?$/i,n7=["POST","PUT"];function zO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qO(t),my(t)}function qO(t){t.F||(t.F=!0,Dr(t,"complete"),Dr(t,"error"))}function GO(t){if(t.h&&typeof WC<"u"&&(!t.C[1]||4!=io(t)||2!=t.da()))if(t.v&&4==io(t))m0(t.La,0,t);else if(Dr(t,"readystatechange"),4==io(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(MO)[1]||null;!i&&Ye.self&&Ye.self.location&&(i=Ye.self.location.protocol.slice(0,-1)),r=!t7.test(i?i.toLowerCase():"")}n=r}if(n)Dr(t,"complete"),Dr(t,"success");else{t.m=6;try{var s=2<io(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",qO(t)}}finally{my(t)}}}function my(t,e){if(t.g){WO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dr(t,"ready");try{n.onreadystatechange=r}catch{}}}function WO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}function io(t){return t.g?t.g.readyState:0}function ZO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $O:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function KO(t){let e="";return r0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function A0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=KO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ln(t,e,n))}function gp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QO(t){this.Ga=0,this.j=[],this.l=new sy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gp("baseRetryDelayMs",5e3,t),this.hb=gp("retryDelaySeedMs",1e4,t),this.eb=gp("forwardChannelMaxRetries",2,t),this.xa=gp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FO(t&&t.concurrentRequestLimit),this.Ja=new YW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function S0(t){if(YO(t),3==t.H){var e=t.W++,n=Vo(t.I);if(ln(n,"SID",t.K),ln(n,"RID",e),ln(n,"TYPE","terminate"),mp(t,n),(e=new op(t,t.l,e)).L=2,e.v=fy(Vo(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{n=Ye.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ye.Image&&((new Image).src=e.v,n=!0),n||(e.g=ok(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ap(e)}ik(t)}function _y(t){t.g&&(P0(t),t.g.cancel(),t.g=null)}function YO(t){_y(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),vy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ye.clearTimeout(t.m),t.m=null)}function yy(t){if(!LO(t.i)&&!t.m){t.m=!0;var e=t.Na;ep||fO(),tp||(ep(),tp=!0),p0.add(e,t),t.C=0}}function JO(t,e){var n;n=e?e.m:t.W++;const r=Vo(t.I);ln(r,"SID",t.K),ln(r,"RID",n),ln(r,"AID",t.V),mp(t,r),t.o&&t.s&&A0(r,t.o,t.s),n=new op(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),T0(t.i,n),w0(n,r,e)}function mp(t,e){t.na&&r0(t.na,function(n,r){ln(e,r,n)}),t.h&&PO({},function(n,r){ln(e,r,n)})}function XO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Br(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const h=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{JW(h,o,"req"+l+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ek(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ep||fO(),tp||(ep(),tp=!0),p0.add(e,t),t.A=0}}function R0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ip(Br(t.Ma,t),rk(t,t.A)),t.A++,0))}function P0(t){null!=t.B&&(Ye.clearTimeout(t.B),t.B=null)}function tk(t){t.g=new op(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Vo(t.wa);ln(e,"RID","rpc"),ln(e,"SID",t.K),ln(e,"AID",t.V),ln(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ln(e,"TO",t.qa),ln(e,"TYPE","xmlhttp"),mp(t,e),t.o&&t.s&&A0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=fy(Vo(e)),n.s=null,n.S=!0,bO(n,t)}function vy(t){null!=t.v&&(Ye.clearTimeout(t.v),t.v=null)}function nk(t,e){var n=null;if(t.g==e){vy(t),P0(t),t.g=null;var r=2}else{if(!D0(t.i,e))return;n=e.F,BO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Dr(r=oy(),new EO(r,n)),yy(t)}else ek(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function s7(t,e){return!(UO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ip(Br(t.Na,t,e),rk(t,t.C)),t.C++,0)))}(t,e)||2==r&&R0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Hu(t,5);break;case 4:Hu(t,10);break;case 3:Hu(t,6);break;default:Hu(t,2)}}function rk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Hu(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Br(t.pb,t);n||(n=new ju("//www.google.com/images/cleardot.gif"),Ye.location&&"http"==Ye.location.protocol||dy(n,"https"),fy(n)),function XW(t,e){const n=new sy;if(Ye.Image){const r=new Image;r.onload=X_(py,n,r,"TestLoadImage: loaded",!0,e),r.onerror=X_(py,n,r,"TestLoadImage: error",!1,e),r.onabort=X_(py,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=X_(py,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ai(2);t.H=0,t.h&&t.h.za(e),ik(t),YO(t)}function ik(t){if(t.H=0,t.ma=[],t.h){const e=jO(t.i);(0!=e.length||0!=t.j.length)&&(XN(t.ma,e),XN(t.ma,t.j),t.i.i.length=0,KC(t.j),t.j.length=0),t.h.ya()}}function sk(t,e,n){var r=n instanceof ju?Vo(n):new ju(n);if(""!=r.g)e&&(r.g=e+"."+r.g),hy(r,r.m);else{var i=Ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ju(null);r&&dy(s,r),e&&(s.g=e),i&&hy(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ln(r,n,e),ln(r,"VER",t.ra),mp(t,r),r}function ok(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xn(n&&t.Ha&&!t.va?new hp({ob:!0}):t.va)).Oa(t.J),e}function ak(){}function Iy(){if(td&&!(10<=Number(yW)))throw Error("Environmental error: no available transport.")}function Ui(t,e){pr.call(this),this.g=new QO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new id(this)}function uk(t){y0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ck(){v0.call(this),this.status=1}function id(t){this.g=t}function Ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function M0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function zt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ie=xn.prototype).Oa=function(t){this.M=t},Ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():I0.g(),this.C=function CO(t){return t.h||(t.h=t.i())}(this.u?this.u:I0),this.g.onreadystatechange=Br(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void zO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ye.FormData&&t instanceof Ye.FormData,!(0<=JN(n7,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WO(this),0<this.B&&((this.L=function r7(t){return td&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.ua,this)):this.A=m0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zO(this,s)}},Ie.ua=function(){typeof WC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dr(this,"timeout"),this.abort(8))},Ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dr(this,"complete"),Dr(this,"abort"),my(this))},Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),my(this,!0)),xn.$.N.call(this)},Ie.La=function(){this.s||(this.G||this.v||this.l?GO(this):this.kb())},Ie.kb=function(){GO(this)},Ie.isActive=function(){return!!this.g},Ie.da=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),e7(e)}},Ie.Ia=function(){return this.m},Ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=QO.prototype).ra=8,Ie.H=1,Ie.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new op(this,this.l,t);let s=this.s;if(this.U&&(s?(s=iO(s),oO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XO(this,i,e),ln(n=Vo(this.I),"RID",t),ln(n,"CVER",22),this.F&&ln(n,"X-HTTP-Session-Id",this.F),mp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(KO(s)))+"&"+e:this.o&&A0(n,this.o,s)),T0(this.i,i),this.bb&&ln(n,"TYPE","init"),this.P?(ln(n,"$req",e),ln(n,"SID","null"),i.aa=!0,w0(i,n,null)):w0(i,n,e),this.H=2}}else 3==this.H&&(t?JO(this,t):0==this.j.length||LO(this.i)||JO(this))},Ie.Ma=function(){if(this.u=null,tk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ip(Br(this.jb,this),t)}},Ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ai(10),_y(this),tk(this))},Ie.ib=function(){null!=this.v&&(this.v=null,_y(this),R0(this),ai(19))},Ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ai(2)):(this.l.info("Failed to ping google.com"),ai(1))},Ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ie=ak.prototype).Ba=function(){},Ie.Aa=function(){},Ie.za=function(){},Ie.ya=function(){},Ie.isActive=function(){return!0},Ie.Va=function(){},Iy.prototype.g=function(t,e){return new Ui(t,e)},fr(Ui,pr),Ui.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ai(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sk(t,null,t.Y),yy(t)},Ui.prototype.close=function(){S0(this.g)},Ui.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=f0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&yy(e)},Ui.prototype.N=function(){this.g.h=null,delete this.j,S0(this.g),delete this.g,Ui.$.N.call(this)},fr(uk,y0),fr(ck,v0),fr(id,ak),id.prototype.Ba=function(){Dr(this.g,"a")},id.prototype.Aa=function(t){Dr(this.g,new uk(t))},id.prototype.za=function(t){Dr(this.g,new ck)},id.prototype.ya=function(){Dr(this.g,"b")},fr(Ss,function o7(){this.blockSize=-1}),Ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ss.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)M0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){M0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){M0(this,r),i=0;break}}this.h=i,this.i+=e},Ss.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var a7={};function x0(t){return-128<=t&&128>t?function gW(t,e){var n=a7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new zt([0|e],0>e?-1:0)}):new zt([0|t],0>t?-1:0)}function so(t){if(isNaN(t)||!isFinite(t))return sd;if(0>t)return Tr(so(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=N0;return new zt(e,0)}var N0=4294967296,sd=x0(0),O0=x0(1),dk=x0(16777216);function Fo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ps(t){return-1==t.h}function Tr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new zt(n,~t.h).add(O0)}function Ey(t,e){return t.add(Tr(e))}function wy(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _p(t,e){this.g=t,this.h=e}function Cy(t,e){if(Fo(e))throw Error("division by zero");if(Fo(t))return new _p(sd,sd);if(ps(t))return e=Cy(Tr(t),e),new _p(Tr(e.g),Tr(e.h));if(ps(e))return e=Cy(t,Tr(e)),new _p(Tr(e.g),e.h);if(30<t.g.length){if(ps(t)||ps(e))throw Error("slowDivide_ only works with positive integers.");for(var n=O0,r=e;0>=r.X(t);)n=hk(n),r=hk(r);var i=od(n,1),s=od(r,1);for(r=od(r,2),n=od(n,2);!Fo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=od(r,1),n=od(n,1)}return e=Ey(t,i.R(e)),new _p(i,e)}for(i=sd;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=so(n)).R(e);ps(o)||0<o.X(t);)o=(s=so(n-=r)).R(e);Fo(s)&&(s=O0),i=i.add(s),t=Ey(t,o)}return new _p(i,t)}function hk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new zt(n,t.h)}function od(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new zt(i,t.h)}(Ie=zt.prototype).ea=function(){if(ps(this))return-Tr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:N0+r)*e,e*=N0}return t},Ie.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Fo(this))return"0";if(ps(this))return"-"+Tr(this).toString(t);for(var e=so(Math.pow(t,6)),n=this,r="";;){var i=Cy(n,e).g,s=((0<(n=Ey(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Fo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ie.X=function(t){return ps(t=Ey(this,t))?-1:Fo(t)?0:1},Ie.abs=function(){return ps(this)?Tr(this):this},Ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new zt(n,-2147483648&n[n.length-1]?-1:0)},Ie.R=function(t){if(Fo(this)||Fo(t))return sd;if(ps(this))return ps(t)?Tr(this).R(Tr(t)):Tr(Tr(this).R(t));if(ps(t))return Tr(this.R(Tr(t)));if(0>this.X(dk)&&0>t.X(dk))return so(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,wy(n,2*r+2*i),n[2*r+2*i+1]+=s*u,wy(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,wy(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,wy(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new zt(n,0)},Ie.gb=function(t){return Cy(this,t).h},Ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new zt(n,this.h&t.h)},Ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new zt(n,this.h|t.h)},Ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new zt(n,this.h^t.h)},Iy.prototype.createWebChannel=Iy.prototype.g,Ui.prototype.send=Ui.prototype.u,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,ay.NO_ERROR=0,ay.TIMEOUT=8,ay.HTTP_ERROR=6,wO.COMPLETE="complete",DO.EventType=sp,sp.OPEN="a",sp.CLOSE="b",sp.ERROR="c",sp.MESSAGE="d",pr.prototype.listen=pr.prototype.O,xn.prototype.listenOnce=xn.prototype.P,xn.prototype.getLastError=xn.prototype.Sa,xn.prototype.getLastErrorCode=xn.prototype.Ia,xn.prototype.getStatus=xn.prototype.da,xn.prototype.getResponseJson=xn.prototype.Wa,xn.prototype.getResponseText=xn.prototype.ja,xn.prototype.send=xn.prototype.ha,xn.prototype.setWithCredentials=xn.prototype.Oa,Ss.prototype.digest=Ss.prototype.l,Ss.prototype.reset=Ss.prototype.reset,Ss.prototype.update=Ss.prototype.j,zt.prototype.add=zt.prototype.add,zt.prototype.multiply=zt.prototype.R,zt.prototype.modulo=zt.prototype.gb,zt.prototype.compare=zt.prototype.X,zt.prototype.toNumber=zt.prototype.ea,zt.prototype.toString=zt.prototype.toString,zt.prototype.getBits=zt.prototype.D,zt.fromNumber=so,zt.fromString=function lk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Tr(lk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=so(Math.pow(e,8)),r=sd,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=so(Math.pow(e,s)),r=r.R(s).add(so(o))):r=(r=r.R(n)).add(so(o))}return r};var u7=As.createWebChannelTransport=function(){return new Iy},c7=As.getStatEventTarget=function(){return oy()},k0=As.ErrorCode=ay,l7=As.EventType=wO,d7=As.Event=Uu,fk=As.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},h7=As.FetchXmlHttpFactory=hp,Dy=As.WebChannel=DO,f7=As.XhrIo=xn,p7=As.Md5=Ss,ad=As.Integer=zt;const pk="@firebase/firestore";class gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");let ud="10.5.2";const Pa=new no.Yd("@firebase/firestore");function cd(){return Pa.logLevel}function ie(t,...e){if(Pa.logLevel<=no.in.DEBUG){const n=e.map(V0);Pa.debug(`Firestore (${ud}): ${t}`,...n)}}function Kn(t,...e){if(Pa.logLevel<=no.in.ERROR){const n=e.map(V0);Pa.error(`Firestore (${ud}): ${t}`,...n)}}function Ii(t,...e){if(Pa.logLevel<=no.in.WARN){const n=e.map(V0);Pa.warn(`Firestore (${ud}): ${t}`,...n)}}function V0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function De(t="Unexpected state"){const e=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function Ne(t,e){t||De()}function fe(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Qt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class gk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class y7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v7{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,Q.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne("string"==typeof r.accessToken),new gk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(null===e||"string"==typeof e),new gr(e)}}class I7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class E7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne("string"==typeof n.token),this.R=n.token,new mk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function C7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _k{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=C7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function ld(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function yk(t){return t+"\0"}class yn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new yn(0,0))}static max(){return new ke(new yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yp{constructor(e,n,r){void 0===n?n=0:n>e.length&&De(),void 0===r?r=e.length-n:r>e.length-n&&De(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===yp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class bt extends yp{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const D7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends yp{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return D7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(bt.fromString(e))}static fromName(e){return new me(bt.fromString(e).popFirst(5))}static empty(){return new me(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new bt(e.slice()))}}class dd{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function F0(t){return t.fields.find(e=>2===e.kind)}function $u(t){return t.fields.filter(e=>2!==e.kind)}dd.UNKNOWN_ID=-1;class zu{constructor(e,n){this.fieldPath=e,this.kind=n}}class hd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new hd(0,Bi.min())}}function vk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new yn(n+1,0):new yn(n,r));return new Bi(i,me.empty(),e)}function Ik(t){return new Bi(t.readTime,t.key,-1)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(ke.min(),me.empty(),-1)}static max(){return new Bi(ke.max(),me.empty(),-1)}}function L0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=me.comparator(t.documentKey,e.documentKey),0!==n?n:Ze(t.largestBatchId,e.largestBatchId))}const Ek="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ma(t){return U0.apply(this,arguments)}function U0(){return U0=(0,Q.Z)(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Ek)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),U0.apply(this,arguments)}class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class Ty{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new sr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new vp(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=B0(r.target.error);this.V.reject(new vp(e,i))}}static open(e,n,r,i){try{return new Ty(n,e.transaction(i,r))}catch(s){throw new vp(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new S7(n)}}class Rs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Rs.S((0,Qt.z$)())&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ie("SimpleDb","Removing database:",e),qu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Qt.hl)())return!1;if(Rs.C())return!0;const e=(0,Qt.z$)(),n=Rs.S(e),r=0<n&&n<10,i=Rs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,Q.Z)(function*(){return n.db||(ie("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new vp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new te(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new te(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new vp(e,a))},s.onupgradeneeded=o=>{ie("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{ie("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return(0,Q.Z)(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=Ty.open(s.db,e,o?"readonly":"readwrite",r),l=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),O.reject(h))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,h="FirebaseError"!==l.name&&a<3;if(ie("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),s.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class A7{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return qu(this.k.delete())}}class vp extends te{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xa(t){return"IndexedDbTransactionError"===t.name}class S7{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(ie("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qu(r)}add(e){return ie("SimpleDb","ADD",this.store.name,e,e),qu(this.store.add(e))}get(e){return qu(this.store.get(e)).next(n=>(void 0===n&&(n=null),ie("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ie("SimpleDb","DELETE",this.store.name,e),qu(this.store.delete(e))}count(){return ie("SimpleDb","COUNT",this.store.name),qu(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new O((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new O((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new O((r,i)=>{n.onerror=s=>{const o=B0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new O((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new A7(a),l=n(a.primaryKey,a.value,u);if(l instanceof O){const h=l.catch(g=>(u.done(),O.reject(g)));r.push(h)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>O.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qu(t){return new O((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=B0(r.target.error);n(i)}})}let Ck=!1;function B0(t){const e=Rs.S((0,Qt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ck||(Ck=!0,setTimeout(()=>{throw r},0)),r}}return t}class R7{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;ie("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Q.Z)(function*(){n.task=null;try{ie("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){xa(r)?ie("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ma(r)}yield n.ee(6e4)}))}}class P7{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Q.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,s=!0;return O.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ie("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ie("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Ik(s);L0(o,r)>0&&(r=o)}),new Bi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ji=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ip(t){return null==t}function Ep(t){return 0===t&&1/t==-1/0}function Dk(t){return"number"==typeof t&&Number.isInteger(t)&&!Ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Hr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Tk(e)),e=M7(t.get(n),e);return Tk(e)}function M7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Tk(t){return t+"\x01\x01"}function oo(t){const e=t.length;if(Ne(e>=2),2===e)return Ne("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),bt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("\x01",s);switch((o<0||o>n)&&De(),t.charAt(o+1)){case"\x01":const a=t.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:De()}s=o+2}return new bt(r)}const bk=["userId","batchId"];function by(t,e){return[t,Hr(e)]}function Ak(t,e,n){return[t,Hr(e),n]}const x7={},N7=["prefixPath","collectionGroup","readTime","documentId"],O7=["prefixPath","collectionGroup","documentId"],k7=["collectionGroup","readTime","prefixPath","documentId"],V7=["canonicalId","targetId"],F7=["targetId","path"],L7=["path","targetId"],U7=["collectionId","parent"],B7=["indexId","uid"],j7=["uid","sequenceNumber"],H7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$7=["indexId","uid","orderedDocumentKey"],z7=["userId","collectionPath","documentId"],q7=["userId","collectionPath","largestBatchId"],G7=["userId","collectionGroup","largestBatchId"],Sk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],W7=[...Sk,"documentOverlays"],Rk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pk=Rk,Z7=[...Pk,"indexConfiguration","indexState","indexEntries"];class j0 extends wk{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function mr(t,e){const n=fe(t);return Rs.M(n.ae,e)}function Mk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||br.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ay(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ay(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ay(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ay(this.root,e,this.comparator,!0)}}class Ay{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??br.RED,this.left=i??br.EMPTY,this.right=s??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new br(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return br.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1,br.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,r,i,s){return this}insert(e,n,r){return new br(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nk(this.data.getIterator())}getIteratorFrom(e){return new Nk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class Nk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fd(t){return t.hasNext()?t.getNext():void 0}class Ei{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Ei([])}unionWith(e){let n=new Wt(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ld(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ok extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ok("Invalid base64 string: "+s):s}}(e);return new or(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const Q7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(t){if(Ne(!!t),"string"==typeof t){let e=0;const n=Q7.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(t.seconds),nanos:Nn(t.nanos)}}function Nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Lo(t){return"string"==typeof t?or.fromBase64String(t):or.fromUint8Array(t)}function Sy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ry(t){const e=t.mapValue.fields.__previous_value__;return Sy(e)?Ry(e):e}function wp(t){const e=Oa(t.mapValue.fields.__local_write_time__.timestampValue);return new yn(e.seconds,e.nanos)}class Y7{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class ka{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}const Va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Py={nullValue:"NULL_VALUE"};function Fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sy(t)?4:Lk(t)?9007199254740991:10:De()}function ao(t,e){if(t===e)return!0;const n=Fa(t);if(n!==Fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wp(t).isEqual(wp(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Oa(i.timestampValue),a=Oa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Lo(t.bytesValue).isEqual(Lo(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Nn(i.geoPointValue.latitude)===Nn(s.geoPointValue.latitude)&&Nn(i.geoPointValue.longitude)===Nn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nn(i.integerValue)===Nn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Nn(i.doubleValue),a=Nn(s.doubleValue);return o===a?Ep(o)===Ep(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ld(t.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Mk(o)!==Mk(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!ao(o[u],a[u])))return!1;return!0}(t,e);default:return De()}var s}function Cp(t,e){return void 0!==(t.values||[]).find(n=>ao(n,e))}function La(t,e){if(t===e)return 0;const n=Fa(t),r=Fa(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Nn(s.integerValue||s.doubleValue),u=Nn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return kk(t.timestampValue,e.timestampValue);case 4:return kk(wp(t),wp(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Lo(s),u=Lo(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const h=Ze(a[l],u[l]);if(0!==h)return h}return Ze(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ze(Nn(s.latitude),Nn(o.latitude));return 0!==a?a:Ze(Nn(s.longitude),Nn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const h=La(a[l],u[l]);if(h)return h}return Ze(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Va.mapValue&&o===Va.mapValue)return 0;if(s===Va.mapValue)return 1;if(o===Va.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){const m=Ze(u[g],h[g]);if(0!==m)return m;const y=La(a[u[g]],l[h[g]]);if(0!==y)return y}return Ze(u.length,h.length)}(t.mapValue,e.mapValue);default:throw De()}}function kk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ze(t,e);const n=Oa(t),r=Oa(e),i=Ze(n.seconds,r.seconds);return 0!==i?i:Ze(n.nanos,r.nanos)}function pd(t){return H0(t)}function H0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lo(t.bytesValue).toBase64():"referenceValue"in t?me.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=H0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${H0(n.fields[o])}`;return i+"}"}(t.mapValue):De()}function Gu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $0(t){return!!t&&"integerValue"in t}function Dp(t){return!!t&&"arrayValue"in t}function Vk(t){return!!t&&"nullValue"in t}function Fk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xy(t){return!!t&&"mapValue"in t}function Tp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Lk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function J7(t){return"nullValue"in t?Py:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Gu(ka.empty(),me.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:De()}function X7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Gu(ka.empty(),me.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Va:De()}function Uk(t,e){const n=La(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Bk(t,e){const n=La(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tp(n)}setAll(e){let n=dn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Tp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Na(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ar(Tp(this.value))}}function jk(t){const e=[];return Na(t.fields,(n,r)=>{const i=new dn([n]);if(xy(r)){const s=jk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ei(e)}class hn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,ke.min(),ke.min(),ke.min(),Ar.empty(),0)}static newFoundDocument(e,n,r,i){return new hn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new hn(e,2,n,ke.min(),ke.min(),Ar.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,ke.min(),ke.min(),Ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ua{constructor(e,n){this.position=e,this.inclusive=n}}function Hk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?me.comparator(me.fromName(o.referenceValue),n.key):La(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $k(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ao(t.position[n],e.position[n]))return!1;return!0}class bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function eZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class zk{}class Et extends zk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new tZ(e,n,r):"array-contains"===n?new iZ(e,r):"in"===n?new Qk(e,r):"not-in"===n?new sZ(e,r):"array-contains-any"===n?new oZ(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new nZ(e,r):new rZ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(La(n,this.value)):null!==n&&Fa(this.value)===Fa(n)&&this.matchesComparison(La(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qt extends zk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new qt(e,n)}matches(e){return gd(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gd(t){return"and"===t.op}function z0(t){return"or"===t.op}function q0(t){return qk(t)&&gd(t)}function qk(t){for(const e of t.filters)if(e instanceof qt)return!1;return!0}function G0(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+pd(t.value);if(q0(t))return t.filters.map(e=>G0(e)).join(",");{const e=t.filters.map(n=>G0(n)).join(",");return`${t.op}(${e})`}}function Gk(t,e){return t instanceof Et?(r=t,(i=e)instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&ao(r.value,i.value)):t instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&Gk(o,i.filters[a]),!0)}(t,e):void De();var r,i}function Wk(t,e){const n=t.filters.concat(e);return qt.create(n,t.op)}function Zk(t){return t instanceof Et?`${(n=t).field.canonicalString()} ${n.op} ${pd(n.value)}`:t instanceof qt?function(n){return n.op.toString()+" {"+n.getFilters().map(Zk).join(" ,")+"}"}(t):"Filter";var n}class tZ extends Et{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class nZ extends Et{constructor(e,n){super(e,"in",n),this.keys=Kk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rZ extends Et{constructor(e,n){super(e,"not-in",n),this.keys=Kk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Kk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class iZ extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&Cp(n.arrayValue,this.value)}}class Qk extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Cp(this.value.arrayValue,n)}}class sZ extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Cp(this.value.arrayValue,n)}}class oZ extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cp(this.value.arrayValue,r))}}class aZ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function W0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aZ(t,e,n,r,i,s,o)}function Wu(t){const e=fe(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>G0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pd(r)).join(",")),e.ce=n}return e.ce}function Ap(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$k(t.startAt,e.startAt)&&$k(t.endAt,e.endAt)}function Ny(t){return me.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Oy(t,e){return t.filters.filter(n=>n instanceof Et&&n.field.isEqual(e))}function Yk(t,e,n){let r=Py,i=!0;for(const s of Oy(t,e)){let o=Py,a=!0;switch(s.op){case"<":case"<=":o=J7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Py}Uk({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Uk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}function Jk(t,e,n){let r=Va,i=!0;for(const s of Oy(t,e)){let o=Va,a=!0;switch(s.op){case">=":case">":o=X7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Va}Bk({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Bk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}class Uo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Xk(t,e,n,r,i,s,o,a){return new Uo(t,e,n,r,i,s,o,a)}function md(t){return new Uo(t)}function eV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Z0(t){return null!==t.collectionGroup}function _d(t){const e=fe(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(dn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new bp(s,r))}),n.has(dn.keyField().canonicalString())||e.le.push(new bp(dn.keyField(),r))}return e.le}function ui(t){const e=fe(t);return e.he||(e.he=function tV(t,e){if("F"===t.limitType)return W0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new bp(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ua(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ua(t.startAt.position,t.startAt.inclusive):null;return W0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,_d(t))),e.he}function K0(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ky(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sp(t,e){return Ap(ui(t),ui(e))&&t.limitType===e.limitType}function nV(t){return`${Wu(ui(t))}|lt:${t.limitType}`}function yd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zk(i)).join(", ")}]`),Ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pd(i)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function Rp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _d(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const l=Hk(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,_d(r),i)||r.endAt&&!function(o,a,u){const l=Hk(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,_d(r),i)));var r,i}function rV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iV(t){return(e,n)=>{let r=!1;for(const i of _d(t)){const s=uZ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function uZ(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return null!==u&&null!==l?La(u,l):De()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}class Bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xk(this.inner)}size(){return this.innerSize}}const cZ=new tn(me.comparator);function wi(){return cZ}const sV=new tn(me.comparator);function Pp(...t){let e=sV;for(const n of t)e=e.insert(n.key,n);return e}function oV(t){let e=sV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return Mp()}function aV(){return Mp()}function Mp(){return new Bo(t=>t.toString(),(t,e)=>t.isEqual(e))}const lZ=new tn(me.comparator),dZ=new Wt(me.comparator);function rt(...t){let e=dZ;for(const n of t)e=e.add(n);return e}const hZ=new Wt(Ze);function Q0(){return hZ}function uV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ep(e)?"-0":e}}function cV(t){return{integerValue:""+t}}function lV(t,e){return Dk(e)?cV(e):uV(t,e)}class Vy{constructor(){this._=void 0}}function fZ(t,e,n){return t instanceof vd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sy(s)&&(s=Ry(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zu?hV(t,e):t instanceof Ku?fV(t,e):function(i,s){const o=dV(i,s),a=pV(o)+pV(i.Ie);return $0(o)&&$0(i.Ie)?cV(a):uV(i.serializer,a)}(t,e)}function pZ(t,e,n){return t instanceof Zu?hV(t,e):t instanceof Ku?fV(t,e):n}function dV(t,e){return t instanceof Id?$0(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class vd extends Vy{}class Zu extends Vy{constructor(e){super(),this.elements=e}}function hV(t,e){const n=gV(e);for(const r of t.elements)n.some(i=>ao(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ku extends Vy{constructor(e){super(),this.elements=e}}function fV(t,e){let n=gV(e);for(const r of t.elements)n=n.filter(i=>!ao(i,r));return{arrayValue:{values:n}}}class Id extends Vy{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function pV(t){return Nn(t.integerValue||t.doubleValue)}function gV(t){return Dp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class xp{constructor(e,n){this.field=e,this.transform=n}}class mZ{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ly{}function mV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new wd(t.key,vn.none()):new Ed(t.key,t.data,vn.none());{const n=t.data,r=Ar.empty();let i=new Wt(dn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new jo(t.key,r,new Ei(i.toArray()),vn.none())}}function _Z(t,e,n){t instanceof Ed?function(i,s,o){const a=i.value.clone(),u=vV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jo?function(i,s,o){if(!Fy(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(yV(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Np(t,e,n,r){return t instanceof Ed?function(s,o,a,u){if(!Fy(s.precondition,o))return a;const l=s.value.clone(),h=IV(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof jo?function(s,o,a,u){if(!Fy(s.precondition,o))return a;const l=IV(s.fieldTransforms,u,o),h=o.data;return h.setAll(yV(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,Fy(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function yZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dV(r.transform,i||null);null!=s&&(null===n&&(n=Ar.empty()),n.set(r.field,s))}return n||null}function _V(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&ld(r,i,(s,o)=>function gZ(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Zu&&i instanceof Zu||r instanceof Ku&&i instanceof Ku?ld(r.elements,i.elements,ao):r instanceof Id&&i instanceof Id?ao(r.Ie,i.Ie):r instanceof vd&&i instanceof vd);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Ed extends Ly{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jo extends Ly{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vV(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pZ(o,a,n[i]))}return r}function IV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fZ(s,o,e))}return r}class wd extends Ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y0 extends Ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class J0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_Z(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Np(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Np(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=mV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&ld(this.mutations,e.mutations,(n,r)=>_V(n,r))&&ld(this.baseMutations,e.baseMutations,(n,r)=>_V(n,r))}}class X0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=lZ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new X0(e,n,r,i)}}class eD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class IZ{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xn,At;function EV(t){switch(t){default:return De();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function wV(t){if(void 0===t)return Kn("GRPC error has no .code"),B.UNKNOWN;switch(t){case Xn.OK:return B.OK;case Xn.CANCELLED:return B.CANCELLED;case Xn.UNKNOWN:return B.UNKNOWN;case Xn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Xn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Xn.INTERNAL:return B.INTERNAL;case Xn.UNAVAILABLE:return B.UNAVAILABLE;case Xn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Xn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Xn.NOT_FOUND:return B.NOT_FOUND;case Xn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Xn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Xn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Xn.ABORTED:return B.ABORTED;case Xn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Xn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Xn.DATA_LOSS:return B.DATA_LOSS;default:return De()}}(At=Xn||(Xn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function CV(){return new TextEncoder}const EZ=new ad([4294967295,4294967295],0);function DV(t){const e=CV().encode(t),n=new p7;return n.update(e),new Uint8Array(n.digest())}function TV(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ad([n,r],0),new ad([i,s],0)]}class tD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Op(`Invalid padding: ${n}`);if(r<0)throw new Op(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Op(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Op(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ad.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ad.fromNumber(r)));return 1===i.compare(EZ)&&(i=new ad([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=DV(e),[r,i]=TV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=DV(e),[r,i]=TV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Op extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kp(ke.min(),i,new tn(Ze),wi(),rt())}}class Vp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vp(r,n,rt(),rt(),rt())}}class By{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class bV{constructor(e,n){this.targetId=e,this.fe=n}}class AV{constructor(e,n,r=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SV{constructor(){this.ge=0,this.pe=PV(),this.ye=or.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rt(),n=rt(),r=rt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De()}}),new Vp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=PV()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class wZ{constructor(e){this.Le=e,this.ke=new Map,this.qe=wi(),this.Qe=RV(),this.Ke=new tn(Ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Ny(s))if(0===r){const o=new me(s.path);this.We(n,o,hn.newNoDocument(o,ke.min()))}else Ne(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Lo(r).toUint8Array()}catch(u){if(u instanceof Ok)return Ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new tD(o,i,s)}catch(u){return Ii(u instanceof Op?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Ny(a.target)){const u=new me(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,hn.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=rt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new kp(e,n,this.Ke,this.qe,r);return this.qe=wi(),this.Qe=RV(),this.Ke=new tn(Ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new SV,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Wt(Ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new SV),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function RV(){return new tn(me.comparator)}function PV(){return new tn(me.comparator)}const CZ={asc:"ASCENDING",desc:"DESCENDING"},DZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TZ={and:"AND",or:"OR"};class bZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nD(t,e){return t.useProto3Json||Ip(e)?e:{value:e}}function Cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AZ(t,e){return Cd(t,e.toTimestamp())}function Qn(t){return Ne(!!t),ke.fromTimestamp(function(n){const r=Oa(n);return new yn(r.seconds,r.nanos)}(t))}function rD(t,e){return(r=t,new bt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function xV(t){const e=bt.fromString(t);return Ne(jV(e)),e}function Fp(t,e){return rD(t.databaseId,e.path)}function co(t,e){const n=xV(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(OV(n))}function iD(t,e){return rD(t.databaseId,e)}function NV(t){const e=xV(t);return 4===e.length?bt.emptyPath():OV(e)}function Lp(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OV(t){return Ne(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function kV(t,e,n){return{name:Fp(t,e),fields:n.value.mapValue.fields}}function VV(t,e,n){const r=co(t,e.name),i=Qn(e.updateTime),s=e.createTime?Qn(e.createTime):ke.min(),o=new Ar({mapValue:{fields:e.fields}}),a=hn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Up(t,e){let n;if(e instanceof Ed)n={update:kV(t,e.key,e.value)};else if(e instanceof wd)n={delete:Fp(t,e.key)};else if(e instanceof jo)n={update:kV(t,e.key,e.data),updateMask:kZ(e.fieldMask)};else{if(!(e instanceof Y0))return De();n={verify:Fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof vd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Id)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw De()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:AZ(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:De()),n;var s}function sD(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?vn.updateTime(Qn(s.updateTime)):void 0!==s.exists?vn.exists(s.exists):vn.none():vn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(Ne("REQUEST_TIME"===a.setToServerValue),u=new vd):"appendMissingElements"in a?u=new Zu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Ku(a.removeAllFromArray.values||[]):"increment"in a?u=new Id(o,a.increment):De();const l=dn.fromServerFormat(a.fieldPath);return new xp(l,u)}(t,i)):[];var s;if(e.update){const i=co(t,e.update.name),s=new Ar({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ei((e.updateMask.fieldPaths||[]).map(h=>dn.fromServerFormat(h)));return new jo(i,s,o,n,r)}return new Ed(i,s,n,r)}if(e.delete){const i=co(t,e.delete);return new wd(i,n)}if(e.verify){const i=co(t,e.verify);return new Y0(i,n)}return De()}function FV(t,e){return{documents:[iD(t,e.path)]}}function oD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=iD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return BV(qt.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:Ba((g=l).field),direction:xZ(g.dir)};var g})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=nD(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function LV(t){let e=NV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(g){const m=UV(g);return m instanceof qt&&q0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(m=>{return new bp(Dd((D=m).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,Ip(m)?null:m}(n.limit));let u=null;var g;n.startAt&&(u=new Ua((g=n.startAt).values||[],!!g.before));let l=null;return n.endAt&&(l=function(g){return new Ua(g.values||[],!g.before)}(n.endAt)),Xk(e,i,o,s,a,"F",u,l)}function UV(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Dd(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Dd(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Dd(n.unaryFilter.field);return Et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dd(n.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):void 0!==t.fieldFilter?Et.create(Dd((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return qt.create(n.compositeFilter.filters.map(r=>UV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De();var n}function xZ(t){return CZ[t]}function NZ(t){return DZ[t]}function OZ(t){return TZ[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function Dd(t){return dn.fromServerFormat(t.fieldPath)}function BV(t){return t instanceof Et?function(n){if("=="===n.op){if(Fk(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(Vk(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Fk(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(Vk(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:NZ(n.op),value:n.value}}}(t):t instanceof qt?function(n){const r=n.getFilters().map(i=>BV(i));return 1===r.length?r[0]:{compositeFilter:{op:OZ(n.op),filters:r}}}(t):De()}function kZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ho{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=or.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HV{constructor(e){this.ut=e}}function $V(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Fp(s=t.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Cd(s,o.version.toTimestamp()),createTime:Cd(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Qu(e.version)};else{if(!e.isUnknownDocument())return De();r.unknownDocument={path:n.path.toArray(),version:Qu(e.version)}}var s,o;return r}function jy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Qu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yu(t){const e=new yn(t.seconds,t.nanoseconds);return ke.fromTimestamp(e)}function Ju(t,e){const n=(e.baseMutations||[]).map(s=>sD(t.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>sD(t.ut,s)),i=yn.fromMillis(e.localWriteTimeMs);return new J0(e.batchId,i,n,r)}function Bp(t){const e=Yu(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Yu(t.lastLimboFreeSnapshotVersion):ke.min();let r;return r=void 0!==t.query.documents?(Ne(1===(s=t.query).documents.length),ui(md(NV(s.documents[0])))):function(s){return ui(LV(s))}(t.query),new Ho(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,or.fromBase64String(t.resumeToken));var s}function zV(t,e){const n=Qu(e.snapshotVersion),r=Qu(e.lastLimboFreeSnapshotVersion);let i;i=Ny(e.target)?FV(t.ut,e.target):oD(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function aD(t){const e=LV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ky(e,e.limit,"L"):e}function uD(t,e){return new eD(e.largestBatchId,sD(t.ut,e.overlayMutation))}function qV(t,e){const n=e.path.lastSegment();return[t,Hr(e.path.popLast()),n]}function GV(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Qu(r.readTime),documentKey:Hr(r.documentKey.path),largestBatchId:r.largestBatchId}}class FZ{getBundleMetadata(e,n){return WV(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Yu(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return WV(e).put({bundleId:(i=n).id,createTime:Qu(Qn(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return ZV(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:aD(s.bundledQuery),readTime:Yu(s.readTime)};var s})}saveNamedQuery(e,n){return ZV(e).put({name:(i=n).name,readTime:Qu(Qn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function WV(t){return mr(t,"bundles")}function ZV(t){return mr(t,"namedQueries")}class Hy{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Hy(e,n.uid||"")}getOverlay(e,n){return jp(e).get(qV(this.userId,n)).next(r=>r?uD(this.serializer,r):null)}getOverlays(e,n){const r=uo();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new eD(n,o);i.push(this.lt(e,a))}),O.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Hr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(jp(e).H("collectionPathOverlayIndex",a))}),O.waitFor(s)}getOverlaysForCollection(e,n,r){const i=uo(),s=Hr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return jp(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=uD(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=uo();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return jp(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,l,h)=>{const g=uD(this.serializer,l);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):h.done()}).next(()=>s)}lt(e,n){return jp(e).put(function(i,s,o){const[a,u,l]=qV(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Up(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function jp(t){return mr(t,"documentOverlays")}class Xu{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Nn(e.integerValue));else if("doubleValue"in e){const r=Nn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Ep(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Lo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Lk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):De()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),me.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function LZ(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function KV(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=LZ(255&r[s]);if(i+=o,8!==o)break}return i}(t);return Math.ceil(e/8)}Xu.St=new Xu;class UZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=KV(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=KV(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class BZ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class jZ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Hp{constructor(){this.Wt=new UZ,this.Gt=new BZ(this.Wt),this.zt=new jZ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class ec{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ec(this.indexId,this.documentKey,this.arrayValue,r)}}function ja(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=QV(t.arrayValue,e.arrayValue),0!==n?n:(n=QV(t.directionalValue,e.directionalValue),0!==n?n:me.comparator(t.documentKey,e.documentKey)))}function QV(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class YV{constructor(e){this.Jt=new Wt((n,r)=>dn.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ne(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=F0(e);if(void 0!==n&&!this.tn(n))return!1;const r=$u(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Wt(dn.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new zu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new zu(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new zu(r.field,"asc"===r.dir?0:1)));return new dd(dd.UNKNOWN_ID,this.collectionId,n,hd.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function JV(t){var e,n;if(Ne(t instanceof Et||t instanceof qt),t instanceof Et){if(t instanceof Qk){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(s=>Et.create(t.field,"==",s)))||[];return qt.create(i,"or")}return t}const r=t.filters.map(i=>JV(i));return qt.create(r,t.op)}function HZ(t){if(0===t.getFilters().length)return[];const e=dD(JV(t));return Ne(XV(e)),cD(e)||lD(e)?[e]:e.getFilters()}function cD(t){return t instanceof Et}function lD(t){return t instanceof qt&&q0(t)}function XV(t){return cD(t)||lD(t)||function(n){if(n instanceof qt&&z0(n)){for(const r of n.getFilters())if(!cD(r)&&!lD(r))return!1;return!0}return!1}(t)}function dD(t){if(Ne(t instanceof Et||t instanceof qt),t instanceof Et)return t;if(1===t.filters.length)return dD(t.filters[0]);const e=t.filters.map(r=>dD(r));let n=qt.create(e,t.op);return n=$y(n),XV(n)?n:(Ne(n instanceof qt),Ne(gd(n)),Ne(n.filters.length>1),n.filters.reduce((r,i)=>hD(r,i)))}function hD(t,e){let n;return Ne(t instanceof Et||t instanceof qt),Ne(e instanceof Et||e instanceof qt),n=t instanceof Et?e instanceof Et?qt.create([t,e],"and"):eF(t,e):e instanceof Et?eF(e,t):function(i,s){if(Ne(i.filters.length>0&&s.filters.length>0),gd(i)&&gd(s))return Wk(i,s.getFilters());const o=z0(i)?i:s,a=z0(i)?s:i,u=o.filters.map(l=>hD(l,a));return qt.create(u,"or")}(t,e),$y(n)}function eF(t,e){if(gd(e))return Wk(e,t.getFilters());{const n=e.filters.map(r=>hD(t,r));return qt.create(n,"or")}}function $y(t){if(Ne(t instanceof Et||t instanceof qt),t instanceof Et)return t;const e=t.getFilters();if(1===e.length)return $y(e[0]);if(qk(t))return t;const n=e.map(i=>$y(i)),r=[];return n.forEach(i=>{i instanceof Et?r.push(i):i instanceof qt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:qt.create(r,t.op)}class $Z{constructor(){this.on=new fD}addToCollectionParentIndex(e,n){return this.on.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Bi.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class fD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(bt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(bt.comparator)).toArray()}}const zy=new Uint8Array(0);class zZ{constructor(e,n){this.user=e,this.databaseId=n,this._n=new fD,this.an=new Bo(r=>Wu(r),(r,i)=>Ap(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Hr(i)};return tF(e).put(s)}return O.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[yk(n),""],!1,!0);return tF(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(oo(o.parent))}return r})}addFieldIndex(e,n){const r=$p(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(n.indexState){const o=bd(e);return s.next(a=>{o.put(GV(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=$p(e),i=bd(e),s=Td(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=$p(e),r=Td(e),i=bd(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return O.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new YV(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Td(e);let i=!0;const s=new Map;return O.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=rt();const a=[];return O.forEach(s,(u,l)=>{var z;ie("IndexedDbIndexManager",`Using index ${z=u,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(oe=>`${oe.fieldPath}:${oe.kind}`).join(",")}`} to execute ${Wu(n)}`);const h=function(z,oe){const pe=F0(oe);if(void 0===pe)return null;for(const je of Oy(z,pe.fieldPath))switch(je.op){case"array-contains-any":return je.value.arrayValue.values||[];case"array-contains":return[je.value]}return null}(l,u),g=function(z,oe){const pe=new Map;for(const je of $u(oe))for(const Ft of Oy(z,je.fieldPath))switch(Ft.op){case"==":case"in":pe.set(je.fieldPath.canonicalString(),Ft.value);break;case"not-in":case"!=":return pe.set(je.fieldPath.canonicalString(),Ft.value),Array.from(pe.values())}return null}(l,u),m=function(z,oe){const pe=[];let je=!0;for(const Ft of $u(oe)){const yr=0===Ft.kind?Yk(z,Ft.fieldPath,z.startAt):Jk(z,Ft.fieldPath,z.startAt);pe.push(yr.value),je&&(je=yr.inclusive)}return new Ua(pe,je)}(l,u),y=function(z,oe){const pe=[];let je=!0;for(const Ft of $u(oe)){const yr=0===Ft.kind?Jk(z,Ft.fieldPath,z.endAt):Yk(z,Ft.fieldPath,z.endAt);pe.push(yr.value),je&&(je=yr.inclusive)}return new Ua(pe,je)}(l,u),D=this.ln(u,l,m),b=this.ln(u,l,y),M=this.hn(u,l,g),F=this.Pn(u.indexId,h,D,m.inclusive,b,y.inclusive,M);return O.forEach(F,x=>r.j(x,n.limit).next(z=>{z.forEach(oe=>{const pe=me.fromSegments(oe.documentKey);o.has(pe)||(o=o.add(pe),a.push(pe))})}))}).next(()=>a)}return O.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:HZ(qt.create(e.filters,"and")).map(r=>W0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const u=(null!=n?n.length:1)*Math.max(r.length,s.length),l=u/(null!=n?n.length:1),h=[];for(let g=0;g<u;++g){const m=n?this.In(n[g/l]):zy,y=this.Tn(e,m,r[g%l],i),D=this.En(e,m,s[g%l],o),b=a.map(M=>this.Tn(e,m,M,!0));h.push(...this.createRange(y,D,b))}return h}Tn(e,n,r,i){const s=new ec(e,me.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new ec(e,me.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new YV(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return O.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let l=new Wt(dn.comparator),h=!1;for(const g of u.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:l=l.add(m.field));for(const g of u.orderBy)g.field.isKeyField()||(l=l.add(g.field));return l.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Hp;for(const i of $u(e)){const s=n.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Xu.St.ht(s,o)}return r.Ut()}In(e){const n=new Hp;return Xu.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Hp;return Xu.St.ht(Gu(this.databaseId,n),r.jt(function(s){const o=$u(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Hp);let s=0;for(const o of $u(e)){const a=r[s++];for(const u of i)if(this.Rn(n,o.fieldPath)&&Dp(a))i=this.Vn(i,o,a);else{const l=u.jt(o.kind);Xu.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Hp;u.seed(a.Ut()),Xu.St.ht(o,u.jt(n.kind)),s.push(u)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof Et&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=$p(e),i=bd(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return O.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(h,g){const m=g?new hd(g.sequenceNumber,new Bi(Yu(g.readTime),new me(oo(g.documentKey)),g.largestBatchId)):hd.empty(),y=h.fields.map(([D,b])=>new zu(dn.fromServerFormat(D),b));return new dd(h.indexId,h.collectionGroup,y,m)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ze(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=$p(e),s=bd(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>O.forEach(a,u=>s.put(GV(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return O.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?O.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),O.forEach(a,u=>this.gn(e,i,u).next(l=>{const h=this.pn(s,u);return l.isEqual(h)?O.resolve():this.yn(e,s,u,l,h)}))))})}wn(e,n,r,i){return Td(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Td(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Td(e);let s=new Wt(ja);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new ec(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Wt(ja);const i=this.dn(n,e);if(null==i)return r;const s=F0(n);if(null!=s){const o=e.data.field(s.fieldPath);if(Dp(o))for(const a of o.arrayValue.values||[])r=r.add(new ec(n.indexId,e.key,this.In(a),i))}else r=r.add(new ec(n.indexId,e.key,zy,i));return r}yn(e,n,r,i,s){ie("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(u,l,h,g,m){const y=u.getIterator(),D=l.getIterator();let b=fd(y),M=fd(D);for(;b||M;){let F=!1,x=!1;if(b&&M){const z=h(b,M);z<0?x=!0:z>0&&(F=!0)}else null!=b?x=!0:F=!0;F?(g(M),M=fd(D)):x?(m(b),b=fd(y)):(b=fd(y),M=fd(D))}}(i,s,ja,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),O.waitFor(o)}fn(e){let n=1;return bd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ja(o,a)).filter((o,a,u)=>!a||0!==ja(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=ja(o,e),u=ja(o,n);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,zy,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,zy,[]]))}return s}bn(e,n){return ja(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nF)}getMinOffset(e,n){return O.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||De())).next(nF)}}function tF(t){return mr(t,"collectionParents")}function Td(t){return mr(t,"indexEntries")}function $p(t){return mr(t,"indexConfiguration")}function bd(t){return mr(t,"indexState")}function nF(t){Ne(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;L0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bi(e.readTime,e.documentKey,n)}const rF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $r{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $r(e,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iF(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Y({range:o},(h,g,m)=>(a++,m.delete()));s.push(u.next(()=>{Ne(1===a)}));const l=[];for(const h of n.mutations){const g=Ak(e,h.key.path,n.batchId);s.push(i.delete(g)),l.push(h.key)}return O.waitFor(s).next(()=>l)}function qy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw De();e=t.noDocument}return JSON.stringify(e).length}$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);class Gy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){Ne(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Gy(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ad(e),o=Ha(e);return o.add({}).next(a=>{Ne("number"==typeof a);const u=new J0(a,n,r,i),l=function(y,D,b){const M=b.baseMutations.map(x=>Up(y.ut,x)),F=b.mutations.map(x=>Up(y.ut,x));return{userId:D,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:M,mutations:F}}(this.serializer,this.userId,u),h=[];let g=new Wt((m,y)=>Ze(m.canonicalString(),y.canonicalString()));for(const m of i){const y=Ak(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(o.put(l)),h.push(s.put(y,x7))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),O.waitFor(h).next(()=>u)})}lookupMutationBatch(e,n){return Ha(e).get(n).next(r=>r?(Ne(r.userId===this.userId),Ju(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?O.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ha(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Ne(a.batchId>=r),s=Ju(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ha(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).W("userMutationsIndex",n).next(r=>r.map(i=>Ju(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=by(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ad(e).Y({range:i},(o,a,u)=>{const[l,h,g]=o,m=oo(h);if(l===this.userId&&n.path.isEqual(m))return Ha(e).get(g).next(y=>{if(!y)throw De();Ne(y.userId===this.userId),s.push(Ju(this.serializer,y))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(Ze);const i=[];return n.forEach(s=>{const o=by(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Ad(e).Y({range:a},(l,h,g)=>{const[m,y,D]=l,b=oo(y);m===this.userId&&s.path.isEqual(b)?r=r.add(D):g.done()});i.push(u)}),O.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=by(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Wt(Ze);return Ad(e).Y({range:o},(u,l,h)=>{const[g,m,y]=u,D=oo(m);g===this.userId&&r.isPrefixOf(D)?D.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ha(e).get(s).next(o=>{if(null===o)throw De();Ne(o.userId===this.userId),r.push(Ju(this.serializer,o))}))}),O.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return iF(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),O.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return O.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ad(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=oo(s[1]);i.push(u)}else a.done()}).next(()=>{Ne(0===i.length)})})}containsKey(e,n){return sF(e,this.userId,n)}Mn(e){return oF(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sF(t,e,n){const r=by(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ad(t).Y({range:s,J:!0},(a,u,l)=>{const[h,g,m]=a;h===e&&g===i&&(o=!0),l.done()}).next(()=>o)}function Ha(t){return mr(t,"mutations")}function Ad(t){return mr(t,"documentMutations")}function oF(t){return mr(t,"mutationQueues")}class tc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new tc(0)}static Nn(){return new tc(-1)}}class qZ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new tc(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ke.fromTimestamp(new yn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Sd(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ne(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Sd(e).Y((o,a)=>{const u=Bp(a);u.sequenceNumber<=n&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>O.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Sd(e).Y((r,i)=>{const s=Bp(i);n(s)})}Bn(e){return aF(e).get("targetGlobalKey").next(n=>(Ne(null!==n),n))}Ln(e,n){return aF(e).put("targetGlobalKey",n)}kn(e,n){return Sd(e).put(zV(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Wu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Sd(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Bp(a);Ap(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=$a(e);return n.forEach(o=>{const a=Hr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),O.waitFor(i)}removeMatchingKeys(e,n,r){const i=$a(e);return O.forEach(n,s=>{const o=Hr(s.path);return O.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=$a(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=$a(e);let s=rt();return i.Y({range:r,J:!0},(o,a,u)=>{const l=oo(o[1]),h=new me(l);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=Hr(n.path),i=IDBKeyRange.bound([r],[yk(r)],!1,!0);let s=0;return $a(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}_t(e,n){return Sd(e).get(n).next(r=>r?Bp(r):null)}}function Sd(t){return mr(t,"targets")}function aF(t){return mr(t,"targetGlobal")}function $a(t){return mr(t,"targetDocuments")}function uF([t,e],[n,r]){const i=Ze(t,n);return 0===i?Ze(e,r):i}class GZ{constructor(e){this.Qn=e,this.buffer=new Wt(uF),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Q.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){xa(r)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ma(r)}yield n.Gn(3e5)}))}}class WZ{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return O.resolve(ji._e);const r=new GZ(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(rF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rF):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,u,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),cd()<=no.in.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${g} documents in `+(l-u)+`ms\nTotal Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class ZZ{constructor(e,n){this.db=e,this.garbageCollector=function lF(t,e){return new WZ(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Wy(e,r)}removeReference(e,n,r){return Wy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Wy(e,n)}Xn(e,n){return function(i,s){let o=!1;return oF(i).Z(a=>sF(i,a,s).next(u=>(u&&(o=!0),O.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const u=this.Xn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ke.min()),$a(e).delete([0,Hr(o.path)])))});i.push(u)}}).next(()=>O.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Wy(e,n)}Zn(e,n){const r=$a(e);let i,s=ji._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{0===o?(s!==ji._e&&n(new me(oo(i)),s),s=l,i=u):s=ji._e}).next(()=>{s!==ji._e&&n(new me(oo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wy(t,e){return $a(t).put((i=t.currentSequenceNumber,{targetId:0,path:Hr(e.path),sequenceNumber:i}));var i}class dF{constructor(){this.changes=new Bo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KZ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return nc(e).put(r)}removeEntry(e,n,r){return nc(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jy(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=hn.newInvalidDocument(n);return nc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(zp(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:hn.newInvalidDocument(n)};return nc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(zp(n))},(i,s)=>{r={document:this.tr(n,s),size:qy(s)}}).next(()=>r)}getEntries(e,n){let r=wi();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=wi(),i=new tn(me.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,qy(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return O.resolve();let i=new Wt(gF);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(zp(i.first()),zp(i.last())),o=i.getIterator();let a=o.getNext();return nc(e).Y({index:"documentKeyIndex",range:s},(u,l,h)=>{const g=me.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&gF(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?h.U(zp(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),jy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nc(e).W(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let h=wi();for(const g of l){const m=this.tr(me.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(Rp(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=wi();const o=pF(n,r),a=pF(n,Bi.max());return nc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,h)=>{const g=this.tr(me.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(g.key,g),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new QZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return fF(e).get("remoteDocumentGlobalKey").next(n=>(Ne(!!n),n))}er(e,n){return fF(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function VZ(t,e){let n;if(e.document)n=VV(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=me.fromSegments(e.noDocument.path),i=Yu(e.noDocument.readTime);n=hn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return De();{const r=me.fromSegments(e.unknownDocument.path),i=Yu(e.unknownDocument.version);n=hn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new yn(i[0],i[1]);return ke.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ke.min()))return r}return hn.newInvalidDocument(e)}}function hF(t){return new KZ(t)}class QZ extends dF{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Bo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Wt((s,o)=>Ze(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=$V(this._r.serializer,o);i=i.add(s.path.popLast());const l=qy(u);r+=l-a.size,n.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=$V(this._r.serializer,o.convertToNoDocument(ke.min()));n.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),O.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function fF(t){return mr(t,"remoteDocumentGlobal")}function nc(t){return mr(t,"remoteDocumentsV14")}function zp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pF(t,e){const n=e.documentKey.path.toArray();return[t,jy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gF(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ze(n[s],r[s]),i)return i;return i=Ze(n.length,r.length),i||(i=Ze(n[n.length-2],r[r.length-2]),i||Ze(n[n.length-1],r[r.length-1]))}class YZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Np(r.mutation,i,Ei.empty(),yn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pp();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wi();const o=Mp(),a=Mp();return n.forEach((u,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof jo)?s=s.insert(l.key,l):void 0!==h?(o.set(l.key,h.mutation.getFieldMask()),Np(h.mutation,l,h.mutation.getFieldMask(),yn.now())):o.set(l.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var g;return a.set(l,new YZ(h,null!==(g=o.get(l))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Mp();let i=new tn((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let h=r.get(u)||Ei.empty();h=a.applyToLocalView(l,h),r.set(u,h);const g=(i.get(a.batchId)||rt()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,h=u.value,g=aV();h.forEach(m=>{if(!s.has(m)){const y=mV(n.get(m),r.get(m));null!==y&&g.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return me.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Z0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(uo());let a=-1,u=s;return o.next(l=>O.forEach(l,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,rt())).next(h=>({batchId:a,changes:oV(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=Pp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Pp();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{const l=(g=n,m=u.child(s),new Uo(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const h=l.getKey();null===o.get(h)&&(o=o.insert(h,hn.newInvalidDocument(h)))});let a=Pp();return o.forEach((u,l)=>{const h=s.get(u);void 0!==h&&Np(h.mutation,l,Ei.empty(),yn.now()),Rp(n,l)&&(a=a.insert(u,l))}),a})}}class JZ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return O.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:Qn(i.createTime)}),O.resolve();var i}getNamedQuery(e,n){return O.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:aD(i.bundledQuery),readTime:Qn(i.readTime)}),O.resolve();var i}}class XZ{constructor(){this.overlays=new tn(me.comparator),this.lr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=uo(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);null===h&&(h=uo(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=uo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eD(n,r));let s=this.lr.get(n);void 0===s&&(s=rt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class pD{constructor(){this.hr=new Wt(_r.Pr),this.Ir=new Wt(_r.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _r(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new me(new bt([])),r=new _r(n,e),i=new _r(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new me(new bt([])),r=new _r(n,e),i=new _r(n,e+1);let s=rt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _r(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return me.comparator(e.key,n.key)||Ze(e.gr,n.gr)}static Tr(e,n){return Ze(e.gr,n.gr)||me.comparator(e.key,n.key)}}class eK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Wt(_r.Pr)}checkEmpty(e){return O.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new J0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new _r(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(Ze);return n.forEach(i=>{const s=new _r(i,0),o=new _r(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),O.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new _r(new me(s),0);let a=new Wt(Ze);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),O.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ne(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return O.forEach(n.mutations,i=>{const s=new _r(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new _r(n,0),i=this.yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return O.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tK{constructor(e){this.Cr=e,this.docs=new tn(me.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wi();const o=n.path,a=new me(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||L0(Ik(h),r)<=0||(i.has(h.key)||Rp(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){De()}vr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nK(this)}getSize(e){return O.resolve(this.size)}}class nK extends dF{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class rK{constructor(e){this.persistence=e,this.Fr=new Bo(n=>Wu(n),Ap),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new pD,this.targetCount=0,this.Nr=tc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),O.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.kn(n),O.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Or.containsKey(n))}}class gD{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ji(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new rK(this),this.indexManager=new $Z,this.remoteDocumentCache=new tK(r=>this.referenceDelegate.Qr(r)),this.serializer=new HV(n),this.Kr=new JZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new eK(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new iK(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return O.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class iK extends wk{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Gr=new pD,this.zr=null}static jr(e){return new Zy(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,r=>{const i=me.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return O.or([()=>O.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class sK{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Ty("createOrUpgrade",n);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bk,{unique:!0}),u.createObjectStore("documentMutations"),_F(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=O.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),_F(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,l){return l.store("mutations").W().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bk,{unique:!0});const g=l.store("mutations"),m=h.map(y=>g.put(y));return O.waitFor(m)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const l=u.createObjectStore("documentOverlays",{keyPath:z7});l.createIndex("collectionPathOverlayIndex",q7,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",G7,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:N7});l.createIndex("documentKeyIndex",O7),l.createIndex("collectionGroupIndex",k7)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:B7}).createIndex("sequenceNumberIndex",j7,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:H7}).createIndex("documentKeyIndex",$7,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=qy(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>O.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>O.forEach(a,u=>{Ne(u.userId===s.userId);const l=Ju(this.serializer,u);return iF(e,s.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new bt(o),l=[0,Hr(u)];s.push(n.get(l).next(h=>h?O.resolve():n.put({targetId:0,path:Hr(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>O.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:U7});const r=n.store("collectionParents"),i=new fD,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Hr(u)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new bt(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,u],l)=>{const h=oo(a);return s(h.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Bp(i),o=zV(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(g=o,g.document?new me(bt.fromString(g.document.name).popFirst(5)):g.noDocument?me.fromSegments(g.noDocument.path):g.unknownDocument?me.fromSegments(g.unknownDocument.path):De()).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(l))}).next(()=>O.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=hF(this.serializer),s=new gD(Zy.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var l;let h=null!==(l=a.get(u.userId))&&void 0!==l?l:rt();Ju(this.serializer,u).keys().forEach(g=>h=h.add(g)),a.set(u.userId,h)}),O.forEach(a,(u,l)=>{const h=new gr(l),g=Hy.ct(this.serializer,h),m=s.getIndexManager(h),y=Gy.ct(h,this.serializer,m,s.referenceDelegate);return new mF(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new j0(n,ji._e),u).next()})})}}function _F(t){t.createObjectStore("targetDocuments",{keyPath:F7}).createIndex("documentTargetsIndex",L7,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V7,{unique:!0}),t.createObjectStore("targetGlobal")}const mD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _D{constructor(e,n,r,i,s,o,a,u,l,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=l,this._i=h,this.ai=g,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!_D.D())throw new te(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ZZ(this,i),this.Ii=n+"main",this.serializer=new HV(u),this.Ti=new Rs(this.Ii,this.ai,new sK(this.serializer)),this.qr=new qZ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hF(this.serializer),this.Kr=new FZ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(B.FAILED_PRECONDITION,mD);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ji(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,Q.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,Q.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Q.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(xa(e))return ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return qp(e).get("owner").next(n=>O.resolve(this.wi(n)))}Si(e){return Qy(e).delete(this.clientId)}bi(){var e=this;return(0,Q.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=mr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return O.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?O.resolve(!0):qp(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new te(B.FAILED_PRECONDITION,mD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qy(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ie("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Q.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new j0(n,ji._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Qy(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Gy.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zZ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Hy.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",s=15===(u=this.ai)?Z7:14===u?Pk:13===u?Rk:12===u?W7:11===u?Sk:void De();var u;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new j0(a,this.Lr?this.Lr.next():ji._e),"readwrite-primary"===n?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw Kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new te(B.FAILED_PRECONDITION,Ek);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return qp(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(B.FAILED_PRECONDITION,mD)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qp(e).put("owner",n)}static D(){return Rs.D()}pi(e){const n=qp(e);return n.get("owner").next(r=>this.wi(r)?(ie("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):O.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(Kn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,Qt.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return ie("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Kn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qp(t){return mr(t,"owner")}function Qy(t){return mr(t,"clientMetadata")}function yD(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class vD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=rt(),i=rt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vD(e,n.fromCache,r,i)}}class oK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yF{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new oK;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(cd()<=no.in.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",yd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(cd()<=no.in.DEBUG&&ie("QueryEngine","Query:",yd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(cd()<=no.in.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",yd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):O.resolve())}zi(e,n){if(eV(n))return O.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=ky(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=rt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(e,ky(n,null,"F")):this.Xi(e,l,n,u)}))})))}ji(e,n,r,i){return eV(n)||i.isEqual(ke.min())?O.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?O.resolve(null):(cd()<=no.in.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yd(n)),this.Xi(e,o,n,vk(i,-1)).next(a=>a))})}Yi(e,n){let r=new Wt(iV(e));return n.forEach((i,s)=>{Rp(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return cd()<=no.in.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",yd(n)),this.Gi.getDocumentsMatchingQuery(e,n,Bi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class aK{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new tn(Ze),this.ns=new Bo(s=>Wu(s),Ap),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mF(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function vF(t,e,n,r){return new aK(t,e,n,r)}function IF(t,e){return ID.apply(this,arguments)}function ID(){return ID=(0,Q.Z)(function*(t,e){const n=fe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rt();for(const l of i){o.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}for(const l of s){a.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),ID.apply(this,arguments)}function EF(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function wF(t,e,n){let r=rt(),i=rt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wi();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ke.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function lK(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rd(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ho(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Pd(t,e,n){return ED.apply(this,arguments)}function ED(){return ED=(0,Q.Z)(function*(t,e,n){const r=fe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xa(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),ED.apply(this,arguments)}function Yy(t,e,n){const r=fe(t);let i=ke.min(),s=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){const g=fe(u),m=g.ns.get(h);return void 0!==m?O.resolve(g.ts.get(m)):g.qr.getTargetData(l,h)}(r,o,ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:rt())).next(a=>(TF(r,rV(e),a),{documents:a,ls:s})))}function CF(t,e){const n=fe(t),r=fe(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function DF(t,e){const n=fe(t),r=n.rs.get(e)||ke.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,vk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(TF(n,e,i),i))}function TF(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}function wD(){return wD=(0,Q.Z)(function*(t,e,n,r){const i=fe(t);let s=rt(),o=wi();for(const l of n){const h=e.hs(l.metadata.name);l.document&&(s=s.add(h));const g=e.Ps(l);g.setReadTime(e.Is(l.metadata.readTime)),o=o.insert(h,g)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield Rd(i,(h=r,ui(md(bt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>wF(l,a,o).next(h=>(a.apply(l),h)).next(h=>i.qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.qr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),wD.apply(this,arguments)}function hK(t,e){return CD.apply(this,arguments)}function CD(){return CD=(0,Q.Z)(function*(t,e,n=rt()){const r=yield Rd(t,ui(aD(e.bundledQuery))),i=fe(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Qn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(or.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),CD.apply(this,arguments)}function bF(t,e){return`firestore_clients_${t}_${e}`}function AF(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DD(t,e){return`firestore_targets_${t}_${e}`}class Jy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new te(i.error.code,i.error.message))),o?new Jy(e,n,i.state,s):(Kn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gp{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new te(r.error.code,r.error.message))),s?new Gp(e,r.state,i):(Kn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Q0();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Dk(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Xy(e,s):(Kn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class TD{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new TD(n.clientId,n.onlineState):(Kn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bD{constructor(){this.activeTargetIds=Q0()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AD{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new tn(Ze),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=bF(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new bD),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Q.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const s=e.getItem(bF(e.persistenceKey,i));if(s){const o=Xy.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DD(this.persistenceKey,e));if(r){const i=Gp.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DD(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ie("SharedClientState","READ",e,n),n}setItem(e,n){ie("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Q.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(o){let a=ji._e;if(null!=o)try{const u=JSON.parse(o);Ne("number"==typeof u),a=u}catch(u){Kn("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==ji._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(s=>n.syncEngine.Js(s)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new Jy(this.currentUser,e,n,r),s=AF(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=AF(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=DD(this.persistenceKey,e),s=new Gp(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return Xy.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return Jy.Ts(new gr(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Gp.Ts(i,n)}Ms(e){return TD.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,Q.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Q0();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class SF{constructor(){this.eo=new bD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new bD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fK{ro(e){}shutdown(){}}class RF{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ev=null;function SD(){return null===ev?ev=268435456+Math.round(2147483648*Math.random()):ev++,"0x"+ev.toString(16)}const pK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gK{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const zr="WebChannelConnection";class mK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=SD(),u=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(h=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ii("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+ud,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${pK[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=SD();return new Promise((o,a)=>{const u=new f7;u.setWithCredentials(!0),u.listenOnce(l7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case k0.NO_ERROR:const h=u.getResponseJson();ie(zr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case k0.TIMEOUT:ie(zr,`RPC '${e}' ${s} timed out`),a(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case k0.HTTP_ERROR:const g=u.getStatus();if(ie(zr,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const D=function(M){const F=M.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(F)>=0?F:B.UNKNOWN}(y.status);a(new te(D,y.message))}else a(new te(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new te(B.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ie(zr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(zr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(e,n,r){const i=SD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=u7(),a=c7(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new h7({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");ie(zr,`Creating RPC '${e}' stream ${i}: ${h}`,u);const g=o.createWebChannel(h,u);let m=!1,y=!1;const D=new gK({co:M=>{y?ie(zr,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(ie(zr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),ie(zr,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},lo:()=>g.close()}),b=(M,F,x)=>{M.listen(F,z=>{try{x(z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return b(g,Dy.EventType.OPEN,()=>{y||ie(zr,`RPC '${e}' stream ${i} transport opened.`)}),b(g,Dy.EventType.CLOSE,()=>{y||(y=!0,ie(zr,`RPC '${e}' stream ${i} transport closed`),D.Ro())}),b(g,Dy.EventType.ERROR,M=>{y||(y=!0,Ii(zr,`RPC '${e}' stream ${i} transport errored:`,M),D.Ro(new te(B.UNAVAILABLE,"The operation could not be completed")))}),b(g,Dy.EventType.MESSAGE,M=>{var F;if(!y){const x=M.data[0];Ne(!!x);const oe=x.error||(null===(F=x[0])||void 0===F?void 0:F.error);if(oe){ie(zr,`RPC '${e}' stream ${i} received error:`,oe);const pe=oe.status;let je=function(mg){const Lv=Xn[mg];if(void 0!==Lv)return wV(Lv)}(pe),Ft=oe.message;void 0===je&&(je=B.INTERNAL,Ft="Unknown error status: "+pe+" with message "+oe.message),y=!0,D.Ro(new te(je,Ft)),g.close()}else ie(zr,`RPC '${e}' stream ${i} received:`,x),D.Vo(x)}}),b(a,d7.STAT_EVENT,M=>{M.stat===fk.PROXY?ie(zr,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===fk.NOPROXY&&ie(zr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.Ao()},0),D}}function PF(){return typeof window<"u"?window:null}function tv(){return typeof document<"u"?document:null}function Wp(t){return new bZ(t,!0)}class RD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class MF{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new RD(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Q.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Q.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,Q.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Q.Z)(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _K extends MF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function RZ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:De(),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ne(void 0===h||"string"==typeof h),or.fromBase64String(h||"")):(Ne(void 0===h||h instanceof Uint8Array),or.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=void 0===l.code?B.UNKNOWN:wV(l.code);return new te(h,l.message||"")}(o);n=new AV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=co(t,r.document.name),s=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):ke.min(),a=new Ar({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,s,o,a);n=new By(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=co(t,r.document),s=r.readTime?Qn(r.readTime):ke.min(),o=hn.newNoDocument(i,s);n=new By([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=co(t,r.document);n=new By([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return De();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new IZ(i,s);n=new bV(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Qn(o.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Lp(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ny(u)?{documents:FV(s,u)}:{query:oD(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MV(s,o.resumeToken);const l=nD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=Cd(s,o.snapshotVersion.toTimestamp());const l=nD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function MZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Lp(this.serializer),n.removeTarget=e,this.e_(n)}}class yK extends MF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function PZ(t,e){return t&&t.length>0?(Ne(void 0!==e),t.map(n=>function(i,s){let o=Qn(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=Qn(s)),new mZ(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.I_(r,n)}return Ne(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Lp(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Up(this.serializer,r))};this.e_(n)}}class vK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class EK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Kn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class wK{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Q.Z)(function*(){var u;za(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Q.Z)(function*(h){const g=fe(h);g.C_.add(4),yield Md(g),g.M_.set("Unknown"),g.C_.delete(4),yield Zp(g)}),function l(h){return u.apply(this,arguments)})(o))}))}),this.M_=new EK(r,i)}}function Zp(t){return MD.apply(this,arguments)}function MD(){return MD=(0,Q.Z)(function*(t){if(za(t))for(const e of t.v_)yield e(!0)}),MD.apply(this,arguments)}function Md(t){return xD.apply(this,arguments)}function xD(){return xD=(0,Q.Z)(function*(t){for(const e of t.v_)yield e(!1)}),xD.apply(this,arguments)}function nv(t,e){const n=fe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),kD(n)?OD(n):Nd(n).Ho()&&ND(n,e))}function Kp(t,e){const n=fe(t),r=Nd(n);n.D_.delete(e),r.Ho()&&xF(n,e),0===n.D_.size&&(r.Ho()?r.Zo():za(n)&&n.M_.set("Unknown"))}function ND(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nd(t).u_(e)}function xF(t,e){t.x_.Oe(e),Nd(t).c_(e)}function OD(t){t.x_=new wZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Nd(t).start(),t.M_.g_()}function kD(t){return za(t)&&!Nd(t).jo()&&t.D_.size>0}function za(t){return 0===fe(t).C_.size}function NF(t){t.x_=void 0}function CK(t){return VD.apply(this,arguments)}function VD(){return VD=(0,Q.Z)(function*(t){t.D_.forEach((e,n)=>{ND(t,e)})}),VD.apply(this,arguments)}function DK(t,e){return FD.apply(this,arguments)}function FD(){return FD=(0,Q.Z)(function*(t,e){NF(t),kD(t)?(t.M_.w_(e),OD(t)):t.M_.set("Unknown")}),FD.apply(this,arguments)}function TK(t,e,n){return LD.apply(this,arguments)}function LD(){return LD=(0,Q.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof AV&&2===e.state&&e.cause)try{yield(r=(0,Q.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rv(t,r)}else if(e instanceof By?t.x_.$e(e):e instanceof bV?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield EF(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.D_.get(l);h&&s.D_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const h=s.D_.get(u);if(!h)return;s.D_.set(u,h.withResumeToken(or.EMPTY_BYTE_STRING,h.snapshotVersion)),xF(s,u);const g=new Ho(h.target,u,l,h.sequenceNumber);ND(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield rv(t,r)}var r}),LD.apply(this,arguments)}function rv(t,e,n){return UD.apply(this,arguments)}function UD(){return UD=(0,Q.Z)(function*(t,e,n){if(!xa(e))throw e;t.C_.add(1),yield Md(t),t.M_.set("Offline"),n||(n=()=>EF(t.localStore)),t.asyncQueue.enqueueRetryable((0,Q.Z)(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Zp(t)}))}),UD.apply(this,arguments)}function OF(t,e){return e().catch(n=>rv(t,n,e))}function xd(t){return BD.apply(this,arguments)}function BD(){return BD=(0,Q.Z)(function*(t){const e=fe(t),n=qa(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;bK(e);)try{const i=yield lK(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,AK(e,i)}catch(i){yield rv(e,i)}kF(e)&&VF(e)}),BD.apply(this,arguments)}function bK(t){return za(t)&&t.b_.length<10}function AK(t,e){t.b_.push(e);const n=qa(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function kF(t){return za(t)&&!qa(t).jo()&&t.b_.length>0}function VF(t){qa(t).start()}function SK(t){return jD.apply(this,arguments)}function jD(){return jD=(0,Q.Z)(function*(t){qa(t).E_()}),jD.apply(this,arguments)}function RK(t){return HD.apply(this,arguments)}function HD(){return HD=(0,Q.Z)(function*(t){const e=qa(t);for(const n of t.b_)e.P_(n.mutations)}),HD.apply(this,arguments)}function PK(t,e,n){return $D.apply(this,arguments)}function $D(){return $D=(0,Q.Z)(function*(t,e,n){const r=t.b_.shift(),i=X0.from(r,e,n);yield OF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xd(t)}),$D.apply(this,arguments)}function MK(t,e){return zD.apply(this,arguments)}function zD(){return zD=(0,Q.Z)(function*(t,e){var n;e&&qa(t).h_&&(yield(n=(0,Q.Z)(function*(i,s){if(EV(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();qa(i).Yo(),yield OF(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield xd(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),kF(t)&&VF(t)}),zD.apply(this,arguments)}function FF(t,e){return qD.apply(this,arguments)}function qD(){return qD=(0,Q.Z)(function*(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=za(n);n.C_.add(3),yield Md(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Zp(n)}),qD.apply(this,arguments)}function GD(t,e){return WD.apply(this,arguments)}function WD(){return WD=(0,Q.Z)(function*(t,e){const n=fe(t);e?(n.C_.delete(2),yield Zp(n)):e||(n.C_.add(2),yield Md(n),n.M_.set("Unknown"))}),WD.apply(this,arguments)}function Nd(t){return t.O_||(t.O_=function(n,r,i){const s=fe(n);return s.A_(),new _K(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:CK.bind(null,t),Io:DK.bind(null,t),a_:TK.bind(null,t)}),t.v_.push(function(){var e=(0,Q.Z)(function*(n){n?(t.O_.Yo(),kD(t)?OD(t):t.M_.set("Unknown")):(yield t.O_.stop(),NF(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function qa(t){return t.N_||(t.N_=function(n,r,i){const s=fe(n);return s.A_(),new yK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:SK.bind(null,t),Io:MK.bind(null,t),T_:RK.bind(null,t),I_:PK.bind(null,t)}),t.v_.push(function(){var e=(0,Q.Z)(function*(n){n?(t.N_.Yo(),yield xd(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class ZD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ZD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Od(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),xa(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}class kd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Pp(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new kd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new kd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class LF{constructor(){this.B_=new tn(me.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vd{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vd(e,n,kd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class xK{constructor(){this.k_=void 0,this.listeners=[]}}class NK{constructor(){this.queries=new Bo(e=>nV(e),Sp),this.onlineState="Unknown",this.q_=new Set}}function KD(t,e){return QD.apply(this,arguments)}function QD(){return QD=(0,Q.Z)(function*(t,e){const n=fe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xK),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Od(o,`Initialization of query '${yd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&XD(n)}),QD.apply(this,arguments)}function YD(t,e){return JD.apply(this,arguments)}function JD(){return JD=(0,Q.Z)(function*(t,e){const n=fe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),JD.apply(this,arguments)}function OK(t,e){const n=fe(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&XD(n)}function kK(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function XD(t){t.q_.forEach(e=>{e.next()})}class eT{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class VK{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class UF{constructor(e){this.serializer=e}hs(e){return co(this.serializer,e)}Ps(e){return e.metadata.exists?VV(this.serializer,e.document,!1):hn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Qn(e)}}class FK{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BF(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=bt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new UF(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||rt()).add(s);n.set(o,a)}}return n}complete(){var e=this;return(0,Q.Z)(function*(){const n=yield function dK(t,e,n,r){return wD.apply(this,arguments)}(e.localStore,new UF(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield hK(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function BF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class jF{constructor(e){this.key=e}}class HF{constructor(e){this.key=e}}class $F{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=iV(e),this.aa=new kd(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new LF,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),y=Rp(this.query,g)?g:null,D=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let M=!1;m&&y?m.data.isEqual(y.data)?D!==b&&(r.track({type:3,doc:y}),M=!0):this.ha(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this._a(y,u)>0||l&&this._a(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(o=o.add(y),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,h)=>function(m,y){const D=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return D(m)-D(y)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==s.length||u?{snapshot:new Vd(this.query,e.aa,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new LF,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new HF(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new jF(r))}),n}da(e){this.ia=e.ls,this.oa=rt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Vd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class LK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UK{constructor(e){this.key=e,this.Ra=!1}}class BK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Bo(a=>nV(a),Sp),this.fa=new Map,this.ga=new Set,this.pa=new tn(me.comparator),this.ya=new Map,this.wa=new pD,this.Sa={},this.ba=new Map,this.Da=tc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function jK(t,e){return tT.apply(this,arguments)}function tT(){return tT=(0,Q.Z)(function*(t,e){const n=DT(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield Rd(n.localStore,ui(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield nT(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&nv(n.remoteStore,o)}return i}),tT.apply(this,arguments)}function nT(t,e,n,r,i){return rT.apply(this,arguments)}function rT(){return rT=(0,Q.Z)(function*(t,e,n,r,i){t.va=(g,m,y)=>{return(D=(0,Q.Z)(function*(M,F,x,z){let oe=F.view.ca(x);oe.Zi&&(oe=yield Yy(M.localStore,F.query,!1).then(({documents:Ft})=>F.view.ca(Ft,oe)));const pe=z&&z.targetChanges.get(F.targetId),je=F.view.applyChanges(oe,M.isPrimaryClient,pe);return fT(M,F.targetId,je.Ta),je.snapshot}),function b(M,F,x,z){return D.apply(this,arguments)})(t,g,m,y);var D};const s=yield Yy(t.localStore,e,!0),o=new $F(e,s.ls),a=o.ca(s.documents),u=Vp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,u);fT(t,n,l.Ta);const h=new LK(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),rT.apply(this,arguments)}function HK(t,e){return iT.apply(this,arguments)}function iT(){return iT=(0,Q.Z)(function*(t,e){const n=fe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Sp(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kp(n.remoteStore,r.targetId),Fd(n,r.targetId)}).catch(Ma))):(Fd(n,r.targetId),yield Pd(n.localStore,r.targetId,!0))}),iT.apply(this,arguments)}function sT(){return sT=(0,Q.Z)(function*(t,e,n){const r=TT(t);try{const i=yield function(o,a){const u=fe(o),l=yn.now(),h=a.reduce((y,D)=>y.add(D.key),rt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=wi(),b=rt();return u.ss.getEntries(y,h).next(M=>{D=M,D.forEach((F,x)=>{x.isValidDocument()||(b=b.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(M=>{g=M;const F=[];for(const x of a){const z=yZ(x,g.get(x.key).overlayedDocument);null!=z&&F.push(new jo(x.key,z,jk(z.value.mapValue),vn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(M=>{m=M;const F=M.applyToLocalDocumentSet(g,b);return u.documentOverlayCache.saveOverlays(y,M.batchId,F)})}).then(()=>({batchId:m.batchId,changes:oV(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new tn(Ze)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield $o(r,i.changes),yield xd(r.remoteStore)}catch(i){const s=Od(i,"Failed to persist write");n.reject(s)}}),sT.apply(this,arguments)}function zF(t,e){return oT.apply(this,arguments)}function oT(){return oT=(0,Q.Z)(function*(t,e){const n=fe(t);try{const r=yield function cK(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(n.qr.removeMatchingKeys(s,h.removedDocuments,g).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,g)));let y=m.withSequenceNumber(s.currentSequenceNumber);var b,M,F;null!==e.targetMismatches.get(g)?y=y.withResumeToken(or.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(g,y),M=y,F=h,(0===(b=m).resumeToken.approximateByteSize()||M.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,y))});let u=wi(),l=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(wF(s,o,e.documentUpdates).next(h=>{u=h.us,l=h.cs})),!r.isEqual(ke.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(g=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Ne(o.Ra):i.removedDocuments.size>0&&(Ne(o.Ra),o.Ra=!1))}),yield $o(n,r,e)}catch(r){yield Ma(r)}}),oT.apply(this,arguments)}function qF(t,e,n){const r=fe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=fe(o);u.onlineState=a;let l=!1;u.queries.forEach((h,g)=>{for(const m of g.listeners)m.Q_(a)&&(l=!0)}),l&&XD(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zK(t,e,n){return aT.apply(this,arguments)}function aT(){return aT=(0,Q.Z)(function*(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new tn(me.comparator);o=o.insert(s,hn.newNoDocument(s,ke.min()));const a=rt().add(s),u=new kp(ke.min(),new Map,new tn(Ze),o,a);yield zF(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),pT(r)}else yield Pd(r.localStore,e,!1).then(()=>Fd(r,e,n)).catch(Ma)}),aT.apply(this,arguments)}function qK(t,e){return uT.apply(this,arguments)}function uT(){return uT=(0,Q.Z)(function*(t,e){const n=fe(t),r=e.batch.batchId;try{const i=yield function uK(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){const g=l.batch,m=g.keys();let y=O.resolve();return m.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(b=>{const M=l.docVersions.get(D);Ne(null!==M),b.version.compareTo(M)<0&&(g.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),h.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);hT(n,r,null),dT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield $o(n,i)}catch(i){yield Ma(i)}}),uT.apply(this,arguments)}function GK(t,e,n){return cT.apply(this,arguments)}function cT(){return cT=(0,Q.Z)(function*(t,e,n){const r=fe(t);try{const i=yield function(o,a){const u=fe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(g=>(Ne(null!==g),h=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);hT(r,e,n),dT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield $o(r,i)}catch(i){yield Ma(i)}}),cT.apply(this,arguments)}function lT(){return lT=(0,Q.Z)(function*(t,e){const n=fe(t);za(n.remoteStore)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=fe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Od(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),lT.apply(this,arguments)}function dT(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function hT(t,e,n){const r=fe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Fd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||GF(t,r)})}function GF(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Kp(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),pT(t))}function fT(t,e,n){for(const r of n)r instanceof jF?(t.wa.addReference(r.key,e),ZK(t,r)):r instanceof HF?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||GF(t,r.key)):De()}function ZK(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),pT(t))}function pT(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new me(bt.fromString(e)),r=t.Da.next();t.ya.set(r,new UK(n)),t.pa=t.pa.insert(n,r),nv(t.remoteStore,new Ho(ui(md(n.path)),r,"TargetPurposeLimboResolution",ji._e))}}function $o(t,e,n){return gT.apply(this,arguments)}function gT(){return gT=(0,Q.Z)(function*(t,e,n){const r=fe(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=vD.Qi(u.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Q.Z)(function*(l,h){const g=fe(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>O.forEach(h,y=>O.forEach(y.ki,D=>g.persistence.referenceDelegate.addReference(m,y.targetId,D)).next(()=>O.forEach(y.qi,D=>g.persistence.referenceDelegate.removeReference(m,y.targetId,D)))))}catch(m){if(!xa(m))throw m;ie("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const D=g.ts.get(y),M=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);g.ts=g.ts.insert(y,M)}}}),function u(l,h){return a.apply(this,arguments)})(r.localStore,s))}),gT.apply(this,arguments)}function KK(t,e){return mT.apply(this,arguments)}function mT(){return mT=(0,Q.Z)(function*(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield IF(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new te(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $o(n,r._s)}var s}),mT.apply(this,arguments)}function QK(t,e){const n=fe(t),r=n.ya.get(e);if(r&&r.Ra)return rt().add(r.key);{let i=rt();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function YK(t,e){return _T.apply(this,arguments)}function _T(){return _T=(0,Q.Z)(function*(t,e){const n=fe(t),r=yield Yy(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&fT(n,e.targetId,i.Ta),i}),_T.apply(this,arguments)}function JK(t,e){return yT.apply(this,arguments)}function yT(){return yT=(0,Q.Z)(function*(t,e){const n=fe(t);return DF(n.localStore,e).then(r=>$o(n,r))}),yT.apply(this,arguments)}function XK(t,e,n,r){return vT.apply(this,arguments)}function vT(){return vT=(0,Q.Z)(function*(t,e,n,r){const i=fe(t),s=yield function(a,u){const l=fe(a),h=fe(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.Cn(g,u).next(m=>m?l.localDocuments.getDocuments(g,m):O.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===n?yield xd(i.remoteStore):"acknowledged"===n||"rejected"===n?(hT(i,e,r||null),dT(i,e),u=e,fe(fe(i.localStore).mutationQueue).Fn(u)):De(),yield $o(i,s)):ie("SyncEngine","Cannot apply mutation batch with id: "+e)}),vT.apply(this,arguments)}function IT(){return IT=(0,Q.Z)(function*(t,e){const n=fe(t);if(DT(n),TT(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield WF(n,r.toArray());n.Ca=!0,yield GD(n.remoteStore,!0);for(const s of i)nv(n.remoteStore,s)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Fd(n,o),Pd(n.localStore,o,!0))),Kp(n.remoteStore,o)}),yield i,yield WF(n,r),function(o){const a=fe(o);a.ya.forEach((u,l)=>{Kp(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new tn(me.comparator)}(n),n.Ca=!1,yield GD(n.remoteStore,!1)}}),IT.apply(this,arguments)}function WF(t,e,n){return ET.apply(this,arguments)}function ET(){return ET=(0,Q.Z)(function*(t,e,n){const r=fe(t),i=[],s=[];for(const o of e){let a;const u=r.fa.get(o);if(u&&0!==u.length){a=yield Rd(r.localStore,ui(u[0]));for(const l of u){const h=r.ma.get(l),g=yield YK(r,h);g.snapshot&&s.push(g.snapshot)}}else{const l=yield CF(r.localStore,o);a=yield Rd(r.localStore,l),yield nT(r,ZF(l),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),ET.apply(this,arguments)}function ZF(t){return Xk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function tQ(t){return n=fe(t).localStore,fe(fe(n).persistence).Bi();var n}function nQ(t,e,n,r){return wT.apply(this,arguments)}function wT(){return wT=(0,Q.Z)(function*(t,e,n,r){const i=fe(t);if(i.Ca)return void ie("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield DF(i.localStore,rV(s[0])),a=kp.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,or.EMPTY_BYTE_STRING);yield $o(i,o,a);break}case"rejected":yield Pd(i.localStore,e,!0),Fd(i,e,r);break;default:De()}}),wT.apply(this,arguments)}function rQ(t,e,n){return CT.apply(this,arguments)}function CT(){return CT=(0,Q.Z)(function*(t,e,n){const r=DT(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){ie("SyncEngine","Adding an already active target "+i);continue}const s=yield CF(r.localStore,i),o=yield Rd(r.localStore,s);yield nT(r,ZF(s),o.targetId,!1,o.resumeToken),nv(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&(yield Pd(r.localStore,i,!1).then(()=>{Kp(r.remoteStore,i),Fd(r,i)}).catch(Ma))}}),CT.apply(this,arguments)}function DT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zK.bind(null,e),e.Va.a_=OK.bind(null,e.eventManager),e.Va.Fa=kK.bind(null,e.eventManager),e}function TT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GK.bind(null,e),e}class Qp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Q.Z)(function*(){n.serializer=Wp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vF(this.persistence,new yF,e.initialUser,this.serializer)}createPersistence(e){return new gD(Zy.jr,this.serializer)}createSharedClientState(e){return new SF}terminate(){var e=this;return(0,Q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bT extends Qp{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield TT(r.xa.syncEngine),yield xd(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vF(this.persistence,new yF,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new cF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new P7(n,this.persistence);return new R7(e.asyncQueue,r)}createPersistence(e){const n=yD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new _D(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,PF(),tv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SF}}class KF extends bT{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof AD&&(r.sharedClientState.syncEngine={Ys:XK.bind(null,i),Zs:nQ.bind(null,i),Xs:rQ.bind(null,i),Bi:tQ.bind(null,i),Js:JK.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,Q.Z)(function*(o){yield function eQ(t,e){return IT.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const n=PF();if(!AD.D(n))throw new te(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AD(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ld{initialize(e,n){var r=this;return(0,Q.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=KK.bind(null,r.syncEngine),yield GD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NK}createDatastore(e){const n=Wp(e.databaseInfo.databaseId),r=new mK(e.databaseInfo);return new vK(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>qF(this.syncEngine,n,0),a=RF.D()?new RF:new fK,new wK(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){const g=new BK(i,s,o,a,u,l);return h&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Q.Z)(function*(r){const i=fe(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Md(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function QF(t,e=10240){let n=0;return{read:()=>(0,Q.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Q.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class oQ{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new sr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Q.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Q.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Q.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new VK(JSON.parse(s),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Q.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,Q.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Q.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class aQ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Q.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new te(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Q.Z)(function*(o,a){const u=fe(o),l=Lp(u.serializer)+"/documents",h={documents:a.map(D=>Fp(u.serializer,D))},g=yield u.Co("BatchGetDocuments",l,h,a.length),m=new Map;g.forEach(D=>{const b=function SZ(t,e){return"found"in e?function(r,i){Ne(!!i.found);const s=co(r,i.found.name),o=Qn(i.found.updateTime),a=i.found.createTime?Qn(i.found.createTime):ke.min(),u=new Ar({mapValue:{fields:i.found.fields}});return hn.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){Ne(!!i.missing),Ne(!!i.readTime);const s=co(r,i.missing),o=Qn(i.readTime);return hn.newNoDocument(s,o)}(t,e):De()}(u.serializer,D);m.set(b.key.toString(),b)});const y=[];return a.forEach(D=>{const b=m.get(D.toString());Ne(!!b),y.push(b)}),y}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=me.fromPath(i);e.mutations.push(new Y0(s,e.precondition(s)))}),yield(r=(0,Q.Z)(function*(s,o){const a=fe(s),u=Lp(a.serializer)+"/documents",l={writes:o.map(h=>Up(a.serializer,h))};yield a.wo("Commit",u,l)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw De();n=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ke.min())?vn.exists(!1):vn.updateTime(n):vn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ke.min()))throw new te(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vn.updateTime(n)}return vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uQ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new RD(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Q.Z)(function*(){const n=new aQ(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!Ip(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!EV(n)}return!1}}class cQ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=_k.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Q.Z)(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Od(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function sv(t,e){return AT.apply(this,arguments)}function AT(){return AT=(0,Q.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Q.Z)(function*(s){r.isEqual(s)||(yield IF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),AT.apply(this,arguments)}function ST(t,e){return RT.apply(this,arguments)}function RT(){return RT=(0,Q.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield PT(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>FF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FF(e.remoteStore,s)),t._onlineComponents=e}),RT.apply(this,arguments)}function YF(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function PT(t){return MT.apply(this,arguments)}function MT(){return MT=(0,Q.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YF(n))throw n;Ii("Error using user provided cache. Falling back to memory cache: "+n),yield sv(t,new Qp)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield sv(t,new Qp);return t._offlineComponents}),MT.apply(this,arguments)}function ov(t){return xT.apply(this,arguments)}function xT(){return xT=(0,Q.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield ST(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield ST(t,new Ld))),t._onlineComponents}),xT.apply(this,arguments)}function JF(t){return PT(t).then(e=>e.persistence)}function Ud(t){return PT(t).then(e=>e.localStore)}function XF(t){return ov(t).then(e=>e.remoteStore)}function NT(t){return ov(t).then(e=>e.syncEngine)}function Bd(t){return OT.apply(this,arguments)}function OT(){return OT=(0,Q.Z)(function*(t){const e=yield ov(t),n=e.eventManager;return n.onListen=jK.bind(null,e.syncEngine),n.onUnlisten=HK.bind(null,e.syncEngine),n}),OT.apply(this,arguments)}function tL(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(s,o,a,u,l){const h=new iv({next:m=>{o.enqueueAndForget(()=>YD(s,g));const y=m.docs.has(a);!y&&m.fromCache?l.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&"server"===u.source?l.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new eT(md(a.path),h,{includeMetadataChanges:!0,J_:!0});return KD(s,g)}(yield Bd(t),t.asyncQueue,e,n,r)})),r.promise}function nL(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(s,o,a,u,l){const h=new iv({next:m=>{o.enqueueAndForget(()=>YD(s,g)),m.fromCache&&"server"===u.source?l.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new eT(a,h,{includeMetadataChanges:!0,J_:!0});return KD(s,g)}(yield Bd(t),t.asyncQueue,e,n,r)})),r.promise}function rL(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const iL=new Map;function kT(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sL(t,e,n,r){if(!0===e&&!0===r)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oL(t){if(!me.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aL(t){if(me.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function av(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":De()}function pt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=av(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function uL(t,e){if(e<=0)throw new te(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class cL{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new _7;switch(r.type){case"firstParty":return new E7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iL.get(n);r&&(ie("ComponentProvider","Removing Datastore"),iL.delete(n),r.terminate())}(this),Promise.resolve()}}class Sr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class lo extends Sr{constructor(e,n,r){super(e,n,md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new me(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function dL(t,e,...n){if(t=(0,Qt.m9)(t),kT("collection","path",e),t instanceof Yp){const r=bt.fromString(e,...n);return aL(r),new lo(t,null,r)}{if(!(t instanceof fn||t instanceof lo))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return aL(r),new lo(t.firestore,null,r)}}function uv(t,e,...n){if(t=(0,Qt.m9)(t),1===arguments.length&&(e=_k.newId()),kT("doc","path",e),t instanceof Yp){const r=bt.fromString(e,...n);return oL(r),new fn(t,null,new me(r))}{if(!(t instanceof fn||t instanceof lo))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return oL(r),new fn(t.firestore,t instanceof lo?t.converter:null,new me(r))}}function hL(t,e){return t=(0,Qt.m9)(t),e=(0,Qt.m9)(e),(t instanceof fn||t instanceof lo)&&(e instanceof fn||e instanceof lo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function VT(t,e){return t=(0,Qt.m9)(t),e=(0,Qt.m9)(e),t instanceof Sr&&e instanceof Sr&&t.firestore===e.firestore&&Sp(t._query,e._query)&&t.converter===e.converter}class EQ{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new RD(this,"async_queue_retry"),this.iu=()=>{const n=tv();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=tv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=tv();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new sr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Q.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!xa(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ZD.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&De()}verifyOperationInProgress(){}uu(){var e=this;return(0,Q.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function FT(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class wQ{constructor(){this._progressObserver={},this._taskCompletionResolver=new sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nn extends Yp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EQ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fL(this),this._firestoreClient.terminate()}}function On(t){return t._firestoreClient||fL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fL(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Y7(t._databaseId,u,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rL(h.experimentalLongPollingOptions),h.useFetchStreams));var u,h;t._firestoreClient=new cQ(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function pL(t,e,n){const r=new sr;return t.asyncQueue.enqueue((0,Q.Z)(function*(){try{yield sv(t,n),yield ST(t,e),r.resolve()}catch(i){const s=i;if(!YF(s))throw s;Ii("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function gL(t){if(t._initialized||t._terminated)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(or.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zo{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rc{constructor(e){this._methodName=e}}class cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}const NQ=/^__.*__$/;class OQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ed(e,this.data,n,this.fieldTransforms)}}class mL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _L(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class lv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return fv(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(_L(this.Iu)&&NQ.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wp(e)}pu(e,n,r,i=!1){return new lv({Iu:e,methodName:n,gu:r,path:dn.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ic(t){const e=t._freezeSettings(),n=Wp(t._databaseId);return new kQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dv(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);jT("Data must be an object, but it was:",o,r);const a=IL(r,o);let u,l;if(s.merge)u=new Ei(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const m=eg(e,g,n);if(!o.contains(m))throw new te(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wL(h,m)||h.push(m)}u=new Ei(h),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new OQ(new Ar(a),u,l)}class Xp extends rc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xp}}function yL(t,e,n){return new lv({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class LT extends rc{_toFieldTransform(e){return new xp(e.path,new vd)}isEqual(e){return e instanceof LT}}class VQ extends rc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=yL(this,e,!0),r=this.yu.map(s=>sc(s,n)),i=new Zu(r);return new xp(e.path,i)}isEqual(e){return this===e}}class FQ extends rc{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=yL(this,e,!0),r=this.yu.map(s=>sc(s,n)),i=new Ku(r);return new xp(e.path,i)}isEqual(e){return this===e}}class LQ extends rc{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Id(e.serializer,lV(e.serializer,this.wu));return new xp(e.path,n)}isEqual(e){return this===e}}function UT(t,e,n,r){const i=t.pu(1,e,n);jT("Data must be an object, but it was:",i,r);const s=[],o=Ar.empty();Na(r,(u,l)=>{const h=hv(e,u,n);l=(0,Qt.m9)(l);const g=i.Ru(h);if(l instanceof Xp)s.push(h);else{const m=sc(l,g);null!=m&&(s.push(h),o.set(h,m))}});const a=new Ei(s);return new mL(o,a,i.fieldTransforms)}function BT(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[eg(e,r,n)],u=[i];if(s.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(eg(e,s[m])),u.push(s[m+1]);const l=[],h=Ar.empty();for(let m=a.length-1;m>=0;--m)if(!wL(l,a[m])){const y=a[m];let D=u[m];D=(0,Qt.m9)(D);const b=o.Ru(y);if(D instanceof Xp)l.push(y);else{const M=sc(D,b);null!=M&&(l.push(y),h.set(y,M))}}const g=new Ei(l);return new mL(h,g,o.fieldTransforms)}function vL(t,e,n,r=!1){return sc(n,t.pu(r?4:3,e))}function sc(t,e){if(EL(t=(0,Qt.m9)(t)))return jT("Unsupported field value:",e,t),IL(t,e);if(t instanceof rc)return function(r,i){if(!_L(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=sc(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=(0,Qt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return lV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=yn.fromDate(r);return{timestampValue:Cd(i.serializer,s)}}if(r instanceof yn){const s=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cd(i.serializer,s)}}if(r instanceof cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ho)return{bytesValue:MV(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${av(r)}`)}(t,e)}function IL(t,e){const n={};return xk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(t,(r,i)=>{const s=sc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function EL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof yn||t instanceof cv||t instanceof ho||t instanceof fn||t instanceof rc)}function jT(t,e,n){if(!EL(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=av(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function eg(t,e,n){if((e=(0,Qt.m9)(e))instanceof zo)return e._internalPath;if("string"==typeof e)return hv(t,e);throw fv("Field path arguments must be of type string or ",t,!1,void 0,n)}const UQ=new RegExp("[~\\*/\\[\\]]");function hv(t,e,n){if(e.search(UQ)>=0)throw fv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zo(...e.split("."))._internalPath}catch{throw fv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te(B.INVALID_ARGUMENT,a+t+u)}function wL(t,e){return t.some(n=>n.isEqual(e))}class tg{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new BQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class BQ extends tg{data(){return super.data()}}function pv(t,e){return"string"==typeof e?hv(t,e):e instanceof zo?e._internalPath:e._delegate._internalPath}function CL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HT{}class ng extends HT{}function Ga(t,e,...n){let r=[];e instanceof HT&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof jd).length,a=s.filter(u=>u instanceof rg).length;if(o>1||o>0&&a>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rg extends ng{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rg(e,n,r)}_apply(e){const n=this._parse(e);return AL(e._query,n),new Sr(e.firestore,e.converter,K0(e._query,n))}_parse(e){const n=ic(e.firestore);return function(s,o,a,u,l,h,g){let m;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){bL(g,h);const y=[];for(const D of g)y.push(TL(u,s,D));m={arrayValue:{values:y}}}else m=TL(u,s,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||bL(g,h),m=vL(a,"where",g,"in"===h||"not-in"===h);return Et.create(l,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class jd extends HT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:qt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)AL(o,u),o=K0(o,u)}(e._query,n),new Sr(e.firestore,e.converter,K0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $T extends ng{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $T(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bp(s,o)}(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Uo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class gv extends ng{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gv(e,n,r)}_apply(e){return new Sr(e.firestore,e.converter,ky(e._query,this._limit,this._limitType))}}class mv extends ng{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mv(e,n,r)}_apply(e){const n=DL(e,this.type,this._docOrFields,this._inclusive);return new Sr(e.firestore,e.converter,(s=n,new Uo((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class _v extends ng{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _v(e,n,r)}_apply(e){const n=DL(e,this.type,this._docOrFields,this._inclusive);return new Sr(e.firestore,e.converter,(s=n,new Uo((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function DL(t,e,n,r){if(n[0]=(0,Qt.m9)(n[0]),n[0]instanceof tg)return function(s,o,a,u,l){if(!u)throw new te(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of _d(s))if(g.field.isKeyField())h.push(Gu(o,u.key));else{const m=u.data.field(g.field);if(Sy(m))throw new te(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new te(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(m)}return new Ua(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ic(t.firestore);return function(o,a,u,l,h,g){const m=o.explicitOrderBy;if(h.length>m.length)throw new te(B.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let D=0;D<h.length;D++){const b=h[D];if(m[D].field.isKeyField()){if("string"!=typeof b)throw new te(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!Z0(o)&&-1!==b.indexOf("/"))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const M=o.path.child(bt.fromString(b));if(!me.isDocumentKey(M))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const F=new me(M);y.push(Gu(a,F))}else{const M=vL(u,l,b);y.push(M)}}return new Ua(y,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function TL(t,e,n){if("string"==typeof(n=(0,Qt.m9)(n))){if(""===n)throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z0(e)&&-1!==n.indexOf("/"))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!me.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gu(t,new me(r))}if(n instanceof fn)return Gu(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${av(n)}.`)}function bL(t,e){if(!Array.isArray(t)||0===t.length)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AL(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new te(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zT{convertValue(e,n="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Na(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new cv(Nn(e.latitude),Nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ry(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wp(e));default:return null}}convertTimestamp(e){const n=Oa(e);return new yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);Ne(jV(r));const i=new ka(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function yv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class KQ extends zT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qo extends tg{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ig extends qo{data(e={}){return super.data(e)}}class Wa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ig(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new ig(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new ig(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:YQ(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}function RL(t,e){return t instanceof qo&&e instanceof qo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Wa&&e instanceof Wa&&t._firestore===e._firestore&&VT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Za extends zT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function PL(t,e,n){t=pt(t,fn);const r=pt(t.firestore,nn),i=yv(t.converter,e,n);return Hd(r,[dv(ic(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,vn.none())])}function ML(t,e,n,...r){t=pt(t,fn);const i=pt(t.firestore,nn),s=ic(i);let o;return o="string"==typeof(e=(0,Qt.m9)(e))||e instanceof zo?BT(s,"updateDoc",t._key,e,n,r):UT(s,"updateDoc",t._key,e),Hd(i,[o.toMutation(t._key,vn.exists(!0))])}function xL(t,...e){var n,r,i;t=(0,Qt.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||FT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(FT(e[o])){const g=e[o];e[o]=null===(n=g.next)||void 0===n?void 0:n.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let u,l,h;if(t instanceof fn)l=pt(t.firestore,nn),h=md(t._key.path),u={next:g=>{e[o]&&e[o](qT(l,t,g))},error:e[o+1],complete:e[o+2]};else{const g=pt(t,Sr);l=pt(g.firestore,nn),h=g._query;const m=new Za(l);u={next:y=>{e[o]&&e[o](new Wa(l,m,g,y))},error:e[o+1],complete:e[o+2]},CL(t._query)}return function(m,y,D,b){const M=new iv(b),F=new eT(y,M,D);return m.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return KD(yield Bd(m),F)})),()=>{M.Na(),m.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return YD(yield Bd(m),F)}))}}(On(l),h,a,u)}function Hd(t,e){return function(r,i){const s=new sr;return r.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function $K(t,e,n){return sT.apply(this,arguments)}(yield NT(r),i,s)})),s.promise}(On(t),e)}function qT(t,e,n){const r=n.docs.get(e._key),i=new Za(t);return new qo(t,i,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}const gY={maxAttempts:5};class NL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ic(e)}set(e,n,r){this._verifyNotCommitted();const i=Ka(e,this._firestore),s=yv(i.converter,n,r),o=dv(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,vn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ka(e,this._firestore);let o;return o="string"==typeof(n=(0,Qt.m9)(n))||n instanceof zo?BT(this._dataReader,"WriteBatch.update",s._key,n,r,i):UT(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ka(e,this._firestore);return this._mutations=this._mutations.concat(new wd(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ka(t,e){if((t=(0,Qt.m9)(t)).firestore!==e)throw new te(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class mY extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ic(n)}get(n){const r=Ka(n,this._firestore),i=new KQ(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return De();const o=s[0];if(o.isFoundDocument())return new tg(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new tg(this._firestore,i,r._key,null,r.converter);throw De()})}set(n,r,i){const s=Ka(n,this._firestore),o=yv(s.converter,r,i),a=dv(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Ka(n,this._firestore);let a;return a="string"==typeof(r=(0,Qt.m9)(r))||r instanceof zo?BT(this._dataReader,"Transaction.update",o._key,r,i,s):UT(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Ka(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ka(e,this._firestore),r=new Za(this._firestore);return super.get(e).then(i=>new qo(this._firestore,r,n._key,i._document,new oc(!1,!1),n.converter))}}function WT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new te("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function FL(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function LL(){if(!function K7(){return typeof atob<"u"}())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){ud=Fi.SDK_VERSION,(0,Fi._registerComponent)(new YN.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new nn(new v7(r.getProvider("auth-internal")),new w7(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Fi.registerVersion)(pk,"4.3.2",e),(0,Fi.registerVersion)(pk,"4.3.2","esm2017")}();class sg{constructor(e){this._delegate=e}static fromBase64String(e){return LL(),new sg(ho.fromBase64String(e))}static fromUint8Array(e){return FL(),new sg(ho.fromUint8Array(e))}toBase64(){return LL(),this._delegate.toBase64()}toUint8Array(){return FL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZT(t){return function bY(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class AY{enableIndexedDbPersistence(e,n){return function DQ(t,e){gL(t=pt(t,nn));const n=On(t);if(n._uninitializedComponentsProvider)throw new te(B.FAILED_PRECONDITION,"SDK cache is already specified.");Ii("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Ld;return pL(n,i,new bT(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function TQ(t){gL(t=pt(t,nn));const e=On(t);if(e._uninitializedComponentsProvider)throw new te(B.FAILED_PRECONDITION,"SDK cache is already specified.");Ii("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Ld;return pL(e,r,new KF(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bQ(t){if(t._initialized&&!t._terminated)throw new te(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new sr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{yield(n=(0,Q.Z)(function*(i){if(!Rs.D())return Promise.resolve();const s=i+"main";yield Rs.delete(s)}),function r(i){return n.apply(this,arguments)})(yD(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class UL{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ka||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ii("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function lL(t,e,n,r={}){var i;const s=(t=pt(t,Yp))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=gr.MOCK_USER;else{a=(0,Qt.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gr(l)}t._authCredentials=new y7(new gk(a,u))}}(this._delegate,e,n,r)}enableNetwork(){return function SQ(t){return function lQ(t){return t.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield JF(t),n=yield XF(t);return e.setNetworkEnabled(!0),function(i){const s=fe(i);return s.C_.delete(0),Zp(s)}(n)}))}(On(t=pt(t,nn)))}(this._delegate)}disableNetwork(){return function RQ(t){return function dQ(t){return t.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield JF(t),n=yield XF(t);return e.setNetworkEnabled(!1),(r=(0,Q.Z)(function*(s){const o=fe(s);o.C_.add(0),yield Md(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(n);var r}))}(On(t=pt(t,nn)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sL("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function AQ(t){return function(n){const r=new sr;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function WK(t,e){return lT.apply(this,arguments)}(yield NT(n),r)})),r.promise}(On(t=pt(t,nn)))}(this._delegate)}onSnapshotsInSync(e){return function oY(t,e){return function pQ(t,e){const n=new iv(e);return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return i=yield Bd(t),s=n,fe(i).q_.add(s),void s.next();var i,s})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return i=yield Bd(t),s=n,void fe(i).q_.delete(s);var i,s}))}}(On(t=pt(t,nn)),FT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $d(this,dL(this._delegate,e))}catch(n){throw ci(n,"collection()","Firestore.collection()")}}doc(e){try{return new gs(this,uv(this._delegate,e))}catch(n){throw ci(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new li(this,function IQ(t,e){if(t=pt(t,Yp),kT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sr(t,null,(r=e,new Uo(bt.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw ci(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _Y(t,e,n){t=pt(t,nn);const r=Object.assign(Object.assign({},gY),n);return function(s){if(s.maxAttempts<1)throw new te(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new sr;return s.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){const l=yield function eL(t){return ov(t).then(e=>e.datastore)}(s);new uQ(s.asyncQueue,l,a,o,u).run()})),u.promise}(On(t),i=>e(new mY(t,i)),r)}(this._delegate,n=>e(new BL(this,n)))}batch(){return On(this._delegate),new jL(new NL(this._delegate,e=>Hd(this._delegate,e)))}loadBundle(e){return function PQ(t,e){const n=On(t=pt(t,nn)),r=new wQ;return function gQ(t,e,n,r){const i=function(o,a){let u;return u="string"==typeof o?CV().encode(o):o,h=function(h,g){if(h instanceof Uint8Array)return QF(h,g);if(h instanceof ArrayBuffer)return QF(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new oQ(h,a);var h}(n,Wp(e));t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){!function iQ(t,e,n){const r=fe(t);var i;(i=(0,Q.Z)(function*(o,a,u){try{const l=yield a.getMetadata();if(yield function(D,b){const M=fe(D),F=Qn(b.createTime);return M.persistence.runTransaction("hasNewerBundle","readonly",x=>M.Kr.getBundleMetadata(x,b.id)).then(x=>!!x&&x.createTime.compareTo(F)>=0)}(o.localStore,l))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(D=l).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);u._updateProgress(BF(l));const h=new FK(l,o.localStore,a.serializer);let g=yield a.Ma();for(;g;){const y=yield h.ea(g);y&&u._updateProgress(y),g=yield a.Ma()}const m=yield h.complete();return yield $o(o,m.ra,void 0),yield function(D,b){const M=fe(D);return M.persistence.runTransaction("Save bundle","readwrite",F=>M.Kr.saveBundleMetadata(F,b))}(o.localStore,l),u._completeWith(m.progress),Promise.resolve(m.na)}catch(l){return Ii("SyncEngine",`Loading bundle failed with ${l}`),u._failWith(l),Promise.resolve(new Set)}var D}),function s(o,a,u){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield NT(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function MQ(t,e){return function mQ(t,e){return t.asyncQueue.enqueue((0,Q.Z)(function*(){return function(r,i){const s=fe(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Ud(t),e)}))}(On(t=pt(t,nn)),e).then(n=>n?new Sr(t,null,n.query):null)}(this._delegate,e).then(n=>n?new li(this,n):null)}}class Iv extends zT{constructor(e){super(),this.firestore=e}convertBytes(e){return new sg(new ho(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return gs.forKey(n,this.firestore,null)}}class BL{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Iv(e)}get(e){const n=uc(e);return this._delegate.get(n).then(r=>new og(this._firestore,new qo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=uc(e);return r?(WT("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=uc(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=uc(e);return this._delegate.delete(n),this}}class jL{constructor(e){this._delegate=e}set(e,n,r){const i=uc(e);return r?(WT("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=uc(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=uc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ac{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ig(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ag(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ac.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ac(e,new Iv(e),n),i.set(n,s)),s}}ac.INSTANCES=new WeakMap;class gs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Iv(e)}static forPath(e,n,r){if(e.length%2!=0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gs(n,new fn(n._delegate,r,new me(e)))}static forKey(e,n,r){return new gs(n,new fn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new $d(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $d(this.firestore,dL(this._delegate,e))}catch(n){throw ci(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.m9)(e))instanceof fn&&hL(this._delegate,e)}set(e,n){n=WT("DocumentReference.set",n);try{return n?PL(this._delegate,e,n):PL(this._delegate,e)}catch(r){throw ci(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?ML(this._delegate,e):ML(this._delegate,e,n,...r)}catch(i){throw ci(i,"updateDoc()","DocumentReference.update()")}}delete(){return function iY(t){return Hd(pt(t.firestore,nn),[new wd(t._key,vn.none())])}(this._delegate)}onSnapshot(...e){const n=HL(e),r=$L(e,i=>new og(this.firestore,new qo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xL(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function XQ(t){t=pt(t,fn);const e=pt(t.firestore,nn),n=On(e),r=new Za(e);return function hQ(t,e){const n=new sr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(s,o,a){try{const u=yield function(h,g){const m=fe(h);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new te(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const l=Od(u,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Ud(t),e,n);var r})),n.promise}(n,t._key).then(i=>new qo(e,r,t._key,i,new oc(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function eY(t){t=pt(t,fn);const e=pt(t.firestore,nn);return tL(On(e),t._key,{source:"server"}).then(n=>qT(e,t,n))}(this._delegate):function JQ(t){t=pt(t,fn);const e=pt(t.firestore,nn);return tL(On(e),t._key).then(n=>qT(e,t,n))}(this._delegate),n.then(r=>new og(this.firestore,new qo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new gs(this.firestore,this._delegate.withConverter(e?ac.getInstance(this.firestore,e):null))}}function ci(t,e,n){return t.message=t.message.replace(e,n),t}function HL(t){for(const e of t)if("object"==typeof e&&!ZT(e))return e;return{}}function $L(t,e){var n,r;let i;return i=ZT(t[0])?t[0]:ZT(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class og{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new gs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return RL(this._delegate,e._delegate)}}class ag extends og{data(e){const n=this._delegate.data(e);return function m7(t,e){t||De()}(void 0!==n),n}}class li{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Iv(e)}where(e,n,r){try{return new li(this.firestore,Ga(this._delegate,function jQ(t,e,n){const r=e,i=pv("where",t);return rg._create(i,r,n)}(e,n,r)))}catch(i){throw ci(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new li(this.firestore,Ga(this._delegate,function HQ(t,e="asc"){const n=e,r=pv("orderBy",t);return $T._create(r,n)}(e,n)))}catch(r){throw ci(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new li(this.firestore,Ga(this._delegate,function $Q(t){return uL("limit",t),gv._create("limit",t,"F")}(e)))}catch(n){throw ci(n,"limit()","Query.limit()")}}limitToLast(e){try{return new li(this.firestore,Ga(this._delegate,function zQ(t){return uL("limitToLast",t),gv._create("limitToLast",t,"L")}(e)))}catch(n){throw ci(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new li(this.firestore,Ga(this._delegate,function qQ(...t){return mv._create("startAt",t,!0)}(...e)))}catch(n){throw ci(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new li(this.firestore,Ga(this._delegate,function GQ(...t){return mv._create("startAfter",t,!1)}(...e)))}catch(n){throw ci(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new li(this.firestore,Ga(this._delegate,function WQ(...t){return _v._create("endBefore",t,!1)}(...e)))}catch(n){throw ci(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new li(this.firestore,Ga(this._delegate,function ZQ(...t){return _v._create("endAt",t,!0)}(...e)))}catch(n){throw ci(n,"endAt()","Query.endAt()")}}isEqual(e){return VT(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function nY(t){t=pt(t,Sr);const e=pt(t.firestore,nn),n=On(e),r=new Za(e);return function fQ(t,e){const n=new sr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(s,o,a){try{const u=yield Yy(s,o,!0),l=new $F(o,u.ls),h=l.ca(u.documents),g=l.applyChanges(h,!1);a.resolve(g.snapshot)}catch(u){const l=Od(u,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Ud(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Wa(e,r,t,i))}(this._delegate):"server"===e?.source?function rY(t){t=pt(t,Sr);const e=pt(t.firestore,nn),n=On(e),r=new Za(e);return nL(n,t._query,{source:"server"}).then(i=>new Wa(e,r,t,i))}(this._delegate):function tY(t){t=pt(t,Sr);const e=pt(t.firestore,nn),n=On(e),r=new Za(e);return CL(t._query),nL(n,t._query).then(i=>new Wa(e,r,t,i))}(this._delegate),n.then(r=>new KT(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=HL(e),r=$L(e,i=>new KT(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xL(this._delegate,n,r)}withConverter(e){return new li(this.firestore,this._delegate.withConverter(e?ac.getInstance(this.firestore,e):null))}}class RY{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ag(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KT{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new li(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ag(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new RY(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ag(this._firestore,r))})}isEqual(e){return RL(this._delegate,e._delegate)}}class $d extends li{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gs(this.firestore,e):null}doc(e){try{return new gs(this.firestore,void 0===e?uv(this._delegate):uv(this._delegate,e))}catch(n){throw ci(n,"doc()","CollectionReference.doc()")}}add(e){return function sY(t,e){const n=pt(t.firestore,nn),r=uv(t),i=yv(t.converter,e);return Hd(n,[dv(ic(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new gs(this.firestore,n))}isEqual(e){return hL(this._delegate,e._delegate)}withConverter(e){return new $d(this.firestore,this._delegate.withConverter(e?ac.getInstance(this.firestore,e):null))}}function uc(t){return pt(t,fn)}class QT{constructor(...e){this._delegate=new zo(...e)}static documentId(){return new QT(dn.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.m9)(e))instanceof zo&&this._delegate._internalPath.isEqual(e._internalPath)}}class cc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vY(){return new LT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cc(e)}static delete(){const e=function yY(){return new Xp("deleteField")}();return e._methodName="FieldValue.delete",new cc(e)}static arrayUnion(...e){const n=function IY(...t){return new VQ("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new cc(n)}static arrayRemove(...e){const n=function EY(...t){return new FQ("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new cc(n)}static increment(e){const n=function wY(t){return new LQ("increment",t)}(e);return n._methodName="FieldValue.increment",new cc(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const PY={Firestore:UL,GeoPoint:cv,Timestamp:yn,Blob:sg,Transaction:BL,WriteBatch:jL,DocumentReference:gs,DocumentSnapshot:og,Query:li,QueryDocumentSnapshot:ag,QuerySnapshot:KT,CollectionReference:$d,FieldPath:QT,FieldValue:cc,setLogLevel:function SY(t){!function g7(t){Pa.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function zL(t,e){return function NY(t,e=kN){return new Xe(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function YT(t,e){return zL(t,e).pipe(_e(n=>({payload:n,type:"query"})))}!function xY(t){(function MY(t,e){t.INTERNAL.registerComponent(new YN.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},PY)))})(t,(e,n)=>new UL(e,n,new AY)),t.registerVersion("@firebase/firestore-compat","0.3.21")}(Aa.Z);class qL{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:s}=YL(r,n);return new ZL(i,s,this.afs)}snapshotChanges(){return function OY(t,e){return zL(t,e).pipe(P_(void 0),GC(),_e(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Li)}valueChanges(e={}){return this.snapshotChanges().pipe(_e(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return I(this.ref.get(e)).pipe(Li)}}function Ev(t,e){return YT(t,e).pipe(P_(void 0),GC(),_e(n=>{const[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const l=s.find(g=>g.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function GL(t,e,n){return Ev(t,n).pipe(x_((r,i)=>function kY(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function VY(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return JT(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return JT(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JT(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(s=>s.payload),e),[]),qe(),_e(r=>r.map(i=>({type:i.type,payload:i}))))}function JT(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function WL(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class ZL{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Ev(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(_e(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(P_(void 0),GC(),Ts(([r,i])=>i.length>0||!r),_e(([,r])=>r),Li)}auditTrail(e){return this.stateChanges(e).pipe(x_((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=WL(e);return GL(this.query,n,this.afs.schedulers.outsideAngular).pipe(Li)}valueChanges(e={}){return YT(this.query,this.afs.schedulers.outsideAngular).pipe(_e(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Li)}get(e){return I(this.query.get(e)).pipe(Li)}add(e){return this.ref.add(e)}doc(e){return new qL(this.ref.doc(e),this.afs)}}class FY{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Ev(this.query,this.afs.schedulers.outsideAngular).pipe(_e(n=>n.filter(r=>e.indexOf(r.type)>-1)),Ts(n=>n.length>0),Li):Ev(this.query,this.afs.schedulers.outsideAngular).pipe(Li)}auditTrail(e){return this.stateChanges(e).pipe(x_((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=WL(e);return GL(this.query,n,this.afs.schedulers.outsideAngular).pipe(Li)}valueChanges(e={}){return YT(this.query,this.afs.schedulers.outsideAngular).pipe(_e(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Li)}get(e){return I(this.query.get(e)).pipe(Li)}}const KL=new de("angularfire2.enableFirestorePersistence"),QL=new de("angularfire2.firestore.persistenceSettings"),LY=new de("angularfire2.firestore.settings"),UY=new de("angularfire2.firestore.use-emulator");function YL(t,e=(n=>n)){return{query:e(t),ref:t}}let XT=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,l,h,g,m,y,D,b,M,F,x){this.schedulers=u;const z=zC(n,a,r),oe=h;g&&QN(z,a,m,D,b,M,y,F),[this.firestore,this.persistenceEnabled$]=BN(`${z.name}.firestore`,"AngularFirestore",z.name,()=>{const pe=a.runOutsideAngular(()=>z.firestore());if(s&&pe.settings(s),oe&&pe.useEmulator(...oe),i&&!T_(o)){const je=()=>{try{return I(pe.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Ft){return typeof console<"u"&&console.warn(Ft),A(!1)}};return[pe,a.runOutsideAngular(je)]}return[pe,A(!1)]},[s,oe,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:o}=YL(i,r),a=this.schedulers.ngZone.run(()=>s);return new ZL(a,o,this)}collectionGroup(n,r){const i=r||(o=>o),s=this.firestore.collectionGroup(n);return new FY(i(s),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new qL(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(ce(Kf),ce(Y_,8),ce(KL,8),ce(LY,8),ce(qs),ce(Tt),ce(Q_),ce(QL,8),ce(UY,8),ce(qC,8),ce(zN,8),ce(qN,8),ce(GN,8),ce(WN,8),ce(ZN,8),ce(KN,8),ce($C,8))};static \u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),BY=(()=>{class t{constructor(){Aa.Z.registerVersion("angularfire",Jl.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:KL,useValue:!0},{provide:QL,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Hn({type:t});static \u0275inj=Yn({providers:[XT]})}return t})(),lc=(()=>{class t{constructor(n){this.db=n,this.dbPath="/title-content",this.homeRef=n.collection(this.dbPath)}getAll(){return this.homeRef}update(n,r){console.log(`data: ${JSON.stringify(r)}`);const i=this.homeRef.doc(n).update({...r});return console.log(i),i}static#e=this.\u0275fac=function(r){return new(r||t)(ce(XT))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XL(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof e||"[object String]"===e?new Date(t):new Date(NaN)}Math.pow(10,8);let dc=(()=>{class t{constructor(){this.storage=window.localStorage}set(n,r){return!!this.storage&&(this.storage.setItem(n,JSON.stringify(r)),!0)}get(n){const r=this.storage?.getItem(n);if(r){const i=JSON.parse(r).updatedAt;return"title-content"===n&&i&&function GY(t,e,n){const r=function zY(t,e){return XL(t).getTime()-XL(e).getTime()}(t,e)/6e4;return function qY(t){return t?Math[t]:Math.trunc}(n?.roundingMethod)(r)}(new Date,new Date(i))>=10?(console.log("resetou localstorage"),null):JSON.parse(r)}return null}remove(n){return!!this.storage&&(this.storage.removeItem(n),!0)}clear(){return!!this.storage&&(this.storage.clear(),!0)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ps=(()=>{class t{constructor(n,r,i,s){this.afs=n,this.afAuth=r,this.router=i,this.ngZone=s,this.isLoggedInObservable=new v(!1),this.isLogged=this.isLoggedInObservable.asObservable(),this.afAuth.authState.subscribe(o=>{o?(console.log("entrou set user"),console.log(o),this.userData=o,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),this.isLoggedInObservable.next(!0)):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")),this.isLoggedInObservable.next(!1))})}login(n,r){return console.log("entrou login"),this.afAuth.signInWithEmailAndPassword(n,r).then(i=>{this.userData=i.user,this.afAuth.authState.subscribe(s=>{console.log("entrou login1"),s&&(console.log("entrou login2"),this.router.navigate([""]),this.isLoggedInObservable.next(!0))})}).catch(i=>{console.log("entrou login3"),window.alert(i.message)})}signUp(n,r){return this.afAuth.createUserWithEmailAndPassword(n,r).then(i=>{this.sendVerificationMail(),this.userData=i.user,this.isLoggedInObservable.next(!0)}).catch(i=>{window.alert(i.message)})}sendVerificationMail(){return this.afAuth.currentUser.then(n=>n.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}forgotPassword(n){return this.afAuth.sendPasswordResetEmail(n).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}signOut(){return console.log("entrou signOut"),this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate([""]),this.isLoggedInObservable.next(!1)})}static#e=this.\u0275fac=function(r){return new(r||t)(ce(XT),ce(qC),ce(vi),ce(Tt))};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e2=(()=>{class t{get nativeWindow(){return window}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac}),t})(),ug=(()=>{class t{constructor(n,r,i){this.element=n,this._window=r,this._zone=i,this.onlyGrow=!1,this.useImportant=!1,this.resized=new Tn,this.autosize=!0,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound())}set minRows(n){this._minRows=+n,this.textAreaEl&&(this.textAreaEl.rows=this._minRows)}set _autosize(n){this.autosize="boolean"!=typeof n||n}onInput(n){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(n){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function ZY(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(n=!1){if(this.autosize&&!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const r=this.textAreaEl.value;if(!1===n&&r===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=r,this._oldWidth=this.textAreaEl.offsetWidth;const i=this.textAreaEl.cloneNode(!0),s=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=r,s.appendChild(i),i.style["overflow-y"]="hidden",i.style.height="auto";let o=i.scrollHeight,a=this._window.nativeWindow.getComputedStyle(i,null);o+=parseInt(a.getPropertyValue("border-top-width")),o+=parseInt(a.getPropertyValue("border-bottom-width")),"content-box"===a.getPropertyValue("box-sizing")&&(o-=parseInt(a.getPropertyValue("padding-top")),o-=parseInt(a.getPropertyValue("padding-bottom")));const u=this.textAreaEl.offsetHeight;if(!1===this.onlyGrow||o>u){const h=this._getLineHeight(),g=o/h;if(this._minRows&&this._minRows>=g)o=this._minRows*h;else if(this.maxRows&&this.maxRows<=g){const D=this.maxRows*h;o=this.onlyGrow?Math.max(D,u):D,this.textAreaEl.style["overflow-y"]="auto"}else this.textAreaEl.style["overflow-y"]="hidden";this.textAreaEl.style.setProperty("height",o+"px",this.useImportant?"important":""),this.resized.emit(o)}s.removeChild(i)}}_getLineHeight(){let n=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(n)&&this._window.nativeWindow.getComputedStyle){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl);n=parseInt(r.lineHeight,10)}if(isNaN(n)){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");n=Math.floor(1.5*parseInt(r.replace("px",""),10))}return n}}return t.\u0275fac=function(n){return new(n||t)(G(mi),G(e2),G(Tt))},t.\u0275dir=Be({type:t,selectors:[["","autosize",""]],hostBindings:function(n,r){1&n&&et("input",function(s){return r.onInput(s.target)})},inputs:{minRows:"minRows",_autosize:["autosize","_autosize"],maxRows:"maxRows",onlyGrow:"onlyGrow",useImportant:"useImportant"},outputs:{resized:"resized"},features:[ei]}),t})(),KY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=Yn({providers:[e2],imports:[[]]}),t})(),t2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(To),G(mi))};static#t=this.\u0275dir=Be({type:t})}return t})(),hc=(()=>{class t extends t2{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=wr(t)))(i||t)}}();static#t=this.\u0275dir=Be({type:t,features:[Ht]})}return t})();const fo=new de("NgValueAccessor"),JY={provide:fo,useExisting:k(()=>Ms),multi:!0},eJ=new de("CompositionEventMode");let Ms=(()=>{class t extends t2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function XY(){const t=Ea()?Ea().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(To),G(mi),G(eJ,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&et("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[_n([JY]),Ht]})}return t})();function Qa(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function r2(t){return null!=t&&"number"==typeof t.length}const qr=new de("NgValidators"),Ya=new de("NgAsyncValidators"),tJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class eb{static min(e){return function i2(t){return e=>{if(Qa(e.value)||Qa(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function s2(t){return e=>{if(Qa(e.value)||Qa(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function o2(t){return Qa(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function a2(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function u2(t){return Qa(t.value)||tJ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function c2(t){return e=>Qa(e.value)||!r2(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function l2(t){return e=>r2(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function d2(t){if(!t)return wv;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Qa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return _2(e)}static composeAsync(e){return y2(e)}}function wv(t){return null}function h2(t){return null!=t}function f2(t){return gf(t)?I(t):t}function p2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function g2(t,e){return e.map(n=>n(t))}function m2(t){return t.map(e=>function nJ(t){return!t.validate}(e)?e:n=>e.validate(n))}function _2(t){if(!t)return null;const e=t.filter(h2);return 0==e.length?null:function(n){return p2(g2(n,e))}}function tb(t){return null!=t?_2(m2(t)):null}function y2(t){if(!t)return null;const e=t.filter(h2);return 0==e.length?null:function(n){return function QY(...t){const e=Zi(t),{args:n,keys:r}=C1(t),i=new Xe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let h=0;h<o;h++){let g=!1;_t(n[h]).subscribe(ge(s,m=>{g||(g=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?T1(r,a):a),s.complete())}))}});return e?i.pipe(D1(e)):i}(g2(n,e).map(f2)).pipe(_e(p2))}}function nb(t){return null!=t?y2(m2(t)):null}function v2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function I2(t){return t._rawValidators}function E2(t){return t._rawAsyncValidators}function rb(t){return t?Array.isArray(t)?t:[t]:[]}function Cv(t,e){return Array.isArray(t)?t.includes(e):t===e}function w2(t,e){const n=rb(e);return rb(t).forEach(i=>{Cv(n,i)||n.push(i)}),n}function C2(t,e){return rb(e).filter(n=>!Cv(t,n))}class D2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class di extends D2{get formDirective(){return null}get path(){return null}}class Ja extends D2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class T2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Go=(()=>{class t extends T2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ja,2))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Jm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ht]})}return t})(),b2=(()=>{class t extends T2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(G(di,10))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Jm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ht]})}return t})();const cg="VALID",Tv="INVALID",zd="PENDING",lg="DISABLED";function ob(t){return(bv(t)?t.validators:t)||null}function ab(t,e){return(bv(e)?e.asyncValidators:t)||null}function bv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function S2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function R2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new q(1002,"")})}class Av{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cg}get invalid(){return this.status===Tv}get pending(){return this.status==zd}get disabled(){return this.status===lg}get enabled(){return this.status!==lg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(w2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(w2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(C2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(C2(e,this._rawAsyncValidators))}hasValidator(e){return Cv(this._rawValidators,e)}hasAsyncValidator(e){return Cv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=lg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=cg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cg||this.status===zd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lg:cg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zd,this._hasOwnPendingAsyncValidator=!0;const n=f2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tn,this.statusChanges=new Tn}_calculateStatus(){return this._allControlsDisabled()?lg:this.errors?Tv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zd)?zd:this._anyControlsHaveStatus(Tv)?Tv:cg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function oJ(t){return Array.isArray(t)?tb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function aJ(t){return Array.isArray(t)?nb(t):t||null}(this._rawAsyncValidators)}}class qd extends Av{constructor(e,n,r){super(ob(n),ab(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){R2(this,0,e),Object.keys(e).forEach(r=>{S2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class P2 extends qd{}const fc=new de("CallSetDisabledState",{providedIn:"root",factory:()=>dg}),dg="always";function Sv(t,e){return[...e.path,t]}function hg(t,e,n=dg){ub(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function cJ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&M2(t,e)})}(t,e),function dJ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function lJ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&M2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function uJ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Rv(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mv(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pv(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ub(t,e){const n=I2(t);null!==e.validator?t.setValidators(v2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=E2(t);null!==e.asyncValidator?t.setAsyncValidators(v2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Pv(e._rawValidators,i),Pv(e._rawAsyncValidators,i)}function Mv(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=I2(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=E2(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Pv(e._rawValidators,r),Pv(e._rawAsyncValidators,r),n}function M2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function db(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ms?n=s:function pJ(t){return Object.getPrototypeOf(t.constructor)===hc}(s)?r=s:i=s}),i||r||n||null}function O2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function k2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const pc=class extends Av{constructor(e=null,n,r){super(ob(n),ab(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=k2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){O2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){O2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){k2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},vJ={provide:Ja,useExisting:k(()=>Wo)},L2=(()=>Promise.resolve())();let Wo=(()=>{class t extends Ja{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new pc,this._registered=!1,this.name="",this.update=new Tn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=db(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),lb(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){L2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&jl(r);L2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Sv(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(G(di,9),G(qr,10),G(Ya,10),G(fo,10),G(l_,8),G(fc,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_n([vJ]),Ht,ei]})}return t})(),U2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),j2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({})}return t})();const fb=new de("NgModelWithFormControlWarning"),TJ={provide:di,useExisting:k(()=>xv)};let xv=(()=>{class t extends di{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Tn,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return hg(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rv(n.control||null,n,!1),function gJ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function N2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Rv(r||null,n),(t=>t instanceof pc)(i)&&(hg(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function x2(t,e){ub(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function hJ(t,e){return Mv(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ub(this.form,this),this._oldForm&&Mv(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(G(qr,10),G(Ya,10),G(fc,8))};static#t=this.\u0275dir=Be({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&et("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_n([TJ]),Ht,ei]})}return t})();const SJ={provide:Ja,useExisting:k(()=>mb)};let mb=(()=>{class t extends Ja{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Tn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=db(0,s)}ngOnChanges(n){this._added||this._setUpControl(),lb(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Sv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(G(di,13),G(qr,10),G(Ya,10),G(fo,10),G(fb,8))};static#n=this.\u0275dir=Be({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_n([SJ]),Ht,ei]})}return t})(),rU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({imports:[j2]})}return t})();class iU extends Av{constructor(e,n,r){super(ob(n),ab(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){R2(this,0,e),e.forEach((r,i)=>{S2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function sU(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let $J=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return sU(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new qd(i,s)}record(n,r=null){const i=this._reduceControls(n);return new P2(i,r)}control(n,r,i){let s={};return this.useNonNullable?(sU(r)?s=r:(s.validators=r,s.asyncValidators=i),new pc(n,{...s,nonNullable:!0})):new pc(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new iU(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof pc||n instanceof Av?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zJ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:fc,useValue:n.callSetDisabledState??dg}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({imports:[rU]})}return t})(),qJ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:fb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:fc,useValue:n.callSetDisabledState??dg}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({imports:[rU]})}return t})();function GJ(t,e){if(1&t&&(K(0,"div",18)(1,"h5"),le(2),W()()),2&t){const n=Me();ue(2),ki(n.homeData.homeInfoTitle)}}function WJ(t,e){if(1&t){const n=cn();K(0,"div",18)(1,"h5")(2,"input",19),et("ngModelChange",function(i){return Dt(n),Mt(Me().homeData.homeInfoTitle=i)}),W()()()}if(2&t){const n=Me();ue(2),he("ngModel",n.homeData.homeInfoTitle)}}function ZJ(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ue(1),Ys(" ",n.homeData.homeInfoContent," ")}}function KJ(t,e){if(1&t){const n=cn();K(0,"div")(1,"textarea",20),et("ngModelChange",function(i){return Dt(n),Mt(Me().homeData.homeInfoContent=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.homeData.homeInfoContent)}}function QJ(t,e){if(1&t&&(K(0,"p"),le(1),W()),2&t){const n=Me();ue(1),ki(n.homeData.hintContent)}}function YJ(t,e){if(1&t){const n=cn();K(0,"p")(1,"textarea",20),et("ngModelChange",function(i){return Dt(n),Mt(Me().homeData.hintContent=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.homeData.hintContent)}}function JJ(t,e){if(1&t){const n=cn();K(0,"div",21)(1,"button",22),et("click",function(){return Dt(n),Mt(Me().onSave())}),le(2,"Save"),W()()}}let XJ=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.localStorageService=r,this.authService=i,this.titleContentId="",this.homeData={homeInfoTitle:"",homeInfoContent:"",hintTitle:"",hintContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("isLoggedIn: "+this.isLoggedIn),console.log("entrou ngOnInit home");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - home"),this.homeData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(_e(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.homeData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.homeData,id:this.titleContentId,updatedAt:new Date})})}onSave(){this.titleContentId&&(console.log("entrou"),console.log(this.titleContentId),console.log(this.homeData),this.titleContentService.update(this.titleContentId,this.homeData).then(()=>{this.localStorageService.set("title-content",{...this.homeData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(lc),G(dc),G(Ps))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-home"]],decls:43,vars:22,consts:[[1,"section","odd"],["class","title",4,"ngIf"],[4,"ngIf"],["routerLink","company",1,"right-link"],[1,"row","even"],[1,"image-parent","col-12","col-sm-12","col-md-4","col-lg-4","col-xl-4"],[1,"image","stores"],["routerLink","stores"],[1,"image","prices"],["routerLink","prices"],[1,"image","contact"],["routerLink","contact"],[1,"row","section","odd"],[1,"round-box","col-12"],["src","assets/icons/lightbulb-fill.svg"],[1,"row","col-12"],["routerLink","hints",1,"right-link"],["class","row odd save-button",4,"ngIf"],[1,"title"],["type","text",3,"ngModel","ngModelChange"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0),We(1,GJ,3,1,"div",1),St(2,"async"),We(3,WJ,3,1,"div",1),St(4,"async"),bn(5,"hr"),We(6,ZJ,2,1,"div",2),St(7,"async"),We(8,KJ,2,1,"div",2),St(9,"async"),K(10,"div")(11,"a",3),le(12,"Mais detalhes"),W()()(),K(13,"div",4)(14,"div",5)(15,"div",6)(16,"a",7)(17,"h5"),le(18,"Lojas"),W()()()(),K(19,"div",5)(20,"div",8)(21,"a",9)(22,"h5"),le(23,"Pre\xe7os"),W()()()(),K(24,"div",5)(25,"div",10)(26,"a",11)(27,"h5"),le(28,"Contato"),W()()()()(),K(29,"div",12)(30,"div",13)(31,"h5"),le(32),bn(33,"img",14),W(),We(34,QJ,2,1,"p",2),St(35,"async"),We(36,YJ,2,1,"p",2),St(37,"async"),K(38,"div",15)(39,"a",16),le(40,"Mais detalhes"),W()()()(),We(41,JJ,3,0,"div",17),St(42,"async")),2&r&&(ue(1),he("ngIf",!Rt(2,8,i.isLoggedIn)),ue(2),he("ngIf",Rt(4,10,i.isLoggedIn)),ue(3),he("ngIf",!Rt(7,12,i.isLoggedIn)),ue(2),he("ngIf",Rt(9,14,i.isLoggedIn)),ue(24),Ys("",i.homeData.hintTitle," "),ue(2),he("ngIf",!Rt(35,16,i.isLoggedIn)),ue(2),he("ngIf",Rt(37,18,i.isLoggedIn)),ue(5),he("ngIf",Rt(42,20,i.isLoggedIn)))},dependencies:[ug,Ms,Go,Wo,Js,to,wa],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}.even[_ngcontent-%COMP%]{background-color:#c1e0f5}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}.right-link[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-top:10px}a[_ngcontent-%COMP%]{color:#fff}.round-box[_ngcontent-%COMP%]{border:solid 1px;border-radius:30px;border-color:#d3d3d3;padding:18px;color:404040}.round-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:baseline;width:1.8%}.round-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:0}.image[_ngcontent-%COMP%]{padding-top:210px;padding-bottom:210px;text-shadow:rgb(0,0,0) 3px 0px 0px,rgb(0,0,0) 2.83487px .981584px 0px,rgb(0,0,0) 2.35766px 1.85511px 0px,rgb(0,0,0) 1.62091px 2.52441px 0px,rgb(0,0,0) .705713px 2.91581px 0px,rgb(0,0,0) -.287171px 2.98622px 0px,rgb(0,0,0) -1.24844px 2.72789px 0px,rgb(0,0,0) -2.07227px 2.16926px 0px,rgb(0,0,0) -2.66798px 1.37182px 0px,rgb(0,0,0) -2.96998px .42336px 0px,rgb(0,0,0) -2.94502px -.571704px 0px,rgb(0,0,0) -2.59586px -1.50383px 0px,rgb(0,0,0) -1.96093px -2.27041px 0px,rgb(0,0,0) -1.11013px -2.78704px 0px,rgb(0,0,0) -.137119px -2.99686px 0px,rgb(0,0,0) .850987px -2.87677px 0px,rgb(0,0,0) 1.74541px -2.43999px 0px,rgb(0,0,0) 2.44769px -1.73459px 0px,rgb(0,0,0) 2.88051px -.838247px 0px;color:#fff}.image[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:33px}.round-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:24px}.image-parent[_ngcontent-%COMP%]{padding:0;overflow:hidden}.stores[_ngcontent-%COMP%], .prices[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center;display:flex;justify-content:center;width:100%;height:auto;transition:all .5s}.image-parent[_ngcontent-%COMP%]:hover   .stores[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .stores[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .prices[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .prices[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .contact[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .contact[_ngcontent-%COMP%]{transform:scale(1.2)}.stores[_ngcontent-%COMP%]:before, .prices[_ngcontent-%COMP%]:before, .contact[_ngcontent-%COMP%]:before{display:none;height:100%;width:100%;position:absolute;top:0;left:0;background-color:#34495e4d}.image-parent[_ngcontent-%COMP%]:hover   .stores[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .stores[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .prices[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .prices[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .contact[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .contact[_ngcontent-%COMP%]:before{display:block}.stores[_ngcontent-%COMP%]{background-image:url(home-stores2.f9505cc536690d58.jpg)}.prices[_ngcontent-%COMP%]{background-image:url(home-prices.23609724cbd0d3bc.jpg)}.contact[_ngcontent-%COMP%]{background-image:url(home-contact2.933d47879aeb6737.jpg)}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:center;outline:0;border-width:0 0 0px}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}"]})}return t})();function eX(t,e){if(1&t&&(K(0,"div",4)(1,"h5"),le(2),W()()),2&t){const n=Me();ue(2),ki(n.companyData.companyTitle)}}function tX(t,e){if(1&t){const n=cn();K(0,"div",4)(1,"h5")(2,"input",5),et("ngModelChange",function(i){return Dt(n),Mt(Me().companyData.companyTitle=i)}),W()()()}if(2&t){const n=Me();ue(2),he("ngModel",n.companyData.companyTitle)}}function nX(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ue(1),Ys(" ",n.companyData.companyContent," ")}}function rX(t,e){if(1&t){const n=cn();K(0,"div")(1,"textarea",6),et("ngModelChange",function(i){return Dt(n),Mt(Me().companyData.companyContent=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.companyData.companyContent)}}function iX(t,e){if(1&t){const n=cn();K(0,"div",7)(1,"button",8),et("click",function(){return Dt(n),Mt(Me().onSave())}),le(2,"Save"),W()()}}let sX=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.authService=r,this.localStorageService=i,this.titleContentServiceId="",this.companyData={companyTitle:"",companyContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData"),this.companyData=n,this.titleContentServiceId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(_e(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.companyData=r[0],this.titleContentServiceId=r[0].id,this.localStorageService.set("title-content",{...this.companyData,id:this.titleContentServiceId,updatedAt:new Date})})}onSave(){this.titleContentServiceId&&(console.log("entrou"),console.log(this.titleContentServiceId),console.log(this.companyData),this.titleContentService.update(this.titleContentServiceId,this.companyData).then(()=>{this.localStorageService.set("title-content",{...this.companyData,id:this.titleContentServiceId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(lc),G(Ps),G(dc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-company"]],decls:12,vars:15,consts:[[1,"section","odd"],["class","title",4,"ngIf"],[4,"ngIf"],["class","row odd save-button",4,"ngIf"],[1,"title"],["type","text",3,"ngModel","ngModelChange"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0),We(1,eX,3,1,"div",1),St(2,"async"),We(3,tX,3,1,"div",1),St(4,"async"),bn(5,"hr"),We(6,nX,2,1,"div",2),St(7,"async"),We(8,rX,2,1,"div",2),St(9,"async"),W(),We(10,iX,3,0,"div",3),St(11,"async")),2&r&&(ue(1),he("ngIf",!Rt(2,5,i.isLoggedIn)),ue(2),he("ngIf",Rt(4,7,i.isLoggedIn)),ue(3),he("ngIf",!Rt(7,9,i.isLoggedIn)),ue(2),he("ngIf",Rt(9,11,i.isLoggedIn)),ue(2),he("ngIf",Rt(11,13,i.isLoggedIn)))},dependencies:[ug,Ms,Go,Wo,Js,wa],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}.right-link[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-top:10px}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:center;outline:0;border-width:0 0 0px}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}"]})}return t})();function oX(t,e){if(1&t&&(K(0,"tr")(1,"td"),le(2),W(),K(3,"td"),le(4),W(),K(5,"td"),le(6),W()()),2&t){const n=e.index,r=Me(2);ue(2),ki(r.storesData.storesNeighborhoodsContent[n]),ue(2),ki(r.storesData.storesAddressesContent[n]),ue(2),ki(r.storesData.storesPhonesContent[n])}}function aX(t,e){if(1&t&&(K(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),le(4,"Bairro"),W(),K(5,"th",6),le(6,"Endere\xe7o"),W(),K(7,"th",6),le(8,"Telefone"),W()()(),K(9,"tbody"),We(10,oX,7,3,"tr",7),W()()),2&t){const n=Me();ue(10),he("ngForOf",n.storesData.storesNeighborhoodsContent)}}function uX(t,e){if(1&t){const n=cn();K(0,"tr")(1,"td")(2,"input",9),et("ngModelChange",function(i){const o=Dt(n).index;return Mt(Me(2).storesData.storesNeighborhoodsContent[o]=i)}),W()(),K(3,"td")(4,"input",9),et("ngModelChange",function(i){const o=Dt(n).index;return Mt(Me(2).storesData.storesAddressesContent[o]=i)}),W()(),K(5,"td")(6,"input",9),et("ngModelChange",function(i){const o=Dt(n).index;return Mt(Me(2).storesData.storesPhonesContent[o]=i)}),W()(),K(7,"td")(8,"button",10),et("click",function(){const s=Dt(n).index;return Mt(Me(2).deleteTableElement(s))}),le(9,"Deletar"),W()()()}if(2&t){const n=e.index,r=Me(2);ue(2),he("ngModel",r.storesData.storesNeighborhoodsContent[n]),ue(2),he("ngModel",r.storesData.storesAddressesContent[n]),ue(2),he("ngModel",r.storesData.storesPhonesContent[n])}}function cX(t,e){if(1&t&&(K(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),le(4,"Bairro"),W(),K(5,"th",6),le(6,"Endere\xe7o"),W(),K(7,"th",6),le(8,"Telefone"),W(),bn(9,"th",6),W()(),K(10,"tbody"),We(11,uX,10,3,"tr",8),W()()),2&t){const n=Me();ue(11),he("ngForOf",n.storesData.storesNeighborhoodsContent)("ngForTrackBy",n.trackByIndex)}}function lX(t,e){if(1&t){const n=cn();K(0,"button",10),et("click",function(){return Dt(n),Mt(Me().addTableElement())}),le(1,"+"),W()}}function dX(t,e){if(1&t){const n=cn();K(0,"div",11)(1,"button",12),et("click",function(){return Dt(n),Mt(Me().onSave())}),le(2,"Save"),W()()}}let hX=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.localStorageService=r,this.authService=i,this.titleContentId="",this.storesData={storesAddressesContent:[""],storesNeighborhoodsContent:[""],storesPhonesContent:[""]},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou ngOnInit stores");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - stores"),this.storesData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(_e(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.storesData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.storesData,id:this.titleContentId,updatedAt:new Date})})}onSave(){this.titleContentId&&(console.log("entrou"),console.log(this.titleContentId),console.log(this.storesData),this.titleContentService.update(this.titleContentId,this.storesData).then(()=>{console.log(this.storesData.storesAddressesContent[0]),this.localStorageService.set("title-content",{...this.storesData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}deleteTableElement(n){this.storesData.storesNeighborhoodsContent.splice(n,1),this.storesData.storesAddressesContent.splice(n,1),this.storesData.storesPhonesContent.splice(n,1)}addTableElement(){this.storesData.storesNeighborhoodsContent.push(""),this.storesData.storesAddressesContent.push(""),this.storesData.storesPhonesContent.push("")}trackByIndex(n){return n}static#e=this.\u0275fac=function(r){return new(r||t)(G(lc),G(dc),G(Ps))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-stores"]],decls:13,vars:12,consts:[[1,"section","odd"],[1,"title"],["class","table table-striped table-bordered",4,"ngIf"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],["class","row odd save-button",4,"ngIf"],[1,"table","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","text",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1)(2,"h5"),le(3,"Lojas"),W()(),bn(4,"hr"),We(5,aX,11,1,"table",2),St(6,"async"),We(7,cX,12,2,"table",2),St(8,"async"),We(9,lX,2,0,"button",3),St(10,"async"),W(),We(11,dX,3,0,"div",4),St(12,"async")),2&r&&(ue(5),he("ngIf",!Rt(6,4,i.isLoggedIn)),ue(2),he("ngIf",Rt(8,6,i.isLoggedIn)),ue(2),he("ngIf",Rt(10,8,i.isLoggedIn)),ue(2),he("ngIf",Rt(12,10,i.isLoggedIn)))},dependencies:[Ms,Go,Wo,tC,Js,wa],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:left;outline:0;border-width:0 0 0px;background-color:transparent}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px;background-color:transparent}"]})}return t})();function fX(t,e){if(1&t&&(K(0,"p"),le(1),W()),2&t){const n=Me();ue(1),ki(n.pageData.pricesHintContent)}}function pX(t,e){if(1&t){const n=cn();K(0,"p")(1,"textarea",21),et("ngModelChange",function(i){return Dt(n),Mt(Me().pageData.pricesHintContent=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.pageData.pricesHintContent)}}function gX(t,e){if(1&t){const n=cn();K(0,"div",22)(1,"button",23),et("click",function(){return Dt(n),Mt(Me().onSave())}),le(2,"Save"),W()()}}function mX(t,e){1&t&&bn(0,"div",24)}const _X=function(){return{type:"kilo"}},yX=function(){return{type:"female"}},vX=function(){return{type:"male"}},IX=function(){return{type:"children"}},EX=function(){return{type:"couch"}},wX=function(){return{type:"rug"}},CX=function(){return{type:"curtain"}},DX=function(){return{type:"bed"}},TX=function(){return{type:"trussardi"}},bX=function(){return{type:"others"}};let AX=(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.authService=r,this.localStorageService=i,this.titleContentId="",this.pageData={pricesHintContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou ngOnInit home");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - prices1"),this.pageData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(_e(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.pageData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date})})}onSave(){this.titleContentId&&(console.log("entrou"),console.log(this.titleContentId),console.log(this.pageData),this.titleContentService.update(this.titleContentId,this.pageData).then(()=>{this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(lc),G(Ps),G(dc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-prices"]],decls:69,vars:32,consts:[[1,"section","odd"],[1,"title"],[1,"row","top-hint","odd"],[1,"round-box","col-12"],["src","assets/icons/lightbulb-fill.svg"],[4,"ngIf"],[1,"row","even"],[1,"image-parent","col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"image","kilo"],["routerLink","details",3,"queryParams"],[1,"image","female"],[1,"image","male"],[1,"image","children"],[1,"image","couch"],[1,"image","rug"],[1,"image","curtain"],[1,"image","bed"],[1,"image","trussardi"],[1,"image","others"],["class","row odd save-button",4,"ngIf"],["class","row odd empty",4,"ngIf"],["rows","1",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"row","odd","empty"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1)(2,"h5"),le(3,"Tabela De Pre\xe7os"),W()(),bn(4,"hr"),W(),K(5,"div",2)(6,"div",3)(7,"h5"),le(8,"Dicas "),bn(9,"img",4),W(),We(10,fX,2,1,"p",5),St(11,"async"),We(12,pX,2,1,"p",5),St(13,"async"),W()(),K(14,"div",6)(15,"div",7)(16,"div",8)(17,"a",9)(18,"h5"),le(19,"Quilo"),W()()()(),K(20,"div",7)(21,"div",10)(22,"a",9)(23,"h5"),le(24,"Feminino"),W()()()(),K(25,"div",7)(26,"div",11)(27,"a",9)(28,"h5"),le(29,"Masculino"),W()()()(),K(30,"div",7)(31,"div",12)(32,"a",9)(33,"h5"),le(34,"Infantil"),W()()()(),K(35,"div",7)(36,"div",13)(37,"a",9)(38,"h5"),le(39,"Estofado"),W()()()(),K(40,"div",7)(41,"div",14)(42,"a",9)(43,"h5"),le(44,"Tapete"),W()()()(),K(45,"div",7)(46,"div",15)(47,"a",9)(48,"h5"),le(49,"Cortina"),W()()()(),K(50,"div",7)(51,"div",16)(52,"a",9)(53,"h5"),le(54,"Cama/Mesa"),W()()()(),K(55,"div",7)(56,"div",17)(57,"a",9)(58,"h5"),le(59,"Trussardi"),W()()()(),K(60,"div",7)(61,"div",18)(62,"a",9)(63,"h5"),le(64,"Diversos"),W()()()()(),We(65,gX,3,0,"div",19),St(66,"async"),We(67,mX,1,0,"div",20),St(68,"async")),2&r&&(ue(10),he("ngIf",!Rt(11,14,i.isLoggedIn)),ue(2),he("ngIf",Rt(13,16,i.isLoggedIn)),ue(5),he("queryParams",Ur(22,_X)),ue(5),he("queryParams",Ur(23,yX)),ue(5),he("queryParams",Ur(24,vX)),ue(5),he("queryParams",Ur(25,IX)),ue(5),he("queryParams",Ur(26,EX)),ue(5),he("queryParams",Ur(27,wX)),ue(5),he("queryParams",Ur(28,CX)),ue(5),he("queryParams",Ur(29,DX)),ue(5),he("queryParams",Ur(30,TX)),ue(5),he("queryParams",Ur(31,bX)),ue(3),he("ngIf",Rt(66,18,i.isLoggedIn)),ue(2),he("ngIf",!Rt(68,20,i.isLoggedIn)))},dependencies:[Ms,Go,Wo,Js,to,wa],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px 3px;color:#404040}.top-hint[_ngcontent-%COMP%]{white-space:pre-line;padding:50px 90px 150px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}.empty[_ngcontent-%COMP%]{padding-bottom:150px}.even[_ngcontent-%COMP%]{background-color:#c1e0f5}.round-box[_ngcontent-%COMP%]{border:solid 1px;border-radius:30px;border-color:#d3d3d3;padding:18px;color:404040}.round-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:24px}.round-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:baseline;width:1.8%}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}p[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:0}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.image[_ngcontent-%COMP%]{padding-top:210px;padding-bottom:210px;text-shadow:rgb(0,0,0) 3px 0px 0px,rgb(0,0,0) 2.83487px .981584px 0px,rgb(0,0,0) 2.35766px 1.85511px 0px,rgb(0,0,0) 1.62091px 2.52441px 0px,rgb(0,0,0) .705713px 2.91581px 0px,rgb(0,0,0) -.287171px 2.98622px 0px,rgb(0,0,0) -1.24844px 2.72789px 0px,rgb(0,0,0) -2.07227px 2.16926px 0px,rgb(0,0,0) -2.66798px 1.37182px 0px,rgb(0,0,0) -2.96998px .42336px 0px,rgb(0,0,0) -2.94502px -.571704px 0px,rgb(0,0,0) -2.59586px -1.50383px 0px,rgb(0,0,0) -1.96093px -2.27041px 0px,rgb(0,0,0) -1.11013px -2.78704px 0px,rgb(0,0,0) -.137119px -2.99686px 0px,rgb(0,0,0) .850987px -2.87677px 0px,rgb(0,0,0) 1.74541px -2.43999px 0px,rgb(0,0,0) 2.44769px -1.73459px 0px,rgb(0,0,0) 2.88051px -.838247px 0px;color:#fff}.image[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:33px}.image-parent[_ngcontent-%COMP%]{padding:0;overflow:hidden}.couch[_ngcontent-%COMP%], .rug[_ngcontent-%COMP%], .curtain[_ngcontent-%COMP%], .bed[_ngcontent-%COMP%], .trussardi[_ngcontent-%COMP%], .others[_ngcontent-%COMP%], .kilo[_ngcontent-%COMP%], .female[_ngcontent-%COMP%], .male[_ngcontent-%COMP%], .children[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center;display:flex;justify-content:center;width:100%;height:auto;transition:all .5s}.image-parent[_ngcontent-%COMP%]:hover   .couch[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .couch[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .rug[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .rug[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .curtain[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .curtain[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .bed[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .bed[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .trussardi[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .trussardi[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .others[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .others[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .kilo[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .kilo[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .female[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .female[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .male[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .male[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:hover   .children[_ngcontent-%COMP%], .image-parent[_ngcontent-%COMP%]:focus   .children[_ngcontent-%COMP%]{transform:scale(1.2)}.couch[_ngcontent-%COMP%]:before, .rug[_ngcontent-%COMP%]:before, .curtain[_ngcontent-%COMP%]:before, .bed[_ngcontent-%COMP%]:before, .trussardi[_ngcontent-%COMP%]:before, .others[_ngcontent-%COMP%]:before, .kilo[_ngcontent-%COMP%]:before, .female[_ngcontent-%COMP%]:before, .children[_ngcontent-%COMP%]:before, .male[_ngcontent-%COMP%]:before{display:none;height:100%;width:100%;position:absolute;top:0;left:0;background-color:#34495e4d}.image-parent[_ngcontent-%COMP%]:hover   .couch[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .couch[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .rug[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .rug[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .curtain[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .curtain[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .bed[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .bed[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .trussardi[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .trussardi[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .others[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .others[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .kilo[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .kilo[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .female[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .female[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .male[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .male[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:hover   .children[_ngcontent-%COMP%]:before, .image-parent[_ngcontent-%COMP%]:focus   .children[_ngcontent-%COMP%]:before{display:block}.couch[_ngcontent-%COMP%]{background-image:url(prices-couch.1e53024d4ca4c4fa.jpg)}.rug[_ngcontent-%COMP%]{background-image:url(prices-rug.6b36a5b78d203271.jpg)}.curtain[_ngcontent-%COMP%]{background-image:url(prices-curtain.ed66bd4b31f88be8.jpg)}.bed[_ngcontent-%COMP%]{background-image:url(prices-bed.313393361146656f.jpg)}.trussardi[_ngcontent-%COMP%]{background-image:url(prices-trussardi.12ef3d8b61f1b2ca.jpg)}.others[_ngcontent-%COMP%]{background-image:url(prices-others.69bdb52add79c958.jpg)}.kilo[_ngcontent-%COMP%]{background-image:url(prices-kilo.2e1e9de871a7078b.jpg)}.female[_ngcontent-%COMP%]{background-image:url(prices-women.f19a8da3392014de.jpg)}.male[_ngcontent-%COMP%]{background-image:url(prices-men.3410cf3e434b996b.jpg)}.children[_ngcontent-%COMP%]{background-image:url(prices-childen.a28f2a593def3ab2.jpg)}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}"]})}return t})(),SX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-contact"]],decls:2,vars:0,template:function(r,i){1&r&&(K(0,"p"),le(1,"contact works!"),W())}})}return t})();function RX(t,e){1&t&&(K(0,"div"),le(1,"Email \xe9 obrigat\xf3rio"),W())}function PX(t,e){1&t&&(K(0,"div"),le(1,"Email inv\xe1lido"),W())}function MX(t,e){if(1&t&&(K(0,"div",12),We(1,RX,2,0,"div",13),We(2,PX,2,0,"div",13),W()),2&t){const n=Me();ue(1),he("ngIf",n.f.email.errors.required),ue(1),he("ngIf",n.f.email.errors.email)}}function xX(t,e){1&t&&(K(0,"div"),le(1,"Senha \xe9 obrigat\xf3rio"),W())}function NX(t,e){if(1&t&&(K(0,"div",12),We(1,xX,2,0,"div",13),W()),2&t){const n=Me();ue(1),he("ngIf",n.f.password.errors.required)}}const oU=function(t){return{"is-invalid":t}};let OX=(()=>{class t{constructor(n,r){this.authService=n,this.formBuilder=r,this.form=new qd({email:new pc(""),password:new pc("")}),this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({email:["",[eb.required,eb.email]],password:["",[eb.required]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,!this.form.invalid&&this.authService.login(this.form.get("email")?.value,this.form.get("password")?.value)}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ps),G($J))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-sign-in"]],decls:21,vars:9,consts:[[1,"container-fluid"],[3,"formGroup","ngSubmit"],[1,"form-group","padding-bottom"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"center","padding-bottom"],[1,"small","mt-2","pt-1","mb-0"],["routerLink","/forgot-password",1,"link-danger"],[1,"form-group","center"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(r,i){1&r&&(K(0,"section")(1,"div",0)(2,"form",1),et("ngSubmit",function(){return i.onSubmit()}),K(3,"div",2)(4,"label"),le(5,"Email"),W(),bn(6,"input",3),We(7,MX,3,2,"div",4),W(),K(8,"div",5)(9,"label"),le(10,"Senha"),W(),bn(11,"input",6),We(12,NX,2,1,"div",4),W(),K(13,"div",7)(14,"p",8),le(15,"Esqueceu a senha ? "),K(16,"a",9),le(17,"Enviar email de redefini\xe7\xe3o"),W()()(),K(18,"div",10)(19,"button",11),le(20,"Entrar"),W()()()()()),2&r&&(ue(2),he("formGroup",i.form),ue(4),he("ngClass",fw(5,oU,i.submitted&&i.f.email.errors)),ue(1),he("ngIf",i.submitted&&i.f.email.errors),ue(4),he("ngClass",fw(7,oU,i.submitted&&i.f.password.errors)),ue(1),he("ngIf",i.submitted&&i.f.password.errors))},dependencies:[U2,Ms,Go,b2,Zx,Js,to,xv,mb],styles:[".container-fluid[_ngcontent-%COMP%], .center[_ngcontent-%COMP%]{display:flex;justify-content:center}form[_ngcontent-%COMP%]{border:solid 1px;border-radius:30px;border-color:#d3d3d3;padding:50px;margin:100px;color:404040}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:20px}"]})}return t})(),kX=(()=>{class t{constructor(n){this.authService=n}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ps))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"]],template:function(r,i){if(1&r){const s=cn();K(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),le(4,"Reset Password"),W(),K(5,"p",3),le(6,"Please enter your email address to request a password reset."),W(),K(7,"div",4),bn(8,"input",5,6),W(),K(10,"div",4)(11,"input",7),et("click",function(){Dt(s);const a=function xR(t){return la(function Jg(){return Ue.lFrame.contextLView}(),ct+t)}(9);return Mt(i.authService.forgotPassword(a.value))}),W()()(),K(12,"div",8)(13,"span"),le(14,"Go back to ? "),K(15,"span",9),le(16,"Log In"),W()()()()()}},dependencies:[to]})}return t})();var Vt=function(t){return t.KILO="kilo",t.FEMALE="female",t.MALE="male",t.CHILDREN="children",t.CHOUCH="couch",t.RUG="rug",t.CURTAIN="curtain",t.BED="bed",t.TROUSSARDI="trussardi",t.OTHERS="others",t}(Vt||{});function VX(t,e){if(1&t&&(K(0,"tr")(1,"td"),le(2),W(),K(3,"td"),le(4),W()()),2&t){const n=e.index,r=Me(2);ue(2),ki(r.pricesItens[n]),ue(2),ki(r.pricesValues[n])}}function FX(t,e){if(1&t&&(K(0,"table",10)(1,"thead")(2,"tr")(3,"th",11),le(4,"Artigo"),W(),K(5,"th",11),le(6,"Pre\xe7o"),W()()(),K(7,"tbody"),We(8,VX,5,2,"tr",12),W()()),2&t){const n=Me();ue(8),he("ngForOf",n.pricesItens)}}function LX(t,e){if(1&t){const n=cn();K(0,"tr")(1,"td")(2,"input",14),et("ngModelChange",function(i){const o=Dt(n).index;return Mt(Me(2).pricesItens[o]=i)}),W()(),K(3,"td")(4,"input",14),et("ngModelChange",function(i){const o=Dt(n).index;return Mt(Me(2).pricesValues[o]=i)}),W()(),K(5,"td")(6,"button",15),et("click",function(){const s=Dt(n).index;return Mt(Me(2).deleteTableElement(s))}),le(7,"Deletar"),W()()()}if(2&t){const n=e.index,r=Me(2);ue(2),he("ngModel",r.pricesItens[n]),ue(2),he("ngModel",r.pricesValues[n])}}function UX(t,e){if(1&t&&(K(0,"table",10)(1,"thead")(2,"tr")(3,"th",11),le(4,"Bairro"),W(),K(5,"th",11),le(6,"Endere\xe7o"),W(),bn(7,"th",11),W()(),K(8,"tbody"),We(9,LX,8,2,"tr",13),W()()),2&t){const n=Me();ue(9),he("ngForOf",n.pricesItens)("ngForTrackBy",n.trackByIndex)}}function BX(t,e){if(1&t){const n=cn();K(0,"button",15),et("click",function(){return Dt(n),Mt(Me().addTableElement())}),le(1,"+"),W()}}function jX(t,e){if(1&t&&(K(0,"p"),le(1),W()),2&t){const n=Me();ue(1),ki(n.notes)}}function HX(t,e){if(1&t){const n=cn();K(0,"p")(1,"textarea",16),et("ngModelChange",function(i){return Dt(n),Mt(Me().notes=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.notes)}}function $X(t,e){if(1&t){const n=cn();K(0,"div",17)(1,"button",18),et("click",function(){return Dt(n),Mt(Me().onSave())}),le(2,"Save"),W()()}}let zX=(()=>{class t{constructor(n,r,i,s){this.titleContentService=n,this.authService=r,this.activatedRoute=i,this.localStorageService=s,this.titleContentId="",this.pageData={pricesKiloItens:[],pricesKiloValues:[],pricesKiloNotes:"",pricesFemaleItens:[],pricesFemaleValues:[],pricesFemaleNotes:"",pricesMaleItens:[],pricesMaleValues:[],pricesMaleNotes:"",pricesChildrenItens:[],pricesChildrenValues:[],pricesChildrenNotes:"",pricesCouchItens:[],pricesCouchValues:[],pricesCouchNotes:"",pricesRugItens:[],pricesRugValues:[],pricesRugNotes:"",pricesCurtainItens:[],pricesCurtainValues:[],pricesCurtainNotes:"",pricesBedItens:[],pricesBedValues:[],pricesBedNotes:"",pricesTrussardiItens:[],pricesTrussardiValues:[],pricesTrussardiNotes:"",pricesOthersItens:[],pricesOthersValues:[],pricesOthersNotes:""},this.pricesItens=[],this.pricesValues=[],this.isLoggedIn=this.authService.isLogged,this.type="",this.typeName="",this.notes="sdasdasdsd"}ngOnInit(){console.log("entrou ngOnInit price-details"),this.activatedRoute.queryParamMap.subscribe(r=>this.type=r.get("type")),this.setTypeName();const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData - prices1"),this.pageData=n,this.titleContentId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(_e(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.pageData=r[0],this.titleContentId=r[0].id,this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date})}),this.setPrices()}onSave(){this.titleContentId&&(this.setPageData(),console.log("entrou"),console.log(this.titleContentId),console.log(this.pageData),this.titleContentService.update(this.titleContentId,this.pageData).then(()=>{this.localStorageService.set("title-content",{...this.pageData,id:this.titleContentId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}deleteTableElement(n){this.pricesItens.splice(n,1)}addTableElement(){this.pricesItens.push("")}trackByIndex(n){return n}setTypeName(){switch(this.type){case Vt.KILO:this.typeName="Quilo";break;case Vt.FEMALE:this.typeName="Feminino";break;case Vt.MALE:this.typeName="Masculino";break;case Vt.CHILDREN:this.typeName="Infantil";break;case Vt.CHOUCH:this.typeName="Estofado";break;case Vt.RUG:this.typeName="Tapete";break;case Vt.CURTAIN:this.typeName="Cortina";break;case Vt.BED:this.typeName="Cama/Mesa";break;case Vt.TROUSSARDI:this.typeName="Trussardi";break;case Vt.OTHERS:this.typeName="Diversos"}}setPrices(){switch(this.type){case Vt.KILO:this.pricesItens=this.pageData.pricesKiloItens,this.pricesValues=this.pageData.pricesKiloValues,this.notes=this.pageData.pricesKiloNotes;break;case Vt.FEMALE:this.pricesItens=this.pageData.pricesFemaleItens,this.pricesValues=this.pageData.pricesFemaleValues,this.notes=this.pageData.pricesFemaleNotes;break;case Vt.MALE:this.pricesItens=this.pageData.pricesMaleItens,this.pricesValues=this.pageData.pricesMaleValues,this.notes=this.pageData.pricesMaleNotes;break;case Vt.CHILDREN:this.pricesItens=this.pageData.pricesChildrenItens,this.pricesValues=this.pageData.pricesChildrenValues,this.notes=this.pageData.pricesChildrenNotes;break;case Vt.CHOUCH:this.pricesItens=this.pageData.pricesCouchItens,this.pricesValues=this.pageData.pricesCouchValues,this.notes=this.pageData.pricesCouchNotes;break;case Vt.RUG:this.pricesItens=this.pageData.pricesRugItens,this.pricesValues=this.pageData.pricesRugValues,this.notes=this.pageData.pricesRugNotes;break;case Vt.CURTAIN:this.pricesItens=this.pageData.pricesCurtainItens,this.pricesValues=this.pageData.pricesCurtainValues,this.notes=this.pageData.pricesCurtainNotes;break;case Vt.BED:this.pricesItens=this.pageData.pricesBedItens,this.pricesValues=this.pageData.pricesBedValues,this.notes=this.pageData.pricesBedNotes;break;case Vt.TROUSSARDI:this.pricesItens=this.pageData.pricesTrussardiItens,this.pricesValues=this.pageData.pricesTrussardiValues,this.notes=this.pageData.pricesTrussardiNotes;break;case Vt.OTHERS:this.pricesItens=this.pageData.pricesOthersItens,this.pricesValues=this.pageData.pricesOthersValues,this.notes=this.pageData.pricesOthersNotes}}setPageData(){switch(this.type){case Vt.KILO:this.pageData.pricesKiloItens=this.pricesItens,this.pageData.pricesKiloValues=this.pricesValues,this.pageData.pricesKiloNotes=this.notes;break;case Vt.FEMALE:this.pageData.pricesFemaleItens=this.pricesItens,this.pageData.pricesFemaleValues=this.pricesValues,this.pageData.pricesFemaleNotes=this.notes;break;case Vt.MALE:this.pageData.pricesMaleItens=this.pricesItens,this.pageData.pricesMaleValues=this.pricesValues,this.pageData.pricesMaleNotes=this.notes;break;case Vt.CHILDREN:this.pageData.pricesChildrenItens=this.pricesItens,this.pageData.pricesChildrenValues=this.pricesValues,this.pageData.pricesChildrenNotes=this.notes;break;case Vt.CHOUCH:this.pageData.pricesCouchItens=this.pricesItens,this.pageData.pricesCouchValues=this.pricesValues,this.pageData.pricesCouchNotes=this.notes;break;case Vt.RUG:this.pageData.pricesRugItens=this.pricesItens,this.pageData.pricesRugValues=this.pricesValues,this.pageData.pricesRugNotes=this.notes;break;case Vt.CURTAIN:this.pageData.pricesCurtainItens=this.pricesItens,this.pageData.pricesCurtainValues=this.pricesValues,this.pageData.pricesCurtainNotes=this.notes;break;case Vt.BED:this.pageData.pricesBedItens=this.pricesItens,this.pageData.pricesBedValues=this.pricesValues,this.pageData.pricesBedNotes=this.notes;break;case Vt.TROUSSARDI:this.pageData.pricesTrussardiItens=this.pricesItens,this.pageData.pricesTrussardiValues=this.pricesValues,this.pageData.pricesTrussardiNotes=this.notes;break;case Vt.OTHERS:this.pageData.pricesOthersItens=this.pricesItens,this.pageData.pricesOthersValues=this.pricesValues,this.pageData.pricesOthersNotes=this.notes}}static#e=this.\u0275fac=function(r){return new(r||t)(G(lc),G(Ps),G(Fu),G(dc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-prices"]],decls:21,vars:19,consts:[[1,"section","odd"],["routerLink","/prices"],["src","assets/icons/arrow-return.svg","height","30","width","30","priority",""],[1,"title"],["class","table table-striped table-bordered",4,"ngIf"],["class","btn btn-secondary","type","button",3,"click",4,"ngIf"],[1,"row","odd","prices-notes"],[1,"round-box","col-12"],[4,"ngIf"],["class","row odd save-button",4,"ngIf"],[1,"table","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","text",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"a",1),bn(2,"img",2),W(),K(3,"div",3)(4,"h5"),le(5),W()(),bn(6,"hr"),We(7,FX,9,1,"table",4),St(8,"async"),We(9,UX,10,2,"table",4),St(10,"async"),We(11,BX,2,0,"button",5),St(12,"async"),W(),K(13,"div",6)(14,"div",7),We(15,jX,2,1,"p",8),St(16,"async"),We(17,HX,2,1,"p",8),St(18,"async"),W()(),We(19,$X,3,0,"div",9),St(20,"async")),2&r&&(ue(5),Ys("Pre\xe7os - ",i.typeName,""),ue(2),he("ngIf",!Rt(8,7,i.isLoggedIn)),ue(2),he("ngIf",Rt(10,9,i.isLoggedIn)),ue(2),he("ngIf",Rt(12,11,i.isLoggedIn)),ue(4),he("ngIf",!Rt(16,13,i.isLoggedIn)),ue(2),he("ngIf",Rt(18,15,i.isLoggedIn)),ue(2),he("ngIf",Rt(20,17,i.isLoggedIn)))},dependencies:[ug,Ms,Go,Wo,tC,Js,to,wa],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px 10px;color:#404040}.prices-notes[_ngcontent-%COMP%]{white-space:pre-line;padding:0 90px 150px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:left;outline:0;border-width:0 0 0px;background-color:transparent}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px;background-color:transparent}"]})}return t})();function qX(t,e){if(1&t&&(K(0,"div",6)(1,"h5"),le(2),W()()),2&t){const n=Me();ue(2),ki(n.hintsData.hintsTitle)}}function GX(t,e){if(1&t){const n=cn();K(0,"div",6)(1,"h5")(2,"input",7),et("ngModelChange",function(i){return Dt(n),Mt(Me().hintsData.hintsTitle=i)}),W()()()}if(2&t){const n=Me();ue(2),he("ngModel",n.hintsData.hintsTitle)}}function WX(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ue(1),Ys(" ",n.hintsData.hintsContent," ")}}function ZX(t,e){if(1&t){const n=cn();K(0,"div")(1,"textarea",8),et("ngModelChange",function(i){return Dt(n),Mt(Me().hintsData.hintsContent=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.hintsData.hintsContent)}}function KX(t,e){if(1&t){const n=cn();K(0,"div",9)(1,"button",10),et("click",function(){return Dt(n),Mt(Me().onSave())}),le(2,"Save"),W()()}}const QX=[{path:"",component:XJ},{path:"login",component:OX},{path:"forgot-password",component:kX},{path:"company",component:sX},{path:"stores",component:hX},{path:"prices",component:AX},{path:"prices/details",component:zX},{path:"contact",component:SX},{path:"hints",component:(()=>{class t{constructor(n,r,i){this.titleContentService=n,this.authService=r,this.localStorageService=i,this.titleContentServiceId="",this.hintsData={hintsTitle:"",hintsContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou hints");const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData"),this.hintsData=n,this.titleContentServiceId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(_e(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.hintsData=r[0],this.titleContentServiceId=r[0].id,this.localStorageService.set("title-content",{...this.hintsData,id:this.titleContentServiceId,updatedAt:new Date})})}onSave(){this.titleContentServiceId&&(console.log("entrou"),console.log(this.titleContentServiceId),console.log(this.hintsData),this.titleContentService.update(this.titleContentServiceId,this.hintsData).then(()=>{this.localStorageService.set("title-content",{...this.hintsData,id:this.titleContentServiceId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(lc),G(Ps),G(dc))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-hints"]],decls:9,vars:5,consts:[[1,"section","odd"],["class","title",4,"ngIf"],[4,"ngIf"],[1,"center"],["src","assets\\icones_etiqueta.gif"],["class","row odd save-button",4,"ngIf"],[1,"title"],["type","text",3,"ngModel","ngModelChange"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0),We(1,qX,3,1,"div",1),We(2,GX,3,1,"div",1),bn(3,"hr"),We(4,WX,2,1,"div",2),We(5,ZX,2,1,"div",2),K(6,"div",3),bn(7,"img",4),W()(),We(8,KX,3,0,"div",5)),2&r&&(ue(1),he("ngIf",!i.isLoggedIn),ue(1),he("ngIf",i.isLoggedIn),ue(2),he("ngIf",!i.isLoggedIn),ue(1),he("ngIf",i.isLoggedIn),ue(3),he("ngIf",i.isLoggedIn))},dependencies:[ug,Ms,Go,Wo,Js],styles:["hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;clear:both;border:0;height:6px;background-image:linear-gradient(to right,white,transparent,white),linear-gradient(transparent,rgba(0,0,0,.55) 150%);background-image:-ms-linear-gradient(to right,white,transparent,white),-webkit-linear-gradient(transparent,rgba(0,0,0,.55) 150%)}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:33px}.section[_ngcontent-%COMP%]{white-space:pre-line;padding:150px 90px;color:#404040}.odd[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{font-weight:700;padding:0}.right-link[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-top:10px}a[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{width:auto}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}input[_ngcontent-%COMP%]{width:100%;text-align:center;outline:0;border-width:0 0 0px}textarea[_ngcontent-%COMP%]{width:100%;text-align:inherit;outline:0;border-width:0 0 0px}"]})}return t})()}];let YX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Hn({type:t});static#n=this.\u0275inj=Yn({imports:[MN.forRoot(QX),MN]})}return t})();function JX(t,e){if(1&t){const n=cn();K(0,"div",17)(1,"button",18),et("click",function(){return Dt(n),Mt(Me().logout())}),le(2,"Logout"),W()()}}const pg=function(){return{exact:!0}};let XX=(()=>{class t{constructor(n){this.authService=n,this.isLoggedIn=this.authService.isLogged}logout(){var n=this;return(0,Q.Z)(function*(){yield n.authService.signOut()})()}static#e=this.\u0275fac=function(r){return new(r||t)(G(Ps))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-navbar"]],decls:30,vars:13,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],[1,"container"],[1,"logo","col-12"],["routerLink","",1,"navbar-brand"],["src","assets\\cbc-logo.png","width","240","height","150"],["class","logout-button",4,"ngIf"],[1,"slogan","col-12"],[1,"navbar-div","col-12"],["id","navbarNav",1,"nav","nav-pills","nav-fill"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","company","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","stores","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","prices","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","contact","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],[1,"logout-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),bn(5,"img",5),W(),We(6,JX,3,0,"div",6),St(7,"async"),W(),K(8,"div",7),le(9," SUA ROUPA, TAPETE E CORTINA DE CARA LIMPA "),W(),K(10,"div",7),le(11," \u2014 DESDE 1993 \u2014 "),W(),K(12,"div",8)(13,"div",9)(14,"ul",10)(15,"li",11)(16,"a",12),le(17,"IN\xcdCIO"),W()(),K(18,"li",11)(19,"a",13),le(20,"EMPRESA"),W()(),K(21,"li",11)(22,"a",14),le(23,"LOJAS"),W()(),K(24,"li",11)(25,"a",15),le(26,"PRE\xc7OS"),W()(),K(27,"li",11)(28,"a",16),le(29,"CONTATO"),W()()()()()()()()),2&r&&(ue(6),he("ngIf",Rt(7,6,i.isLoggedIn)),ue(10),he("routerLinkActiveOptions",Ur(8,pg)),ue(3),he("routerLinkActiveOptions",Ur(9,pg)),ue(3),he("routerLinkActiveOptions",Ur(10,pg)),ue(3),he("routerLinkActiveOptions",Ur(11,pg)),ue(3),he("routerLinkActiveOptions",Ur(12,pg)))},dependencies:[Js,to,CN,wa],styles:["nav[_ngcontent-%COMP%]{color:#fff}.container-fluid[_ngcontent-%COMP%]{background-image:url(teste4.35bb2f59446bbb95.jpg);background-size:cover}.container[_ngcontent-%COMP%]{padding:5px}.logo[_ngcontent-%COMP%]{display:flex;justify-content:left;padding-bottom:40px}.logout-button[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px}.slogan[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:larger;font-style:italic;text-shadow:rgb(0,0,0) 3px 0px 0px,rgb(0,0,0) 2.83487px .981584px 0px,rgb(0,0,0) 2.35766px 1.85511px 0px,rgb(0,0,0) 1.62091px 2.52441px 0px,rgb(0,0,0) .705713px 2.91581px 0px,rgb(0,0,0) -.287171px 2.98622px 0px,rgb(0,0,0) -1.24844px 2.72789px 0px,rgb(0,0,0) -2.07227px 2.16926px 0px,rgb(0,0,0) -2.66798px 1.37182px 0px,rgb(0,0,0) -2.96998px .42336px 0px,rgb(0,0,0) -2.94502px -.571704px 0px,rgb(0,0,0) -2.59586px -1.50383px 0px,rgb(0,0,0) -1.96093px -2.27041px 0px,rgb(0,0,0) -1.11013px -2.78704px 0px,rgb(0,0,0) -.137119px -2.99686px 0px,rgb(0,0,0) .850987px -2.87677px 0px,rgb(0,0,0) 1.74541px -2.43999px 0px,rgb(0,0,0) 2.44769px -1.73459px 0px,rgb(0,0,0) 2.88051px -.838247px 0px}.navbar-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-self:center;padding-top:80px;padding-bottom:50px}.nav[_ngcontent-%COMP%]{display:inline-block;position:sticky;top:0;z-index:10;text-shadow:-1px 0 black,0 1px black,1px 0 black,0 -1px black}.bg-body-tertiary[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.nav-item[_ngcontent-%COMP%]{font-weight:700;padding-left:20px;padding-right:20px}.nav-link.active-link[_ngcontent-%COMP%]{background-color:var(--red)}.nav-link[_ngcontent-%COMP%]{color:#fff;border-radius:50px;padding:15px!important}.nav-link[_ngcontent-%COMP%]:hover{text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover{background-color:var(--red);color:#fff;border-radius:50px}"]})}return t})();function eee(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ue(1),Ys(" ",n.footerData.footerScheduleContent," ")}}function tee(t,e){if(1&t){const n=cn();K(0,"div")(1,"textarea",8),et("ngModelChange",function(i){return Dt(n),Mt(Me().footerData.footerScheduleContent=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.footerData.footerScheduleContent)}}function nee(t,e){if(1&t&&(K(0,"div"),le(1),W()),2&t){const n=Me();ue(1),Ys(" ",n.footerData.footerContactPhonesContent," ")}}function ree(t,e){if(1&t){const n=cn();K(0,"div")(1,"textarea",8),et("ngModelChange",function(i){return Dt(n),Mt(Me().footerData.footerContactPhonesContent=i)}),W()()}if(2&t){const n=Me();ue(1),he("ngModel",n.footerData.footerContactPhonesContent)}}function iee(t,e){if(1&t){const n=cn();K(0,"div",9)(1,"button",10),et("click",function(){return Dt(n),Mt(Me().onSave())}),le(2,"Save"),W()()}}let see=(()=>{class t{constructor(n,r,i,s){this.titleContentService=n,this.router=r,this.localStorageService=i,this.authService=s,this.titleContentServiceId="",this.footerData={footerScheduleContent:"",footerContactPhonesContent:""},this.isLoggedIn=this.authService.isLogged}ngOnInit(){console.log("entrou footer"),console.log(this.router.url);const n=this.localStorageService.get("title-content");n?(console.log("usou localStorageData"),this.footerData=n,this.titleContentServiceId=n.id):this.titleContentService.getAll().snapshotChanges().pipe(_e(r=>r.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id})))).subscribe(r=>{console.log(r),this.footerData=r[0],this.titleContentServiceId=r[0].id,this.localStorageService.set("title-content",{...this.footerData,id:this.titleContentServiceId,updatedAt:new Date})})}onSave(){this.titleContentServiceId&&(console.log("entrou"),console.log(this.titleContentServiceId),console.log(this.footerData),this.titleContentService.update(this.titleContentServiceId,this.footerData).then(()=>{this.localStorageService.set("title-content",{...this.footerData,id:this.titleContentServiceId,updatedAt:new Date}),alert("Dados atualizados com sucesso!")}).catch(n=>{alert("Erro ao atualizar os dados."),console.log(n)})),console.log(this.isLoggedIn),console.log("Salvando dados...")}static#e=this.\u0275fac=function(r){return new(r||t)(G(lc),G(vi),G(dc),G(Ps))};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-footer"]],decls:25,vars:15,consts:[[1,"footer"],[1,"row","informacoes","topo-secao"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","sobre"],[1,"row","titulo"],[4,"ngIf"],[1,"row","col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","contact"],["routerLink","contact"],["class","row odd save-button",4,"ngIf"],["autosize","",3,"ngModel","ngModelChange"],[1,"row","odd","save-button"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(K(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),le(5,"Funcionamento"),W()(),We(6,eee,2,1,"div",4),St(7,"async"),We(8,tee,2,1,"div",4),St(9,"async"),W(),K(10,"div",5)(11,"div",3)(12,"h5"),le(13,"Contato"),W()(),K(14,"div"),le(15," Entre em contato com a CBC Lavanderia nos telefones: "),We(16,nee,2,1,"div",4),St(17,"async"),We(18,ree,2,1,"div",4),St(19,"async"),le(20," ou "),K(21,"a",6),le(22," atrav\xe9s de nosso formul\xe1rio de contato. "),W()()(),We(23,iee,3,0,"div",7),St(24,"async"),W()()),2&r&&(ue(6),he("ngIf",!Rt(7,5,i.isLoggedIn)),ue(2),he("ngIf",Rt(9,7,i.isLoggedIn)),ue(8),he("ngIf",!Rt(17,9,i.isLoggedIn)),ue(2),he("ngIf",Rt(19,11,i.isLoggedIn)),ue(5),he("ngIf",Rt(24,13,i.isLoggedIn)))},dependencies:[ug,Ms,Go,Wo,Js,to,wa],styles:[".footer[_ngcontent-%COMP%]{padding:20px 90px;color:#fff}.sobre[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:40px}a[_ngcontent-%COMP%]{color:#d3d3d3}h5[_ngcontent-%COMP%]{font-weight:700}textarea[_ngcontent-%COMP%]{width:100%;background-color:inherit;border:none;color:#fff}button[_ngcontent-%COMP%]{width:auto}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:50px}"]})}return t})(),oee=(()=>{class t{constructor(){this.title="cbc-lavanderia-frontend"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=lr({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[[2,"background-color","var(--blue)"],[2,"background-color","#F4F4F4"]],template:function(r,i){1&r&&(K(0,"div",0),bn(1,"app-navbar"),W(),K(2,"div",1),bn(3,"router-outlet"),W(),K(4,"div",0),bn(5,"app-footer"),W())},dependencies:[NC,XX,see]})}return t})();const Ib={production:!1,firebase:{apiKey:"AIzaSyBnXaoP3LNtjqG9f3ZUOKiNa_CJ-jsxr4o",authDomain:"cbc-lavanderia-frontend-3c55a.firebaseapp.com",projectId:"cbc-lavanderia-frontend-3c55a",storageBucket:"cbc-lavanderia-frontend-3c55a.appspot.com",messagingSenderId:"35118893524",appId:"1:35118893524:web:5b9cc17803cfdaff36ee41",measurementId:"G-JK6P0LY9DM"}};class Nv{constructor(e){return e}}class aU{constructor(){return(0,Fi.getApps)()}}const Eb=new de("angularfire2._apps"),uee={provide:Nv,useFactory:function aee(t){return t&&1===t.length?t[0]:new Nv((0,Fi.getApp)())},deps:[[new zs,Eb]]},cee={provide:aU,deps:[[new zs,Eb]]};function lee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Nv(r)}}let dee=(()=>{class t{constructor(n){(0,Fi.registerVersion)("angularfire",Jl.full,"core"),(0,Fi.registerVersion)("angularfire",Jl.full,"app"),(0,Fi.registerVersion)("angular",CE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(ce(qs))};static \u0275mod=Hn({type:t});static \u0275inj=Yn({providers:[uee,cee]})}return t})();function hee(t,...e){return{ngModule:dee,providers:[{provide:Eb,useFactory:lee(t),multi:!0,deps:[Tt,ri,Q_,...e]}]}}const fee=LN(Fi.initializeApp,!0);var pee=Fe(560);class wb{constructor(e){return e}}const Cb=new de("angularfire2.auth-instances");function _ee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wb(r)}}const yee={provide:class gee{constructor(){return VN("auth")}},deps:[[new zs,Cb]]},vee={provide:wb,useFactory:function mee(t,e){const n=function z8(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}("auth",t,e);return n&&new wb(n)},deps:[[new zs,Cb],Nv]};let Iee=(()=>{class t{constructor(){(0,Fi.registerVersion)("angularfire",Jl.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Hn({type:t});static \u0275inj=Yn({providers:[vee,yee]})}return t})();function Eee(t,...e){return{ngModule:Iee,providers:[{provide:Cb,useFactory:_ee(t),multi:!0,deps:[Tt,ri,Q_,aU,[new zs,$C],...e]}]}}const wee=LN(pee.o,!0),yU=new de("");let Kee=(()=>{class t{intercept(n,r){const i=n.clone({setHeaders:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true"}});return r.handle(i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Re({token:t,factory:t.\u0275fac})}return t})(),Qee=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Hn({type:t,bootstrap:[oee]});static#n=this.\u0275inj=Yn({providers:[Ps,{provide:Kf,useValue:Ib.firebase},{provide:yU,useClass:Kee,multi:!0}],imports:[KY,zJ,n6,YX,qJ,rW.initializeApp(Ib.firebase),hee(()=>fee(Ib.firebase)),Eee(()=>wee()),BY]})}return t})();e6().bootstrapModule(Qee).catch(t=>console.error(t))},106:(Hi,kn,Fe)=>{Fe.d(kn,{Z:()=>Vn});var C=Fe(58),$=Fe(537),N=Fe(534),Se=Fe(879);class wt{constructor($e,ze){this._delegate=$e,this.firebase=ze,(0,N._addComponent)($e,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService($e,ze=N._DEFAULT_ENTRY_NAME){var Fn;this._delegate.checkDestroyed();const pn=this._delegate.container.getProvider($e);return!pn.isInitialized()&&"EXPLICIT"===(null===(Fn=pn.getComponent())||void 0===Fn?void 0:Fn.instantiationMode)&&pn.initialize(),pn.getImmediate({identifier:ze})}_removeServiceInstance($e,ze=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(ze)}_addComponent($e){(0,N._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,N._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const In=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function gt(){const lt=function Gt(lt){const $e={},ze={__esModule:!0,initializeApp:function at(tt,re={}){const ht=N.initializeApp(tt,re);if((0,C.r3)($e,ht.name))return $e[ht.name];const Zt=new lt(ht,ze);return $e[ht.name]=Zt,Zt},app:pn,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Gr(tt){const re=tt.name,ht=re.replace("-compat","");if(N._registerComponent(tt)&&"PUBLIC"===tt.type){const Zt=(gn=pn())=>{if("function"!=typeof gn[ht])throw In.create("invalid-app-argument",{appName:re});return gn[ht]()};void 0!==tt.serviceProps&&(0,C.ZB)(Zt,tt.serviceProps),ze[ht]=Zt,lt.prototype[ht]=function(...gn){return this._getService.bind(this,re).apply(this,tt.multipleInstances?gn:[])}}return"PUBLIC"===tt.type?ze[ht]:null},removeApp:function Fn(tt){delete $e[tt]},useAsService:function An(tt,re){return"serverAuth"===re?null:re},modularAPIs:N}};function pn(tt){if(!(0,C.r3)($e,tt=tt||N._DEFAULT_ENTRY_NAME))throw In.create("no-app",{appName:tt});return $e[tt]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function xt(){return Object.keys($e).map(tt=>$e[tt])}}),pn.App=lt,ze}(wt);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:gt,extendNamespace:function $e(ze){(0,C.ZB)(lt,ze)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),lt}(),se=new Se.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Vn=Y;!function Ct(lt){(0,N.registerVersion)("@firebase/app-compat","0.2.22",lt)}()},534:(Hi,kn,Fe)=>{Fe.r(kn),Fe.d(kn,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Wi,_DEFAULT_ENTRY_NAME:()=>bi,_addComponent:()=>Kr,_addOrOverwriteComponent:()=>Qr,_apps:()=>ar,_clearComponents:()=>wn,_components:()=>Zr,_getProvider:()=>Nt,_registerComponent:()=>tr,_removeServiceInstance:()=>Yr,deleteApp:()=>Sn,getApp:()=>Si,getApps:()=>Bn,initializeApp:()=>Zi,onLog:()=>Zo,registerVersion:()=>Jr,setLogLevel:()=>xs});var C=Fe(861),$=Fe(537),N=Fe(879),Se=Fe(58);const wt=(k,R)=>R.some(ae=>k instanceof ae);let rn,In;const Y=new WeakMap,se=new WeakMap,Ae=new WeakMap,Ke=new WeakMap,Ct=new WeakMap;let $e={get(k,R,ae){if(k instanceof IDBTransaction){if("done"===R)return se.get(k);if("objectStoreNames"===R)return k.objectStoreNames||Ae.get(k);if("store"===R)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return at(k[R])},set:(k,R,ae)=>(k[R]=ae,!0),has:(k,R)=>k instanceof IDBTransaction&&("done"===R||"store"===R)||R in k};function pn(k){return"function"==typeof k?function Fn(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gt(){return In||(In=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...R){return k.apply(xt(this),R),at(Y.get(this))}:function(...R){return at(k.apply(xt(this),R))}:function(R,...ae){const Pe=k.call(xt(this),R,...ae);return Ae.set(Pe,R.sort?R.sort():[R]),at(Pe)}}(k):(k instanceof IDBTransaction&&function lt(k){if(se.has(k))return;const R=new Promise((ae,Pe)=>{const Qe=()=>{k.removeEventListener("complete",it),k.removeEventListener("error",q),k.removeEventListener("abort",q)},it=()=>{ae(),Qe()},q=()=>{Pe(k.error||new DOMException("AbortError","AbortError")),Qe()};k.addEventListener("complete",it),k.addEventListener("error",q),k.addEventListener("abort",q)});se.set(k,R)}(k),wt(k,function Gt(){return rn||(rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,$e):k)}function at(k){if(k instanceof IDBRequest)return function Vn(k){const R=new Promise((ae,Pe)=>{const Qe=()=>{k.removeEventListener("success",it),k.removeEventListener("error",q)},it=()=>{ae(at(k.result)),Qe()},q=()=>{Pe(k.error),Qe()};k.addEventListener("success",it),k.addEventListener("error",q)});return R.then(ae=>{ae instanceof IDBCursor&&Y.set(ae,k)}).catch(()=>{}),Ct.set(R,k),R}(k);if(Ke.has(k))return Ke.get(k);const R=pn(k);return R!==k&&(Ke.set(k,R),Ct.set(R,k)),R}const xt=k=>Ct.get(k),tt=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],ht=new Map;function Zt(k,R){if(!(k instanceof IDBDatabase)||R in k||"string"!=typeof R)return;if(ht.get(R))return ht.get(R);const ae=R.replace(/FromIndex$/,""),Pe=R!==ae,Qe=re.includes(ae);if(!(ae in(Pe?IDBIndex:IDBObjectStore).prototype)||!Qe&&!tt.includes(ae))return;const it=function(){var q=(0,C.Z)(function*(Rn,...be){const ut=this.transaction(Rn,Qe?"readwrite":"readonly");let mo=ut.store;return Pe&&(mo=mo.index(be.shift())),(yield Promise.all([mo[ae](...be),Qe&&ut.done]))[0]});return function(be){return q.apply(this,arguments)}}();return ht.set(R,it),it}!function ze(k){$e=k($e)}(k=>({...k,get:(R,ae,Pe)=>Zt(R,ae)||k.get(R,ae,Pe),has:(R,ae)=>!!Zt(R,ae)||k.has(R,ae)}));class gn{constructor(R){this.container=R}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function En(k){const R=k.getComponent();return"VERSION"===R?.type}(ae)){const Pe=ae.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(ae=>ae).join(" ")}}const Ci="@firebase/app",Xe=new N.Yd("@firebase/app"),bi="[DEFAULT]",Ai={[Ci]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ar=new Map,Zr=new Map;function Kr(k,R){try{k.container.addComponent(R)}catch(ae){Xe.debug(`Component ${R.name} failed to register with FirebaseApp ${k.name}`,ae)}}function Qr(k,R){k.container.addOrOverwriteComponent(R)}function tr(k){const R=k.name;if(Zr.has(R))return Xe.debug(`There were multiple attempts to register component ${R}.`),!1;Zr.set(R,k);for(const ae of ar.values())Kr(ae,k);return!0}function Nt(k,R){const ae=k.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),k.container.getProvider(R)}function Yr(k,R,ae=bi){Nt(k,R).clearInstance(ae)}function wn(){Zr.clear()}const on=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cn{constructor(R,ae,Pe){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const Wi="10.5.2";function Zi(k,R={}){let ae=k;"object"!=typeof R&&(R={name:R});const Pe=Object.assign({name:bi,automaticDataCollectionEnabled:!1},R),Qe=Pe.name;if("string"!=typeof Qe||!Qe)throw on.create("bad-app-name",{appName:String(Qe)});if(ae||(ae=(0,Se.aH)()),!ae)throw on.create("no-options");const it=ar.get(Qe);if(it){if((0,Se.vZ)(ae,it.options)&&(0,Se.vZ)(Pe,it.config))return it;throw on.create("duplicate-app",{appName:Qe})}const q=new $.H0(Qe);for(const be of Zr.values())q.addComponent(be);const Rn=new Cn(ae,Pe,q);return ar.set(Qe,Rn),Rn}function Si(k=bi){const R=ar.get(k);if(!R&&k===bi&&(0,Se.aH)())return Zi();if(!R)throw on.create("no-app",{appName:k});return R}function Bn(){return Array.from(ar.values())}function Sn(k){return ur.apply(this,arguments)}function ur(){return(ur=(0,C.Z)(function*(k){const R=k.name;ar.has(R)&&(ar.delete(R),yield Promise.all(k.container.getProviders().map(ae=>ae.delete())),k.isDeleted=!0)})).apply(this,arguments)}function Jr(k,R,ae){var Pe;let Qe=null!==(Pe=Ai[k])&&void 0!==Pe?Pe:k;ae&&(Qe+=`-${ae}`);const it=Qe.match(/\s|\//),q=R.match(/\s|\//);if(it||q){const Rn=[`Unable to register library "${Qe}" with version "${R}":`];return it&&Rn.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),it&&q&&Rn.push("and"),q&&Rn.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void Xe.warn(Rn.join(" "))}tr(new $.wA(`${Qe}-version`,()=>({library:Qe,version:R}),"VERSION"))}function Zo(k,R){if(null!==k&&"function"!=typeof k)throw on.create("invalid-log-argument");(0,N.Am)(k,R)}function xs(k){(0,N.Ub)(k)}const po="firebase-heartbeat-database",Ki=1,S="firebase-heartbeat-store";let T=null;function I(){return T||(T=function Gr(k,R,{blocked:ae,upgrade:Pe,blocking:Qe,terminated:it}={}){const q=indexedDB.open(k,R),Rn=at(q);return Pe&&q.addEventListener("upgradeneeded",be=>{Pe(at(q.result),be.oldVersion,be.newVersion,at(q.transaction),be)}),ae&&q.addEventListener("blocked",be=>ae(be.oldVersion,be.newVersion,be)),Rn.then(be=>{it&&be.addEventListener("close",()=>it()),Qe&&be.addEventListener("versionchange",ut=>Qe(ut.oldVersion,ut.newVersion,ut))}).catch(()=>{}),Rn}(po,Ki,{upgrade:(k,R)=>{0===R&&k.createObjectStore(S)}}).catch(k=>{throw on.create("idb-open",{originalErrorMessage:k.message})})),T}function v(){return(v=(0,C.Z)(function*(k){try{return yield(yield I()).transaction(S).objectStore(S).get(Ee(k))}catch(R){if(R instanceof Se.ZR)Xe.warn(R.message);else{const ae=on.create("idb-get",{originalErrorMessage:R?.message});Xe.warn(ae.message)}}})).apply(this,arguments)}function A(k,R){return Z.apply(this,arguments)}function Z(){return(Z=(0,C.Z)(function*(k,R){try{const Pe=(yield I()).transaction(S,"readwrite");yield Pe.objectStore(S).put(R,Ee(k)),yield Pe.done}catch(ae){if(ae instanceof Se.ZR)Xe.warn(ae.message);else{const Pe=on.create("idb-set",{originalErrorMessage:ae?.message});Xe.warn(Pe.message)}}})).apply(this,arguments)}function Ee(k){return`${k.name}!${k.options.appId}`}class Pt{constructor(R){this.container=R,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new xe(ae),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var R=this;return(0,C.Z)(function*(){const Pe=R.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qe=ye();if(null===R._heartbeatsCache&&(R._heartbeatsCache=yield R._heartbeatsCachePromise),R._heartbeatsCache.lastSentHeartbeatDate!==Qe&&!R._heartbeatsCache.heartbeats.some(it=>it.date===Qe))return R._heartbeatsCache.heartbeats.push({date:Qe,agent:Pe}),R._heartbeatsCache.heartbeats=R._heartbeatsCache.heartbeats.filter(it=>{const q=new Date(it.date).valueOf();return Date.now()-q<=2592e6}),R._storage.overwrite(R._heartbeatsCache)})()}getHeartbeatsHeader(){var R=this;return(0,C.Z)(function*(){if(null===R._heartbeatsCache&&(yield R._heartbeatsCachePromise),null===R._heartbeatsCache||0===R._heartbeatsCache.heartbeats.length)return"";const ae=ye(),{heartbeatsToSend:Pe,unsentEntries:Qe}=function Lt(k,R=1024){const ae=[];let Pe=k.slice();for(const Qe of k){const it=ae.find(q=>q.agent===Qe.agent);if(it){if(it.dates.push(Qe.date),jn(ae)>R){it.dates.pop();break}}else if(ae.push({agent:Qe.agent,dates:[Qe.date]}),jn(ae)>R){ae.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:ae,unsentEntries:Pe}}(R._heartbeatsCache.heartbeats),it=(0,Se.L)(JSON.stringify({version:2,heartbeats:Pe}));return R._heartbeatsCache.lastSentHeartbeatDate=ae,Qe.length>0?(R._heartbeatsCache.heartbeats=Qe,yield R._storage.overwrite(R._heartbeatsCache)):(R._heartbeatsCache.heartbeats=[],R._storage.overwrite(R._heartbeatsCache)),it})()}}function ye(){return(new Date).toISOString().substring(0,10)}class xe{constructor(R){this.app=R,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var R=this;return(0,C.Z)(function*(){return(yield R._canUseIndexedDBPromise)&&(yield function w(k){return v.apply(this,arguments)}(R.app))||{heartbeats:[]}})()}overwrite(R){var ae=this;return(0,C.Z)(function*(){var Pe;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return A(ae.app,{lastSentHeartbeatDate:null!==(Pe=R.lastSentHeartbeatDate)&&void 0!==Pe?Pe:it.lastSentHeartbeatDate,heartbeats:R.heartbeats})}})()}add(R){var ae=this;return(0,C.Z)(function*(){var Pe;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return A(ae.app,{lastSentHeartbeatDate:null!==(Pe=R.lastSentHeartbeatDate)&&void 0!==Pe?Pe:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...R.heartbeats]})}})()}}function jn(k){return(0,Se.L)(JSON.stringify({version:2,heartbeats:k})).length}!function go(k){tr(new $.wA("platform-logger",R=>new gn(R),"PRIVATE")),tr(new $.wA("heartbeat",R=>new Pt(R),"PRIVATE")),Jr(Ci,"0.9.22",k),Jr(Ci,"0.9.22","esm2017"),Jr("fire-js","")}("")},537:(Hi,kn,Fe)=>{Fe.d(kn,{H0:()=>Gt,wA:()=>N});var C=Fe(861),$=Fe(58);class N{constructor(Y,se,Ae){this.name=Y,this.instanceFactory=se,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const Se="[DEFAULT]";class wt{constructor(Y,se){this.name=Y,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const se=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(se)){const Ae=new $.BH;if(this.instancesDeferred.set(se,Ae),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:se});Ke&&Ae.resolve(Ke)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(Y){var se;const Ae=this.normalizeInstanceIdentifier(Y?.identifier),Ke=null!==(se=Y?.optional)&&void 0!==se&&se;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Ct){if(Ke)return null;throw Ct}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function In(gt){return"EAGER"===gt.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[se,Ae]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(se);try{const Ct=this.getOrInitializeService({instanceIdentifier:Ke});Ae.resolve(Ct)}catch{}}}}clearInstance(Y=Se){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,C.Z)(function*(){const se=Array.from(Y.instances.values());yield Promise.all([...se.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...se.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=Se){return this.instances.has(Y)}getOptions(Y=Se){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:se={}}=Y,Ae=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:Ae,options:se});for(const[Ct,Vn]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Ct)&&Vn.resolve(Ke);return Ke}onInit(Y,se){var Ae;const Ke=this.normalizeInstanceIdentifier(se),Ct=null!==(Ae=this.onInitCallbacks.get(Ke))&&void 0!==Ae?Ae:new Set;Ct.add(Y),this.onInitCallbacks.set(Ke,Ct);const Vn=this.instances.get(Ke);return Vn&&Y(Vn,Ke),()=>{Ct.delete(Y)}}invokeOnInitCallbacks(Y,se){const Ae=this.onInitCallbacks.get(se);if(Ae)for(const Ke of Ae)try{Ke(Y,se)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:se={}}){let Ae=this.instances.get(Y);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(gt=Y,gt===Se?void 0:gt),options:se}),this.instances.set(Y,Ae),this.instancesOptions.set(Y,se),this.invokeOnInitCallbacks(Ae,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Ae)}catch{}var gt;return Ae||null}normalizeInstanceIdentifier(Y=Se){return this.component?this.component.multipleInstances?Y:Se:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gt{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const se=this.getProvider(Y.name);if(se.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);se.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const se=new wt(Y,this);return this.providers.set(Y,se),se}getProviders(){return Array.from(this.providers.values())}}},879:(Hi,kn,Fe)=>{Fe.d(kn,{Am:()=>gt,Ub:()=>Gt,Yd:()=>In,in:()=>$});const C=[];var $=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}($||{});const N={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},Se=$.INFO,wt={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},rn=(Y,se,...Ae)=>{if(se<Y.logLevel)return;const Ke=(new Date).toISOString(),Ct=wt[se];if(!Ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Ct](`[${Ke}]  ${Y.name}:`,...Ae)};class In{constructor(se){this.name=se,this._logLevel=Se,this._logHandler=rn,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in $))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?N[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...se),this._logHandler(this,$.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...se),this._logHandler(this,$.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,$.INFO,...se),this._logHandler(this,$.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,$.WARN,...se),this._logHandler(this,$.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...se),this._logHandler(this,$.ERROR,...se)}}function Gt(Y){C.forEach(se=>{se.setLogLevel(Y)})}function gt(Y,se){for(const Ae of C){let Ke=null;se&&se.level&&(Ke=N[se.level]),Ae.userLogHandler=null===Y?null:(Ct,Vn,...lt)=>{const $e=lt.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");Vn>=(Ke??Ct.logLevel)&&Y({level:$[Vn].toLowerCase(),message:$e,args:lt,type:Ct.name})}}}},365:(Hi,kn,Fe)=>{Fe.r(kn);var C=Fe(861),$=Fe(106),N=Fe(560),Se=Fe(58),In=(Fe(534),Fe(879),Fe(537));function Gt(){return window}function se(){return se=(0,C.Z)(function*(I,w,v){var A;const{BuildInfo:Z}=Gt();(0,N.at)(w.sessionId,"AuthEvent did not contain a session ID");const Ee=yield function ze(I){return Fn.apply(this,arguments)}(w.sessionId),Ce={};return(0,N.au)()?Ce.ibi=Z.packageName:(0,N.av)()?Ce.apn=Z.packageName:(0,N.aw)(I,"operation-not-supported-in-this-environment"),Z.displayName&&(Ce.appDisplayName=Z.displayName),Ce.sessionId=Ee,(0,N.ax)(I,v,w.type,void 0,null!==(A=w.eventId)&&void 0!==A?A:void 0,Ce)}),se.apply(this,arguments)}function Ke(){return(Ke=(0,C.Z)(function*(I){const{BuildInfo:w}=Gt(),v={};(0,N.au)()?v.iosBundleId=w.packageName:(0,N.av)()?v.androidPackageName=w.packageName:(0,N.aw)(I,"operation-not-supported-in-this-environment"),yield(0,N.ay)(I,v)})).apply(this,arguments)}function lt(){return(lt=(0,C.Z)(function*(I,w,v){const{cordova:A}=Gt();let Z=()=>{};try{yield new Promise((Ee,Ce)=>{let qe=null;function Pt(){var xe;Ee();const jn=null===(xe=A.plugins.browsertab)||void 0===xe?void 0:xe.close;"function"==typeof jn&&jn(),"function"==typeof v?.close&&v.close()}function ye(){qe||(qe=window.setTimeout(()=>{Ce((0,N.aA)(I,"redirect-cancelled-by-user"))},2e3))}function Lt(){"visible"===document?.visibilityState&&ye()}w.addPassiveListener(Pt),document.addEventListener("resume",ye,!1),(0,N.av)()&&document.addEventListener("visibilitychange",Lt,!1),Z=()=>{w.removePassiveListener(Pt),document.removeEventListener("resume",ye,!1),document.removeEventListener("visibilitychange",Lt,!1),qe&&window.clearTimeout(qe)}})}finally{Z()}})).apply(this,arguments)}function Fn(){return(Fn=(0,C.Z)(function*(I){const w=function pn(I){if((0,N.at)(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const w=new ArrayBuffer(I.length),v=new Uint8Array(w);for(let A=0;A<I.length;A++)v[A]=I.charCodeAt(A);return v}(I),v=yield crypto.subtle.digest("SHA-256",w);return Array.from(new Uint8Array(v)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class xt extends N.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(w=>{this.resolveInialized=w})}addPassiveListener(w){this.passiveListeners.add(w)}removePassiveListener(w){this.passiveListeners.delete(w)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(w){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(w)),super.onEvent(w)}initialized(){var w=this;return(0,C.Z)(function*(){yield w.initPromise})()}}function tt(I){return re.apply(this,arguments)}function re(){return(re=(0,C.Z)(function*(I){const w=yield gn()._get(En(I));return w&&(yield gn()._remove(En(I))),w})).apply(this,arguments)}function Zt(){const I=[];for(let v=0;v<20;v++){const A=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return I.join("")}function gn(){return(0,N.aD)(N.b)}function En(I){return(0,N.aE)("authEvent",I.config.apiKey,I.name)}function Xe(I){if(!I?.includes("?"))return{};const[w,...v]=I.split("?");return(0,Se.zd)(v.join("?"))}const U=class $i{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aF,this._overrideRedirectResult=N.aG}_initialize(w){var v=this;return(0,C.Z)(function*(){const A=w._key();let Z=v.eventManagers.get(A);return Z||(Z=new xt(w),v.eventManagers.set(A,Z),v.attachCallbackListeners(w,Z)),Z})()}_openPopup(w){(0,N.aw)(w,"operation-not-supported-in-this-environment")}_openRedirect(w,v,A,Z){var Ee=this;return(0,C.Z)(function*(){!function $e(I){var w,v,A,Z,Ee,Ce,qe,Pt,ye,Lt;const xe=Gt();(0,N.aB)("function"==typeof(null===(w=xe?.universalLinks)||void 0===w?void 0:w.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aB)(typeof(null===(v=xe?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aB)("function"==typeof(null===(Ee=null===(Z=null===(A=xe?.cordova)||void 0===A?void 0:A.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ee?void 0:Ee.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aB)("function"==typeof(null===(Pt=null===(qe=null===(Ce=xe?.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===Pt?void 0:Pt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aB)("function"==typeof(null===(Lt=null===(ye=xe?.cordova)||void 0===ye?void 0:ye.InAppBrowser)||void 0===Lt?void 0:Lt.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(w);const Ce=yield Ee._initialize(w);yield Ce.initialized(),Ce.resetRedirect(),(0,N.aH)(),yield Ee._originValidation(w);const qe=function Gr(I,w,v=null){return{type:w,eventId:v,urlResponse:null,sessionId:Zt(),postBody:null,tenantId:I.tenantId,error:(0,N.aA)(I,"no-auth-event")}}(w,A,Z);yield function An(I,w){return gn()._set(En(I),w)}(w,qe);const Pt=yield function Y(I,w,v){return se.apply(this,arguments)}(w,qe,v),ye=yield function Ct(I){const{cordova:w}=Gt();return new Promise(v=>{w.plugins.browsertab.isAvailable(A=>{let Z=null;A?w.plugins.browsertab.openUrl(I):Z=w.InAppBrowser.open(I,(0,N.az)()?"_blank":"_system","location=yes"),v(Z)})})}(Pt);return function Vn(I,w,v){return lt.apply(this,arguments)}(w,Ce,ye)})()}_isIframeWebStorageSupported(w,v){throw new Error("Method not implemented.")}_originValidation(w){const v=w._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ae(I){return Ke.apply(this,arguments)}(w)),this.originValidationPromises[v]}attachCallbackListeners(w,v){const{universalLinks:A,handleOpenURL:Z,BuildInfo:Ee}=Gt(),Ce=setTimeout((0,C.Z)(function*(){yield tt(w),v.onEvent(j())}),500),qe=function(){var Lt=(0,C.Z)(function*(xe){clearTimeout(Ce);const jn=yield tt(w);let go=null;jn&&xe?.url&&(go=function ht(I,w){var v,A;const Z=function Di(I){const w=Xe(I),v=w.link?decodeURIComponent(w.link):void 0,A=Xe(v).link,Z=w.deep_link_id?decodeURIComponent(w.deep_link_id):void 0;return Xe(Z).link||Z||A||v||I}(w);if(Z.includes("/__/auth/callback")){const Ee=Xe(Z),Ce=Ee.firebaseError?function Ci(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(Ee.firebaseError)):null,qe=null===(A=null===(v=Ce?.code)||void 0===v?void 0:v.split("auth/"))||void 0===A?void 0:A[1],Pt=qe?(0,N.aA)(qe):null;return Pt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:Z,postBody:null}}return null}(jn,xe.url)),v.onEvent(go||j())});return function(jn){return Lt.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,qe);const Pt=Z,ye=`${Ee.packageName.toLowerCase()}://`;Gt().handleOpenURL=function(){var Lt=(0,C.Z)(function*(xe){if(xe.toLowerCase().startsWith(ye)&&qe({url:xe}),"function"==typeof Pt)try{Pt(xe)}catch(jn){console.error(jn)}});return function(xe){return Lt.apply(this,arguments)}}()}};function j(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aA)("no-auth-event")}}function ge(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function _e(I=(0,Se.z$)()){return!("file:"!==ge()&&"ionic:"!==ge()&&"capacitor:"!==ge()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function sn(){try{const I=self.localStorage,w=N.aM();if(I)return I.setItem(w,"1"),I.removeItem(w),!function jt(I=(0,Se.z$)()){return function mt(){return(0,Se.w1)()&&11===document?.documentMode}()||function Yt(I=(0,Se.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,Se.hl)()}catch{return Ln()&&(0,Se.hl)()}return!1}function Ln(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Un(){return(function ot(){return"http:"===ge()||"https:"===ge()}()||(0,Se.ru)()||_e())&&!function Ve(){return(0,Se.b$)()||(0,Se.UG)()}()&&sn()&&!Ln()}function er(){return _e()&&typeof document<"u"}function Ti(){return(Ti=(0,C.Z)(function*(){return!!er()&&new Promise(I=>{const w=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(w),I(!0)})})})).apply(this,arguments)}const _t={LOCAL:"local",NONE:"none",SESSION:"session"},qi=N.aB,Gi="persistence";function Ai(I){return ar.apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(I){yield I._initializationPromise;const w=Kr(),v=N.aE(Gi,I.config.apiKey,I.name);w&&w.setItem(v,I._getPersistence())})).apply(this,arguments)}function Kr(){var I;try{return(null===(I=function zi(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const Qr=N.aB;class tr{constructor(){this.browserResolver=N.aD(N.k),this.cordovaResolver=N.aD(U),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aF,this._overrideRedirectResult=N.aG}_initialize(w){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(w)})()}_openPopup(w,v,A,Z){var Ee=this;return(0,C.Z)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._openPopup(w,v,A,Z)})()}_openRedirect(w,v,A,Z){var Ee=this;return(0,C.Z)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._openRedirect(w,v,A,Z)})()}_isIframeWebStorageSupported(w,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(w,v)}_originValidation(w){return this.assertedUnderlyingResolver._originValidation(w)}get _shouldInitProactively(){return er()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var w=this;return(0,C.Z)(function*(){if(w.underlyingResolver)return;const v=yield function Rr(){return Ti.apply(this,arguments)}();w.underlyingResolver=v?w.cordovaResolver:w.browserResolver})()}}function Nt(I){return I.unwrap()}function wn(I){return on(I)}function on(I){const{_tokenResponse:w}=I instanceof Se.ZR?I.customData:I;if(!w)return null;if(!(I instanceof Se.ZR)&&"temporaryProof"in w&&"phoneNumber"in w)return N.P.credentialFromResult(I);const v=w.providerId;if(!v||v===N.p.PASSWORD)return null;let A;switch(v){case N.p.GOOGLE:A=N.W;break;case N.p.FACEBOOK:A=N.V;break;case N.p.GITHUB:A=N.X;break;case N.p.TWITTER:A=N._;break;default:const{oauthIdToken:Z,oauthAccessToken:Ee,oauthTokenSecret:Ce,pendingToken:qe,nonce:Pt}=w;return Ee||Ce||Z||qe?qe?v.startsWith("saml.")?N.aP._create(v,qe):N.M._fromParams({providerId:v,signInMethod:v,pendingToken:qe,idToken:Z,accessToken:Ee}):new N.Y(v).credential({idToken:Z,accessToken:Ee,rawNonce:Pt}):null}return I instanceof Se.ZR?A.credentialFromError(I):A.credentialFromResult(I)}function Cn(I,w){return w.catch(v=>{throw v instanceof Se.ZR&&function eu(I,w){var v;const A=null===(v=w.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===w?.code)w.resolver=new Si(I,N.ar(I,w));else if(A){const Z=on(w),Ee=w;Z&&(Ee.credential=Z,Ee.tenantId=A.tenantId||void 0,Ee.email=A.email||void 0,Ee.phoneNumber=A.phoneNumber||void 0)}}(I,v),v}).then(v=>{const Z=v.user;return{operationType:v.operationType,credential:wn(v),additionalUserInfo:N.ap(v),user:Bn.getOrCreate(Z)}})}function Wi(I,w){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,C.Z)(function*(I,w){const v=yield w;return{verificationId:v.verificationId,confirm:A=>Cn(I,v.confirm(A))}})).apply(this,arguments)}class Si{constructor(w,v){this.resolver=v,this.auth=function Yr(I){return I.wrapped()}(w)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(w){return Cn(Nt(this.auth),this.resolver.resolveSignIn(w))}}class Bn{constructor(w){this._delegate=w,this.multiFactor=N.as(w)}static getOrCreate(w){return Bn.USER_MAP.has(w)||Bn.USER_MAP.set(w,new Bn(w)),Bn.USER_MAP.get(w)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(w){return this._delegate.getIdTokenResult(w)}getIdToken(w){return this._delegate.getIdToken(w)}linkAndRetrieveDataWithCredential(w){return this.linkWithCredential(w)}linkWithCredential(w){var v=this;return(0,C.Z)(function*(){return Cn(v.auth,N.a1(v._delegate,w))})()}linkWithPhoneNumber(w,v){var A=this;return(0,C.Z)(function*(){return Wi(A.auth,N.l(A._delegate,w,v))})()}linkWithPopup(w){var v=this;return(0,C.Z)(function*(){return Cn(v.auth,N.d(v._delegate,w,tr))})()}linkWithRedirect(w){var v=this;return(0,C.Z)(function*(){return yield Ai(N.aI(v.auth)),N.g(v._delegate,w,tr)})()}reauthenticateAndRetrieveDataWithCredential(w){return this.reauthenticateWithCredential(w)}reauthenticateWithCredential(w){var v=this;return(0,C.Z)(function*(){return Cn(v.auth,N.a2(v._delegate,w))})()}reauthenticateWithPhoneNumber(w,v){return Wi(this.auth,N.r(this._delegate,w,v))}reauthenticateWithPopup(w){return Cn(this.auth,N.e(this._delegate,w,tr))}reauthenticateWithRedirect(w){var v=this;return(0,C.Z)(function*(){return yield Ai(N.aI(v.auth)),N.h(v._delegate,w,tr)})()}sendEmailVerification(w){return N.af(this._delegate,w)}unlink(w){var v=this;return(0,C.Z)(function*(){return yield N.ao(v._delegate,w),v})()}updateEmail(w){return N.ak(this._delegate,w)}updatePassword(w){return N.al(this._delegate,w)}updatePhoneNumber(w){return N.u(this._delegate,w)}updateProfile(w){return N.aj(this._delegate,w)}verifyBeforeUpdateEmail(w,v){return N.ag(this._delegate,w,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const Sn=N.aB;let ur=(()=>{class I{constructor(v,A){if(this.app=v,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=v.options;Sn(Z,"invalid-api-key",{appName:v.name}),Sn(Z,"invalid-api-key",{appName:v.name});const Ee=typeof window<"u"?tr:void 0;this._delegate=A.initialize({options:{persistence:Zo(Z,v.name),popupRedirectResolver:Ee}}),this._delegate._updateErrorMap(N.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,A){N.J(this._delegate,v,A)}applyActionCode(v){return N.a6(this._delegate,v)}checkActionCode(v){return N.a7(this._delegate,v)}confirmPasswordReset(v,A){return N.a5(this._delegate,v,A)}createUserWithEmailAndPassword(v,A){var Z=this;return(0,C.Z)(function*(){return Cn(Z._delegate,N.a9(Z._delegate,v,A))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return N.ae(this._delegate,v)}isSignInWithEmailLink(v){return N.ac(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){Sn(Un(),v._delegate,"operation-not-supported-in-this-environment");const A=yield N.j(v._delegate,tr);return A?Cn(v._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function H(I,w){(0,N.aI)(I)._logFramework(w)}(this._delegate,v)}onAuthStateChanged(v,A,Z){const{next:Ee,error:Ce,complete:qe}=Jr(v,A,Z);return this._delegate.onAuthStateChanged(Ee,Ce,qe)}onIdTokenChanged(v,A,Z){const{next:Ee,error:Ce,complete:qe}=Jr(v,A,Z);return this._delegate.onIdTokenChanged(Ee,Ce,qe)}sendSignInLinkToEmail(v,A){return N.ab(this._delegate,v,A)}sendPasswordResetEmail(v,A){return N.a4(this._delegate,v,A||void 0)}setPersistence(v){var A=this;return(0,C.Z)(function*(){let Z;switch(function bi(I,w){qi(Object.values(_t).includes(w),I,"invalid-persistence-type"),(0,Se.b$)()?qi(w!==_t.SESSION,I,"unsupported-persistence-type"):(0,Se.UG)()?qi(w===_t.NONE,I,"unsupported-persistence-type"):Ln()?qi(w===_t.NONE||w===_t.LOCAL&&(0,Se.hl)(),I,"unsupported-persistence-type"):qi(w===_t.NONE||sn(),I,"unsupported-persistence-type")}(A._delegate,v),v){case _t.SESSION:Z=N.a;break;case _t.LOCAL:Z=(yield N.aD(N.i)._isAvailable())?N.i:N.b;break;case _t.NONE:Z=N.Q;break;default:return N.aw("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Cn(this._delegate,N.$(this._delegate))}signInWithCredential(v){return Cn(this._delegate,N.a0(this._delegate,v))}signInWithCustomToken(v){return Cn(this._delegate,N.a3(this._delegate,v))}signInWithEmailAndPassword(v,A){return Cn(this._delegate,N.aa(this._delegate,v,A))}signInWithEmailLink(v,A){return Cn(this._delegate,N.ad(this._delegate,v,A))}signInWithPhoneNumber(v,A){return Wi(this._delegate,N.s(this._delegate,v,A))}signInWithPopup(v){var A=this;return(0,C.Z)(function*(){return Sn(Un(),A._delegate,"operation-not-supported-in-this-environment"),Cn(A._delegate,N.c(A._delegate,v,tr))})()}signInWithRedirect(v){var A=this;return(0,C.Z)(function*(){return Sn(Un(),A._delegate,"operation-not-supported-in-this-environment"),yield Ai(A._delegate),N.f(A._delegate,v,tr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return N.a8(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=_t,I})();function Jr(I,w,v){let A=I;"function"!=typeof I&&({next:A,error:w,complete:v}=I);const Z=A;return{next:Ce=>Z(Ce&&Bn.getOrCreate(Ce)),error:w,complete:v}}function Zo(I,w){const v=function Zr(I,w){const v=Kr();if(!v)return[];const A=N.aE(Gi,I,w);switch(v.getItem(A)){case _t.NONE:return[N.Q];case _t.LOCAL:return[N.i,N.a];case _t.SESSION:return[N.a];default:return[]}}(I,w);if(typeof self<"u"&&!v.includes(N.i)&&v.push(N.i),typeof window<"u")for(const A of[N.b,N.a])v.includes(A)||v.push(A);return v.includes(N.Q)||v.push(N.Q),v}class xs{constructor(){this.providerId="phone",this._delegate=new N.P(Nt($.Z.auth()))}static credential(w,v){return N.P.credential(w,v)}verifyPhoneNumber(w,v){return this._delegate.verifyPhoneNumber(w,v)}unwrap(){return this._delegate}}xs.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,xs.PROVIDER_ID=N.P.PROVIDER_ID;const po=N.aB;class Ki{constructor(w,v,A=$.Z.app()){var Z;po(null===(Z=A.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new N.R(A.auth(),w,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function T(I){I.INTERNAL.registerComponent(new In.wA("auth-compat",w=>{const v=w.getProvider("app-compat").getImmediate(),A=w.getProvider("auth");return new ur(v,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.U,FacebookAuthProvider:N.V,GithubAuthProvider:N.X,GoogleAuthProvider:N.W,OAuthProvider:N.Y,SAMLAuthProvider:N.Z,PhoneAuthProvider:xs,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Ki,TwitterAuthProvider:N._,Auth:ur,AuthCredential:N.K,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.8")}($.Z)},861:(Hi,kn,Fe)=>{function C(N,Se,wt,rn,In,Gt,gt){try{var Y=N[Gt](gt),se=Y.value}catch(Ae){return void wt(Ae)}Y.done?Se(se):Promise.resolve(se).then(rn,In)}function $(N){return function(){var Se=this,wt=arguments;return new Promise(function(rn,In){var Gt=N.apply(Se,wt);function gt(se){C(Gt,rn,In,gt,Y,"next",se)}function Y(se){C(Gt,rn,In,gt,Y,"throw",se)}gt(void 0)})}}Fe.d(kn,{Z:()=>$})},582:(Hi,kn,Fe)=>{function Se(U,j){var H={};for(var L in U)Object.prototype.hasOwnProperty.call(U,L)&&j.indexOf(L)<0&&(H[L]=U[L]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(L=Object.getOwnPropertySymbols(U);X<L.length;X++)j.indexOf(L[X])<0&&Object.prototype.propertyIsEnumerable.call(U,L[X])&&(H[L[X]]=U[L[X]])}return H}function Ae(U,j,H,L){return new(H||(H=Promise))(function(J,ge){function ot(mt){try{Ve(L.next(mt))}catch(Yt){ge(Yt)}}function _e(mt){try{Ve(L.throw(mt))}catch(Yt){ge(Yt)}}function Ve(mt){mt.done?J(mt.value):function X(J){return J instanceof H?J:new H(function(ge){ge(J)})}(mt.value).then(ot,_e)}Ve((L=L.apply(U,j||[])).next())})}function at(U){return this instanceof at?(this.v=U,this):new at(U)}function xt(U,j,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,L=H.apply(U,j||[]),J=[];return X={},ge("next"),ge("throw"),ge("return"),X[Symbol.asyncIterator]=function(){return this},X;function ge(jt){L[jt]&&(X[jt]=function(sn){return new Promise(function(Ln,Un){J.push([jt,sn,Ln,Un])>1||ot(jt,sn)})})}function ot(jt,sn){try{!function _e(jt){jt.value instanceof at?Promise.resolve(jt.value.v).then(Ve,mt):Yt(J[0][2],jt)}(L[jt](sn))}catch(Ln){Yt(J[0][3],Ln)}}function Ve(jt){ot("next",jt)}function mt(jt){ot("throw",jt)}function Yt(jt,sn){jt(sn),J.shift(),J.length&&ot(J[0][0],J[0][1])}}function An(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,j=U[Symbol.asyncIterator];return j?j.call(U):(U=function lt(U){var j="function"==typeof Symbol&&Symbol.iterator,H=j&&U[j],L=0;if(H)return H.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&L>=U.length&&(U=void 0),{value:U&&U[L++],done:!U}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),H={},L("next"),L("throw"),L("return"),H[Symbol.asyncIterator]=function(){return this},H);function L(J){H[J]=U[J]&&function(ge){return new Promise(function(ot,_e){!function X(J,ge,ot,_e){Promise.resolve(_e).then(function(Ve){J({value:Ve,done:ot})},ge)}(ot,_e,(ge=U[J](ge)).done,ge.value)})}}}Fe.d(kn,{FC:()=>xt,KL:()=>An,_T:()=>Se,mG:()=>Ae,qq:()=>at}),"function"==typeof SuppressedError&&SuppressedError}},Hi=>{Hi(Hi.s=729)}]);